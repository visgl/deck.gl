/*! For license information please see component---src-examples-tile-3-d-layer-js-a37f7400e5929a0c8194.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"+TUu":function(t,e,n){var r;!function(i,a,o,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=a.createElement("div"),f=Math.round,p=Math.abs,h=Date.now;function d(t,e,n){return setTimeout(B(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(b(t,n[e],n),!0)}function b(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var m=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),A=y((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function g(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function B(t,e){return function(){return t.apply(e,arguments)}}function O(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function E(t,e,n){b(D(e),(function(e){t.addEventListener(e,n,!1)}))}function w(t,e,n){b(D(e),(function(e){t.removeEventListener(e,n,!1)}))}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function j(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function S(t){return Array.prototype.slice.call(t,0)}function T(t,e,n){for(var r=[],i=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];I(i,o)<0&&r.push(t[a]),i[a]=o,a++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),a=0;a<u.length;){if((r=(n=u[a])?n+i:e)in t)return r;a++}}var M=1;function x(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var R="ontouchstart"in i,F=void 0!==P(i,"PointerEvent"),G=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),k=["x","y"],U=["clientX","clientY"];function H(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){O(t.options.enable,[t])&&n.handler(e)},this.init()}function L(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,a=1&e&&r-i==0,o=12&e&&r-i==0;n.isFirst=!!a,n.isFinal=!!o,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=J(e));i>1&&!n.firstMultiple?n.firstMultiple=J(e):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,c=e.center=N(r);e.timeStamp=h(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=V(s,c),e.distance=Q(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};1!==e.eventType&&4!==a.eventType||(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=X(e.deltaX,e.deltaY);var u=K(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=p(u.x)>p(u.y)?u.x:u.y,e.scale=o?(l=o.pointers,f=r,Q(f[0],f[1],U)/Q(l[0],l[1],U)):1,e.rotation=o?function(t,e){return V(e[1],e[0],U)+V(t[1],t[0],U)}(o.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,a,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(s>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,l=K(s,c,u);r=l.x,i=l.y,n=p(l.x)>p(l.y)?l.x:l.y,a=X(c,u),t.lastInterval=e}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=a}(n,e);var l,f;var d=t.element;_(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function J(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function K(t,e,n){return{x:e/t||0,y:n/t||0}}function X(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function Q(t,e,n){n||(n=k);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function V(t,e,n){n||(n=k);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(x(this.element),this.evWin,this.domHandler)}};var z={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}g(Y,H,{handler:function(t){var e=z[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},W={2:"touch",3:"pen",4:"mouse",5:"kinect"},q="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=q,this.evWin=$,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(q="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),g(tt,H,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Z[r],a=W[t.pointerType]||t.pointerType,o="touch"==a,s=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function rt(t,e){var n=S(t.touches),r=S(t.changedTouches);return 12&e&&(n=T(n.concat(r),"identifier",!0)),[n,r]}g(nt,H,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function ot(t,e){var n=S(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=S(t.changedTouches),s=[],c=this.target;if(a=n.filter((function(t){return _(t.target,c)})),1===e)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),12&e&&delete r[o[i].identifier],i++;return s.length?[T(a.concat(s),"identifier",!0),s]:void 0}g(at,H,{handler:function(t){var e=it[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){H.apply(this,arguments);var t=B(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(e-i.x),o=Math.abs(n-i.y);if(a<=25&&o<=25)return!0}return!1}g(st,H,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ct.call(this,e,n);else if(i&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ft=P(l.style,"touchAction"),pt=void 0!==ft,ht=function(){if(!pt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),pt&&this.manager.element.style&&ht[t]&&(this.manager.element.style[ft]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return b(this.manager.recognizers,(function(e){O(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(j(t,"none"))return"none";var e=j(t,"pan-x"),n=j(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(j(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=j(r,"none")&&!ht.none,a=j(r,"pan-y")&&!ht["pan-y"],o=j(r,"pan-x")&&!ht["pan-x"];if(i){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}if(!o||!a)return i||a&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function vt(t){this.options=c({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function bt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function mt(t,e){var n=e.manager;return n?n.get(t):t}function At(){vt.apply(this,arguments)}function gt(){At.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){At.apply(this,arguments)}function Ot(){vt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){At.apply(this,arguments)}function Et(){At.apply(this,arguments)}function wt(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _t(t,e){return(e=e||{}).recognizers=C(e.recognizers,_t.defaults.preset),new jt(t,e)}vt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=mt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+bt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+bt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!O(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(At,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),g(gt,At,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,a=t.deltaX,o=t.deltaY;return i&e.direction||(6&e.direction?(i=0===a?1:a<0?2:4,n=a!=this.pX,r=Math.abs(t.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return At.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g(Bt,At,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(Ot,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),g(Ct,At,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),g(Et,At,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(wt,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[Bt,{enable:!1},["rotate"]],[Et,{direction:6}],[gt,{direction:6},["swipe"]],[wt],[wt,{event:"doubletap",taps:2},["tap"]],[Ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function jt(t,e){var n;this.options=c({},_t.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?tt:G?at:R?st:Y))(n,L),this.touchAction=new dt(this,this.options.touchAction),Dt(this,!0),b(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Dt(t,e){var n,r=t.element;r.style&&(b(t.options.cssProps,(function(i,a){n=P(r.style,a),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}jt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),a++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return b(D(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return b(D(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(_t,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:jt,Input:H,TouchAction:dt,TouchInput:at,MouseInput:Y,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:At,Tap:wt,Pan:gt,Swipe:Et,Pinch:Bt,Rotate:Ct,Press:Ot,on:E,off:w,each:b,merge:A,extend:m,assign:c,inherit:g,bindFn:B,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=_t,void 0===(r=function(){return _t}.call(e,n,e,t))||(t.exports=r)}(window,document)},16:function(t,e){},"5zO3":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var r=n("1OyB"),i=n("vuIU"),a=n("rePB"),o=n("BHO1"),s=n("oJR1"),c=n("X4Q+");var u={container:o.object,gl:o.object,mapboxApiAccessToken:o.string,mapboxApiUrl:o.string,attributionControl:o.bool,preserveDrawingBuffer:o.bool,reuseMaps:o.bool,transformRequest:o.func,mapOptions:o.object,mapStyle:o.oneOfType([o.string,o.object]),preventStyleDiffing:o.bool,visible:o.bool,asyncRender:o.bool,onLoad:o.func,onError:o.func,width:o.number,height:o.number,viewState:o.object,longitude:o.number,latitude:o.number,zoom:o.number,bearing:o.number,pitch:o.number,altitude:o.number},l={container:s.a.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!=typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||void 0===t||(e=e||"pk.eyJ1IjoidWNmLW1hcGJveCIsImEiOiJja2tyNHQzdnIzYmNnMndwZGI3djNzdjVyIn0.xgCXV9mLZ47q7easx6WLCQ");return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&o.checkPropTypes(u,t,"prop",e)}var p=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(a.a)(this,"props",l),Object(a.a)(this,"width",0),Object(a.a)(this,"height",0),Object(a.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),Object(a.a)(this,"_handleError",(function(t){n.props.onError(t)})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:Object(c.a)(e.mapStyle),interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",this._fireLoadEvent),this._map.on("error",this._handleError)}return this}},{key:"_destroy",value:function(){this._map&&(this.props.reuseMaps&&!t.savedMap?(t.savedMap=this._map,this._map.off("load",this._fireLoadEvent),this._map.off("error",this._handleError),this._map.off("styledata",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:"_initialize",value:function(t){var e=this;f(t=Object.assign({},l,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{configurable:!0,get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{configurable:!0,get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{configurable:!0,get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{configurable:!0,get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){f(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);this._updateMapStyle(t,e),e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapStyle",value:function(t,e){t.mapStyle!==e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!e.preventStyleDiffing})}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this._map.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,a=e.pitch,o=void 0===a?0:a,s=e.bearing,c=void 0===s?0:s,u=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:o,bearing:c,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==s.a)try{var e=s.a.createElement("div");e.className="mapboxgl-map",e.style.display="none",s.a.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=s.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),s.a.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(a.a)(p,"initialized",!1),Object(a.a)(p,"propTypes",u),Object(a.a)(p,"defaultProps",l),Object(a.a)(p,"savedMap",null)}).call(this,n("8oxB"))},"9Nty":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"name",(function(){return Ho})),n.d(r,"decode",(function(){return Lo}));var i={};n.r(i),n.d(i,"name",(function(){return zo})),n.d(i,"preprocess",(function(){return Yo}));var a={};n.r(a),n.d(a,"name",(function(){return qo})),n.d(a,"preprocess",(function(){return $o}));var o={};n.r(o),n.d(o,"name",(function(){return ss})),n.d(o,"preprocess",(function(){return cs})),n.d(o,"decode",(function(){return us})),n.d(o,"encode",(function(){return fs}));var s={};n.r(s),n.d(s,"name",(function(){return Os})),n.d(s,"decode",(function(){return _s}));var c={};n.r(c),n.d(c,"name",(function(){return Ms})),n.d(c,"decode",(function(){return xs})),n.d(c,"encode",(function(){return Fs}));var u={};n.r(u),n.d(u,"name",(function(){return Hs})),n.d(u,"decode",(function(){return Ls})),n.d(u,"encode",(function(){return Ns}));var l={};n.r(l),n.d(l,"name",(function(){return Qs})),n.d(l,"decode",(function(){return Vs})),n.d(l,"encode",(function(){return Ys}));var f={};n.r(f),n.d(f,"name",(function(){return $s})),n.d(f,"decode",(function(){return tc}));var p=n("dI71"),h=n("q1tI"),d=n.n(h),v=n("lxDd"),b=n("rePB"),y=(n("i8i4"),n("wx14")),m=n("KQm4"),A=n("BHO1"),g=n("ODXe"),B=n("R25c"),O=n("D9qG"),C=n("5zO3"),E=n("kZXF"),w=n.n(E),_=n("1OyB"),j=n("vuIU");function D(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function I(t,e){if(t===e)return!0;if(D(t)&&D(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!I(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function S(t,e,n){return Math.max(e,Math.min(n,t))}function T(t,e,n){return D(t)?t.map((function(t,r){return T(t,e[r],n)})):n*e+(1-n)*t}function P(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},F=0,G=0,k=1.5,U=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,a=e.longitude,o=e.zoom,s=e.bearing,c=void 0===s?G:s,u=e.pitch,l=void 0===u?F:u,f=e.altitude,p=void 0===f?k:f,h=e.maxZoom,d=void 0===h?R.maxZoom:h,v=e.minZoom,b=void 0===v?R.minZoom:v,y=e.maxPitch,m=void 0===y?R.maxPitch:y,A=e.minPitch,g=void 0===A?R.minPitch:A,B=e.transitionDuration,O=e.transitionEasing,C=e.transitionInterpolator,E=e.transitionInterruption,w=e.startPanLngLat,j=e.startZoomLngLat,D=e.startRotatePos,I=e.startBearing,S=e.startPitch,T=e.startZoom;Object(_.a)(this,t),P(Number.isFinite(n),"`width` must be supplied"),P(Number.isFinite(r),"`height` must be supplied"),P(Number.isFinite(a),"`longitude` must be supplied"),P(Number.isFinite(i),"`latitude` must be supplied"),P(Number.isFinite(o),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:a,zoom:o,bearing:c,pitch:l,altitude:p,maxZoom:d,minZoom:b,maxPitch:m,minPitch:g,transitionDuration:B,transitionEasing:O,transitionInterpolator:C,transitionInterruption:E}),this._state={startPanLngLat:w,startZoomLngLat:j,startRotatePos:D,startBearing:I,startPitch:S,startZoom:T}}return Object(j.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),a=Object(g.a)(i,2),o=a[0],s=a[1];return this._getUpdatedMapState({longitude:o,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e,n=t.pos,r=t.deltaAngleX,i=void 0===r?0:r,a=t.deltaAngleY,o=void 0===a?0:a,s=this._state,c=s.startRotatePos,u=s.startBearing,l=s.startPitch;return Number.isFinite(u)&&Number.isFinite(l)?(e=n?this._calculateNewPitchAndBearing(x(x({},this._getRotationParams(n,c)),{},{startBearing:u,startPitch:l})):{bearing:u+i,pitch:l+o},this._getUpdatedMapState(e)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;P(r>0,"`scale` must be a positive number");var i=this._state,a=i.startZoom,o=i.startZoomLngLat;Number.isFinite(a)||(a=this._viewportProps.zoom,o=this._unproject(n)||this._unproject(e)),P(o,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:a||0}),c=new B.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:o,pos:e}),u=Object(g.a)(c,2),l=u[0],f=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._state,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=S(r,n,e);var i=t.maxPitch,a=t.minPitch,o=t.pitch;return t.pitch=S(o,a,i),Object.assign(t,Object(B.n)(t)),t}},{key:"_unproject",value:function(t){var e=new B.a(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new B.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,a=r.minZoom;return S(n+Math.log2(e),a,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=S(n,-1,1);var a=this._viewportProps,o=a.minPitch,s=a.maxPitch,c=i;return n>0?c=i+n*(s-i):n<0&&(c=i-n*(o-i)),{pitch:c,bearing:r+180*e}}},{key:"_getRotationParams",value:function(t,e){var n=t[0]-e[0],r=t[1]-e[1],i=t[1],a=e[1],o=this._viewportProps,s=o.width,c=o.height,u=n/s,l=0;return r>0?Math.abs(c-a)>5&&(l=r/(a-c)*1.2):r<0&&a>5&&(l=1-i/a),{deltaScaleX:u,deltaScaleY:l=Math.min(1,Math.max(-1,l))}}}]),t}();function H(t){return t[0].toLowerCase()+t.slice(1)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N=Object(h.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),K=N.Provider;N.Provider=function(t){var e=t.value,n=t.children,r=Object(h.useState)(null),i=Object(g.a)(r,2),a=i[0],o=i[1],s=Object(h.useContext)(N);return e=J(J({setMap:o},s),{},{map:s&&s.map||a},e),h.createElement(K,{value:e},n)};var X=N,Q="undefined"!=typeof window?h.useLayoutEffect:h.useEffect;function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Y="A valid API access token is required to use Mapbox data";function Z(t){var e=t.props,n=t.width,r=t.height;return new B.a(z(z(z({},e),e.viewState),{},{width:n,height:r}))}var W={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},q=Object.assign({},C.a.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:R});function $(){return h.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},h.createElement("h3",{key:"header"},Y),h.createElement("div",{key:"text"},"For information on setting up your basemap, read"),h.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}var tt=Object(h.forwardRef)((function(t,e){var n=Object(h.useState)(!0),r=Object(g.a)(n,2),i=r[0],a=r[1],o=Object(h.useState)({width:0,height:0}),s=Object(g.a)(o,2),c=s[0],u=s[1],l=Object(h.useRef)(null),f=Object(h.useRef)(null),p=Object(h.useRef)(null),d=Object(h.useRef)(null),v=Object(h.useContext)(X);Q((function(){if(tt.supported()){var e=new C.a(z(z(z({},t),c),{},{mapboxgl:w.a,container:f.current,onError:function(e){401===(e.error&&e.error.status||e.status)&&i&&(console.error(Y),a(!1)),t.onError(e)}}));l.current=e,v&&v.setMap&&v.setMap(e.getMap());var n=new O.a((function(e){if(e[0].contentRect){var n=e[0].contentRect,r=n.width,i=n.height;u({width:r,height:i}),t.onResize({width:r,height:i})}}));return n.observe(p.current),function(){e.finalize(),l.current=null,n.disconnect()}}}),[]),Q((function(){l.current&&l.current.setProps(z(z({},t),c))}));var b=l.current&&l.current.getMap();Object(h.useImperativeHandle)(e,(function(){return function(t){return{getMap:function(){return t.current&&t.current.getMap()},queryRenderedFeatures:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.current&&t.current.getMap();return r&&r.queryRenderedFeatures(e,n)}}}(l)}),[]);var y=Object(h.useCallback)((function(t){var e=t.target;e===d.current&&e.scrollTo(0,0)}),[]),m=b&&h.createElement(K,{value:z(z({},v),{},{viewport:v.viewport||Z(z({map:b,props:t},c)),map:b,container:v.container||p.current})},h.createElement("div",{key:"map-overlays",className:"overlays",ref:d,style:W,onScroll:y},t.children)),A=t.className,B=t.width,E=t.height,_=t.style,j=t.visibilityConstraints,D=Object.assign({position:"relative"},_,{width:B,height:E}),I=t.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;for(var n in e){var r=n.slice(0,3),i=H(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(t.viewState||t,j),S=Object.assign({},W,{visibility:I?"inherit":"hidden"});return h.createElement("div",{key:"map-container",ref:p,style:D},h.createElement("div",{key:"map-mapbox",ref:f,style:S,className:A}),m,!i&&!t.disableTokenWarning&&h.createElement($,null))}));tt.supported=function(){return w.a&&w.a.supported()},tt.defaultProps=q;var et=tt;function nt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var it=function(){function t(){Object(_.a)(this,t),Object(b.a)(this,"propNames",[])}return Object(j.a)(t,[{key:"arePropsEqual",value:function(t,e){var n,r=nt(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!I(t[i],e[i]))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){P(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),at=n("JX7q"),ot=n("Ji7U"),st=n("md7G"),ct=n("foSv"),ut={longitude:1,bearing:1};function lt(t){return Number.isFinite(t)||Array.isArray(t)}function ft(t,e,n){return function(t){return t in ut}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function pt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var vt=["longitude","latitude","zoom","bearing","pitch"],bt=["latitude","longitude","zoom","width","height"],yt=["bearing","pitch"],mt={speed:1.2,curve:1.414};!function(t){Object(ot.a)(n,t);var e=dt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_.a)(this,n),t=e.call(this),Object(b.a)(Object(at.a)(t),"propNames",vt),t.props=Object.assign({},mt,r),t}Object(j.a)(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},a=pt(bt);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t[o],c=e[o];P(lt(s)&&lt(c),"".concat(o," must be supplied for transition")),r[o]=s,i[o]=ft(o,s,c)}}catch(d){a.e(d)}finally{a.f()}var u,l=pt(yt);try{for(l.s();!(u=l.n()).done;){var f=u.value,p=t[f]||0,h=e[f]||0;r[f]=p,i[f]=ft(f,p,h)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=Object(B.e)(t,e,n,this.props),a=pt(yt);try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=T(t[o],e[o],n)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=Object(B.i)(t,e,this.props)),n}}])}(it);function At(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var Ot=["longitude","latitude","zoom","bearing","pitch"],Ct=function(t){Object(ot.a)(n,t);var e=Bt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_.a)(this,n),t=e.call(this),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||Ot,r.around&&(t.around=r.around),t}return Object(j.a)(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new B.a(t).unproject(this.around);Object.assign(r,e,{around:new B.a(e).project(i),aroundLngLat:i})}var a,o=At(this.propNames);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=t[s],u=e[s];P(lt(c)&&lt(u),"".concat(s," must be supplied for transition")),n[s]=c,r[s]=ft(s,c,u)}}catch(l){o.e(l)}finally{o.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},a=At(this.propNames);try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=T(t[o],e[o],n)}}catch(f){a.e(f)}finally{a.f()}if(e.around){var s=new B.a(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:T(t.around,e.around,n)}),c=Object(g.a)(s,2),u=c[0],l=c[1];i.longitude=u,i.latitude=l}return i}}]),n}(it),Et=function(){};var wt=1,_t=2,jt=3,Dt=4,It={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new Ct,transitionInterruption:wt,onTransitionStart:Et,onTransitionInterrupt:Et,onTransitionEnd:Et},St=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(_.a)(this,t),Object(b.a)(this,"_animationFrame",null),Object(b.a)(this,"_onTransitionFrame",(function(){e._animationFrame=requestAnimationFrame(e._onTransitionFrame),e._updateViewport()})),this.props=null,this.onViewportChange=n.onViewportChange||Et,this.onStateChange=n.onStateChange||Et,this.time=n.getTime||Date.now}return Object(j.a)(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,!e||this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===_t?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Dt)){var i=this.time(),a=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,a),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===jt||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){P(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),a={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(a)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,a=e.interpolator,o=e.startProps,s=e.endProps,c=!1,u=(t-n)/r;u>=1&&(u=1,c=!0),u=i(u);var l=a.interpolateProps(o,s,u),f=new U(Object.assign({},this.props,l));this.state.propsInTransition=f.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),c&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(b.a)(St,"defaultProps",It);var Tt,Pt,Mt=n("+TUu"),xt={mousedown:1,mousemove:2,mouseup:4};Tt=Mt.PointerEventInput,Pt=Tt.prototype.handler,Tt.prototype.handler=function(t){var e=this.store;t.button>0&&"pointerdown"===t.type&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Pt.call(this,t)},Mt.MouseInput.prototype.handler=function(t){var e=xt[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var Rt=Mt.Manager,Ft=Mt;function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var kt=function t(e,n,r){Object(_.a)(this,t),this.element=e,this.callback=n,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({enable:!0},r)},Ut=Ft?[[Ft.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Ft.Rotate,{enable:!1}],[Ft.Pinch,{enable:!1}],[Ft.Swipe,{enable:!1}],[Ft.Pan,{threshold:0,enable:!1}],[Ft.Press,{enable:!1}],[Ft.Tap,{event:"doubletap",taps:2,enable:!1}],[Ft.Tap,{event:"anytap",enable:!1}],[Ft.Tap,{enable:!1}]]:null,Ht={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Lt={doubletap:["tap"]},Jt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Nt=["keydown","keyup"],Kt=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],Xt=["wheel","mousewheel"],Qt={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Vt={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},zt=n("q8n8");function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var Zt=-1!==zt.b.indexOf("firefox"),Wt=Xt,qt=function(t){Object(ot.a)(n,t);var e=Yt(n);function n(t,r,i){var a;return Object(_.a)(this,n),(a=e.call(this,t,r,i)).handleEvent=function(t){if(a.options.enable){var e=t.deltaY;zt.c.WheelEvent&&(Zt&&t.deltaMode===zt.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=zt.c.devicePixelRatio),t.deltaMode===zt.c.WheelEvent.DOM_DELTA_LINE&&(e*=40)),0!==e&&e%4.000244140625==0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),a.callback({type:"wheel",center:{x:t.clientX,y:t.clientY},delta:-e,srcEvent:t,pointerType:"mouse",target:t.target})}},a.events=(a.options.events||[]).concat(Wt),a.events.forEach((function(e){return t.addEventListener(e,a.handleEvent,!!zt.a&&{passive:!1})})),a}return Object(j.a)(n,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}}]),n}(kt);function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var te=Kt,ee=function(t){Object(ot.a)(n,t);var e=$t(n);function n(t,r,i){var a;Object(_.a)(this,n),(a=e.call(this,t,r,i)).handleEvent=function(t){a.handleOverEvent(t),a.handleOutEvent(t),a.handleEnterEvent(t),a.handleLeaveEvent(t),a.handleMoveEvent(t)},a.pressed=!1;var o=a.options.enable;return a.enableMoveEvent=o,a.enableLeaveEvent=o,a.enableEnterEvent=o,a.enableOutEvent=o,a.enableOverEvent=o,a.events=(a.options.events||[]).concat(te),a.events.forEach((function(e){return t.addEventListener(e,a.handleEvent)})),a}return Object(j.a)(n,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerover"===t&&(this.enableOverEvent=e),"pointerout"===t&&(this.enableOutEvent=e),"pointerenter"===t&&(this.enableEnterEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this._emit("pointerover",t)}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this._emit("pointerout",t)}},{key:"handleEnterEvent",value:function(t){this.enableEnterEvent&&"mouseenter"===t.type&&this._emit("pointerenter",t)}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this._emit("pointerleave",t)}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this._emit("pointermove",t);break;case"mouseup":this.pressed=!1}}},{key:"_emit",value:function(t,e){this.callback({type:t,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),n}(kt);function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var re=Nt,ie=function(t){Object(ot.a)(n,t);var e=ne(n);function n(t,r,i){var a;return Object(_.a)(this,n),(a=e.call(this,t,r,i)).handleEvent=function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(a.enableDownEvent&&"keydown"===t.type&&a.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),a.enableUpEvent&&"keyup"===t.type&&a.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))},a.enableDownEvent=a.options.enable,a.enableUpEvent=a.options.enable,a.events=(a.options.events||[]).concat(re),t.tabIndex=a.options.tabIndex||0,t.style.outline="none",a.events.forEach((function(e){return t.addEventListener(e,a.handleEvent)})),a}return Object(j.a)(n,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}}]),n}(kt);function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}var oe=function(t){Object(ot.a)(n,t);var e=ae(n);function n(t,r,i){var a;return Object(_.a)(this,n),(a=e.call(this,t,r,i)).handleEvent=function(t){a.options.enable&&a.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})},t.addEventListener("contextmenu",a.handleEvent),a}return Object(j.a)(n,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){"contextmenu"===t&&(this.options.enable=e)}}]),n}(kt),se={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var le={srcElement:"root",priority:0},fe=function(){function t(e){var n=this;Object(_.a)(this,t),this.handleEvent=function(t){if(!n.isEmpty()){for(var e=n._normalizeEvent(t),r=t.srcEvent.target;r&&r!==e.rootElement;){if(n._emit(e,r),e.handled)return;r=r.parentNode}n._emit(e,"root")}},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}return Object(j.a)(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.handlers,o=this.handlersByElement,s=le;"string"==typeof n||n&&n.addEventListener?s=ue(ue({},le),{},{srcElement:n}):n&&(s=ue(ue({},le),n));var c=o.get(s.srcElement);c||(c=[],o.set(s.srcElement,c));var u={type:t,handler:e,srcElement:s.srcElement,priority:s.priority};r&&(u.once=!0),i&&(u.passive=!0),a.push(u),this._active=this._active||!u.passive;for(var l=c.length-1;l>=0&&!(c[l].priority>=u.priority);)l--;c.splice(l+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var a=n[i];if(a.type===t&&a.handler===e){n.splice(i,1);var o=r.get(a.srcElement);o.splice(o.indexOf(a),1),0===o.length&&r.delete(a.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},a=function(){t.handled=!0,r=!0},o=[],s=0;s<n.length;s++){var c=n[s],u=c.type,l=c.handler,f=c.once;if(l(ue(ue({},t),{},{type:u,stopPropagation:i,stopImmediatePropagation:a})),f&&o.push(n[s]),r)break}for(var p=0;p<o.length;p++){var h=o[p],d=h.type,v=h.handler;this.remove(d,v)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.getElement();return ue(ue(ue(ue({},t),function(t){var e=se[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,a=n.which,o=!1,s=!1,c=!1;return 4===e||2===e&&!Number.isFinite(r)?(o=1===a,s=2===a,c=3===a):2===e?(o=Boolean(1&r),s=Boolean(4&r),c=Boolean(2&r)):1===e&&(o=0===i,s=1===i,c=2===i),{leftButton:o,middleButton:s,rightButton:c}}(t)),function(t,e){var n=t.center;if(!n)return null;var r=e.getBoundingClientRect(),i=r.width/e.offsetWidth||1,a=r.height/e.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-e.clientLeft)/i,y:(n.y-r.top-e.clientTop)/a}}}(t,e)),{},{preventDefault:function(){t.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:e})}}]),t}();function pe(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return he(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var be={events:null,recognizers:null,recognizerOptions:{},Manager:Rt,touchAction:"none",tabIndex:0},ye=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;Object(_.a)(this,t),this._onBasicInput=function(t){var n=t.srcEvent,r=Jt[n.type];r&&e.manager.emit(r,t)},this._onOtherEvent=function(t){e.manager.emit(t.type,t)},this.options=ve(ve({},be),r),this.events=new Map,this.setElement(n);var i=this.options.events;i&&this.on(i)}return Object(j.a)(t,[{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Ut}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Ht).forEach((function(t){var n=e.manager.get(t);n&&Ht[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var a=this.manager.get(i);if(a){var o=n.recognizerOptions[i];delete o.enable,a.set(o)}}this.wheelInput=new qt(t,this._onOtherEvent,{enable:!1}),this.moveInput=new ee(t,this._onOtherEvent,{enable:!1}),this.keyInput=new ie(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new oe(t,this._onOtherEvent,{enable:!1});var s,c=pe(this.events);try{for(c.s();!(s=c.n()).done;){var u=Object(g.a)(s.value,2),l=u[0],f=u[1];f.isEmpty()||(this._toggleRecognizer(f.recognizerName,!0),this.manager.on(l,f.handleEvent))}}catch(p){c.e(p)}finally{c.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Lt[t];i&&!this.options.recognizers&&i.forEach((function(i){var a=n.get(i);e?(a.requireFailure(t),r.dropRequireFailure(i)):a.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"==typeof t){var a=this.manager,o=this.events,s=Vt[t]||t,c=o.get(s);c||(c=new fe(this),o.set(s,c),c.recognizerName=Qt[s]||s,a&&a.on(s,c.handleEvent)),c.add(t,e,n,r,i),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}else for(var u in n=e,t)this._addEventHandler(u,t[u],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=Vt[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var a,o=i.recognizerName,s=!1,c=pe(n.values());try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.recognizerName===o&&!u.isEmpty()){s=!0;break}}}catch(f){c.e(f)}finally{c.f()}s||this._toggleRecognizer(o,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}}]),t}();function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ge={transitionDuration:0},Be={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new Ct,transitionInterruption:wt},Oe=function(t){return 1-(1-t)*(1-t)},Ce=["wheel"],Ee=["panstart","panmove","panend"],we=["pinchstart","pinchmove","pinchend"],_e=["tripanstart","tripanmove","tripanend"],je=["doubletap"],De=["keydown"],Ie=function(){function t(){var e=this;Object(_.a)(this,t),Object(b.a)(this,"events",[]),Object(b.a)(this,"scrollZoom",!0),Object(b.a)(this,"dragPan",!0),Object(b.a)(this,"dragRotate",!0),Object(b.a)(this,"doubleClickZoom",!0),Object(b.a)(this,"touchZoom",!0),Object(b.a)(this,"touchRotate",!1),Object(b.a)(this,"keyboard",!0),Object(b.a)(this,"_interactionState",{isDragging:!1}),Object(b.a)(this,"_events",{}),Object(b.a)(this,"_setInteractionState",(function(t){Object.assign(e._interactionState,t),e.onStateChange&&e.onStateChange(e._interactionState)})),Object(b.a)(this,"_onTransition",(function(t,n){e.onViewportChange(t,e._interactionState,n)})),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new St({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Object(j.a)(t,[{key:"handleEvent",value:function(t){this.mapState=this.getMapState();var e=this._eventStartBlocked;switch(t.type){case"panstart":return!e&&this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return!e&&this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"tripanstart":return!e&&this._onTriplePanStart(t);case"tripanmove":return this._onTriplePan(t);case"tripanend":return this._onTriplePanEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"blockEvents",value:function(t){var e=this,n=setTimeout((function(){e._eventStartBlocked===n&&(e._eventStartBlocked=null)}),t);this._eventStartBlocked=n}},{key:"updateViewport",value:function(t,e,n){var r=this.mapState instanceof U?this.mapState.getViewportProps():this.mapState,i=Ae(Ae({},t.getViewportProps()),e),a=Object.keys(i).some((function(t){return r[t]!==i[t]}));this._state=t.getState(),this._setInteractionState(n),a&&this.onViewportChange(i,this._interactionState,r)}},{key:"getMapState",value:function(t){return new U(Ae(Ae(Ae({},this.mapStateProps),this._state),t))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,a=t.isInteractive,o=void 0===a||a,s=t.scrollZoom,c=void 0===s?this.scrollZoom:s,u=t.dragPan,l=void 0===u?this.dragPan:u,f=t.dragRotate,p=void 0===f?this.dragRotate:f,h=t.doubleClickZoom,d=void 0===h?this.doubleClickZoom:h,v=t.touchZoom,b=void 0===v?this.touchZoom:v,y=t.touchRotate,m=void 0===y?this.touchRotate:y,A=t.keyboard,g=void 0===A?this.keyboard:A;this.onViewportChange=e,this.onStateChange=n;var B=this.mapStateProps||{},O=B.height!==t.height||B.width!==t.width;this.mapStateProps=t,O&&(this.mapState=B,this.updateViewport(new U(t))),this._transitionManager.processViewportChange(t),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Ce,o&&Boolean(c)),this.toggleEvents(Ee,o&&Boolean(l||p)),this.toggleEvents(we,o&&Boolean(b||m)),this.toggleEvents(_e,o&&Boolean(m)),this.toggleEvents(je,o&&Boolean(d)),this.toggleEvents(De,o&&Boolean(g)),this.scrollZoom=c,this.dragPan=l,this.dragRotate=p,this.doubleClickZoom=d,this.touchZoom=b,this.touchRotate=m,this.keyboard=g}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t);this._panRotate=this.isFunctionKeyPressed(t)||t.rightButton;var n=this._panRotate?this.mapState.rotateStart({pos:e}):this.mapState.panStart({pos:e});return this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(t):this._onPanMove(t))}},{key:"_onPanEnd",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(t):this._onPanMoveEnd(t))}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,ge,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(t){if(this.dragPan){var e=this.dragPan.inertia,n=void 0===e?300:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],a=this.mapState.pan({pos:i}).panEnd();return this.updateViewport(a,Ae(Ae({},Be),{},{transitionDuration:n,transitionEasing:Oe}),{isDragging:!1,isPanning:!0}),!0}}var o=this.mapState.panEnd();return this.updateViewport(o,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=this.getCenter(t),n=this.mapState.rotate({pos:e});return this.updateViewport(n,ge,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(t){if(this.dragRotate){var e=this.dragRotate.inertia,n=void 0===e?300:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],a=this.mapState.rotate({pos:i}).rotateEnd();return this.updateViewport(a,Ae(Ae({},Be),{},{transitionDuration:n,transitionEasing:Oe}),{isDragging:!1,isRotating:!0}),!0}}var o=this.mapState.panEnd();return this.updateViewport(o,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;var e=this.scrollZoom,n=e.speed,r=void 0===n?.01:n,i=e.smooth,a=void 0!==i&&i;t.preventDefault();var o=this.getCenter(t),s=t.delta,c=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==c&&(c=1/c);var u=this.mapState.zoom({pos:o,scale:c});return u.getViewportProps().zoom!==this.mapStateProps.zoom&&(this.updateViewport(u,Ae(Ae({},Be),{},{transitionInterpolator:new Ct({around:o}),transitionDuration:a?250:1}),{isPanning:!0,isZooming:!0}),!0)}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._startPinchRotation=t.rotation,this._lastPinchEvent=t,this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.isDragging())return!1;if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation;e=e.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(e,ge,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=t,!0}},{key:"_onPinchEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchZoom){var e=this.touchZoom.inertia,n=void 0===e?300:e,r=this._lastPinchEvent;if(n&&r&&t.scale!==r.scale){var i=this.getCenter(t),a=this.mapState.rotateEnd(),o=Math.log2(t.scale),s=(o-Math.log2(r.scale))/(t.deltaTime-r.deltaTime),c=Math.pow(2,o+s*n/2);return a=a.zoom({pos:i,scale:c}).zoomEnd(),this.updateViewport(a,Ae(Ae({},Be),{},{transitionInterpolator:new Ct({around:i}),transitionDuration:n,transitionEasing:Oe}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(n),!0}}var u=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.rotateStart({pos:e});return this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(t){if(!this.isDragging())return!1;if(!this.touchRotate)return!1;var e=this.getCenter(t);e[0]-=t.deltaX;var n=this.mapState.rotate({pos:e});return this.updateViewport(n,ge,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchRotate){var e=this.touchRotate.inertia,n=void 0===e?300:e;if(n&&t.velocityY){var r=this.getCenter(t),i=[r[0],r[1]+=t.velocityY*n/2],a=this.mapState.rotate({pos:i});return this.updateViewport(a,Ae(Ae({},Be),{},{transitionDuration:n,transitionEasing:Oe}),{isDragging:!1,isRotating:!0}),this.blockEvents(n),!1}}var o=this.mapState.rotateEnd();return this.updateViewport(o,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},Be,{transitionInterpolator:new Ct({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.keyboard,i=r.zoomSpeed,a=void 0===i?2:i,o=r.moveSpeed,s=void 0===o?100:o,c=r.rotateSpeedX,u=void 0===c?15:c,l=r.rotateSpeedY,f=void 0===l?10:l,p=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:p.zoom-Math.log2(a)-1}):this.getMapState({zoom:p.zoom-Math.log2(a)});break;case 187:e=n?this.getMapState({zoom:p.zoom+Math.log2(a)+1}):this.getMapState({zoom:p.zoom+Math.log2(a)});break;case 37:e=n?this.getMapState({bearing:p.bearing-u}):this.mapState.pan({pos:[s,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:p.bearing+u}):this.mapState.pan({pos:[-s,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:p.pitch+f}):this.mapState.pan({pos:[0,s],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:p.pitch-f}):this.mapState.pan({pos:[0,-s],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,Be)}}]),t}();function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pe=Object.assign({},et.propTypes,{maxZoom:A.number,minZoom:A.number,maxPitch:A.number,minPitch:A.number,onViewStateChange:A.func,onViewportChange:A.func,onInteractionStateChange:A.func,transitionDuration:A.oneOfType([A.number,A.string]),transitionInterpolator:A.object,transitionInterruption:A.number,transitionEasing:A.func,onTransitionStart:A.func,onTransitionInterrupt:A.func,onTransitionEnd:A.func,scrollZoom:A.oneOfType([A.bool,A.object]),dragPan:A.oneOfType([A.bool,A.object]),dragRotate:A.oneOfType([A.bool,A.object]),doubleClickZoom:A.bool,touchZoom:A.oneOfType([A.bool,A.object]),touchRotate:A.oneOfType([A.bool,A.object]),keyboard:A.oneOfType([A.bool,A.object]),onHover:A.func,onClick:A.func,onDblClick:A.func,onContextMenu:A.func,onMouseDown:A.func,onMouseMove:A.func,onMouseUp:A.func,onTouchStart:A.func,onTouchMove:A.func,onTouchEnd:A.func,onMouseEnter:A.func,onMouseLeave:A.func,onMouseOut:A.func,onWheel:A.func,touchAction:A.string,eventRecognizerOptions:A.object,clickRadius:A.number,interactiveLayerIds:A.array,getCursor:A.func,controller:A.instanceOf(Ie)}),Me=Object.assign({},et.defaultProps,R,St.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}});function xe(t){if(t.lngLat||!t.offsetCenter)return t;var e=t.offsetCenter,n=e.x,r=e.y;if(!Number.isFinite(n)||!Number.isFinite(r))return t;var i=[n,r];return t.point=i,t.lngLat=this.viewport.unproject(i),t}function Re(t){var e=this.map;if(!e||!t)return null;var n={},r=this.props.clickRadius;this.props.interactiveLayerIds&&(n.layers=this.props.interactiveLayerIds);try{return e.queryRenderedFeatures(r?[[t[0]-r,t[1]+r],[t[0]+r,t[1]-r]]:t,n)}catch(i){return null}}function Fe(t,e){var n=this.props[t];n&&n(xe.call(this,e))}function Ge(t){Fe.call(this,"touch"===t.pointerType?"onTouchStart":"onMouseDown",t)}function ke(t){Fe.call(this,"touch"===t.pointerType?"onTouchEnd":"onMouseUp",t)}function Ue(t){if(Fe.call(this,"touch"===t.pointerType?"onTouchMove":"onMouseMove",t),!this.state.isDragging){var e,n=this.props,r=n.onHover,i=n.interactiveLayerIds;t=xe.call(this,t),(i||r)&&(e=Re.call(this,t.point));var a=Boolean(i&&e&&e.length>0),o=a&&!this.state.isHovering,s=!a&&this.state.isHovering;(r||o)&&(t.features=e,r&&r(t)),o&&Fe.call(this,"onMouseEnter",t),s&&Fe.call(this,"onMouseLeave",t),(o||s)&&this.setState({isHovering:a})}}function He(t){var e=this.props,n=e.onClick,r=e.onNativeClick,i=e.onDblClick,a=e.doubleClickZoom,o=[],s=i||a;switch(t.type){case"anyclick":o.push(r),s||o.push(n);break;case"click":s&&o.push(n)}(o=o.filter(Boolean)).length&&((t=xe.call(this,t)).features=Re.call(this,t.point),o.forEach((function(e){return e(t)})))}var Le=Object(h.forwardRef)((function(t,e){var n=Object(h.useContext)(X),r=Object(h.useMemo)((function(){return t.controller||new Ie}),[]),i=Object(h.useMemo)((function(){return new ye(null,{touchAction:t.touchAction,recognizerOptions:t.eventRecognizerOptions})}),[]),a=Object(h.useRef)(null),o=Object(h.useRef)(null),s=Object(h.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;s.props=t,s.map=o.current&&o.current.getMap(),s.setState=function(e){s.state=Te(Te({},s.state),e),a.current.style.cursor=t.getCursor(s.state)};var c,u,l=!0,f=function(t,e,n){if(l)c=[t,e,n];else{var r=s.props,i=r.onViewStateChange,a=r.onViewportChange;i&&i({viewState:t,interactionState:e,oldViewState:n}),a&&a(t,e,n)}};Object(h.useImperativeHandle)(e,(function(){return function(t){return{getMap:t.current&&t.current.getMap,queryRenderedFeatures:t.current&&t.current.queryRenderedFeatures}}(o)}),[]);var p=Object(h.useMemo)((function(){return Te(Te({},n),{},{eventManager:i,container:n.container||a.current})}),[n,a.current]);p.onViewportChange=f,p.viewport=n.viewport||Z(s),s.viewport=p.viewport;var d=function(t){var e=t.isDragging,n=void 0!==e&&e;if(n!==s.state.isDragging&&s.setState({isDragging:n}),l)u=t;else{var r=s.props.onInteractionStateChange;r&&r(t)}},v=function(){s.width&&s.height&&r.setOptions(Te(Te(Te({},s.props),s.props.viewState),{},{isInteractive:Boolean(s.props.onViewStateChange||s.props.onViewportChange),onViewportChange:f,onStateChange:d,eventManager:i,width:s.width,height:s.height}))};Object(h.useEffect)((function(){return i.setElement(a.current),i.on({pointerdown:Ge.bind(s),pointermove:Ue.bind(s),pointerup:ke.bind(s),pointerleave:Fe.bind(s,"onMouseOut"),click:He.bind(s),anyclick:He.bind(s),dblclick:Fe.bind(s,"onDblClick"),wheel:Fe.bind(s,"onWheel"),contextmenu:Fe.bind(s,"onContextMenu")}),function(){i.destroy()}}),[]),Q((function(){c&&f.apply(void 0,Object(m.a)(c)),u&&d(u)})),v();var b=t.width,A=t.height,g=t.style,B=t.getCursor,O=Object(h.useMemo)((function(){return Te(Te({position:"relative"},g),{},{width:b,height:A,cursor:B(s.state)})}),[g,b,A,B,s.state]);return c&&s._child||(s._child=h.createElement(K,{value:p},h.createElement("div",{key:"event-canvas",ref:a,style:O},h.createElement(et,Object(y.a)({},t,{width:"100%",height:"100%",style:null,onResize:function(t){var e=t.width,n=t.height;s.width=e,s.height=n,v(),s.props.onResize({width:e,height:n})},ref:o}))))),l=!1,s._child}));Le.supported=et.supported,Le.propTypes=Pe,Le.defaultProps=Me;var Je=n("U8pU");function Ne(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Ne(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Object(Je.a)(t)&&"object"===Object(Je.a)(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(!e.hasOwnProperty(s))return!1;if(!Ne(t[s],e[s]))return!1}return!0}return!1}var Ke=n("Ff2n");function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ve={type:A.oneOf(["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade"]).isRequired,id:A.string,source:A.string,beforeId:A.string};function ze(t,e,n,r){P(n.id===r.id,"layer id changed"),P(n.type===r.type,"layer type changed");try{!function(t,e,n,r){var i=n.layout,a=void 0===i?{}:i,o=n.paint,s=void 0===o?{}:o,c=n.filter,u=n.minzoom,l=n.maxzoom,f=n.beforeId,p=Object(Ke.a)(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==r.beforeId&&t.moveLayer(e,f),a!==r.layout){var h=r.layout||{};for(var d in a)Ne(a[d],h[d])||t.setLayoutProperty(e,d,a[d]);for(var v in h)a.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(s!==r.paint){var b=r.paint||{};for(var y in s)Ne(s[y],b[y])||t.setPaintProperty(e,y,s[y]);for(var m in b)s.hasOwnProperty(m)||t.setPaintProperty(e,m,void 0)}for(var A in Ne(c,r.filter)||t.setFilter(e,c),u===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,u,l),p)Ne(p[A],r[A])||t.setLayerProperty(e,A,p[A])}(t,e,n,r)}catch(i){console.warn(i)}}var Ye=0;function Ze(t){var e=Object(h.useContext)(X),n=Object(h.useRef)({id:t.id,type:t.type}),r=Object(h.useState)(0),i=Object(g.a)(r,2)[1],a=Object(h.useMemo)((function(){return t.id||"jsx-layer-".concat(Ye++)}),[]),o=e.map;return Object(h.useEffect)((function(){if(o){var t=function(){return i((function(t){return t+1}))};return o.on("styledata",t),function(){o.off("styledata",t),o.style&&o.style._loaded&&o.removeLayer(a)}}}),[o]),o&&o.style&&o.getLayer(a)?ze(o,a,t,n.current):function(t,e,n){if(t.style&&t.style._loaded){var r=Qe(Qe({},n),{},{id:e});delete r.beforeId,t.addLayer(r,n.beforeId)}}(o,a,t),n.current=t,null}Ze.propTypes=Ve;var We={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},qe={captureScroll:A.bool,captureDrag:A.bool,captureClick:A.bool,captureDoubleClick:A.bool,capturePointerMove:A.bool};function $e(t){var e=t.containerRef.current,n=t.context.eventManager;if(e&&n){var r={wheel:function(e){var n=t.props;n.captureScroll&&e.stopPropagation(),n.onScroll&&n.onScroll(e,t)},panstart:function(e){var n=t.props;n.captureDrag&&e.stopPropagation(),n.onDragStart&&n.onDragStart(e,t)},anyclick:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onNativeClick&&n.onNativeClick(e,t)},click:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onClick&&n.onClick(e,t)},dblclick:function(e){var n=t.props;n.captureDoubleClick&&e.stopPropagation(),n.onDoubleClick&&n.onDoubleClick(e,t)},pointermove:function(e){var n=t.props;n.capturePointerMove&&e.stopPropagation(),n.onPointerMove&&n.onPointerMove(e,t)}};return n.watch(r,e),function(){n.off(r)}}}function tn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(h.useContext)(X),n=Object(h.useRef)(null),r=Object(h.useRef)({props:t,state:{},context:e,containerRef:n}),i=r.current;return i.props=t,i.context=e,Object(h.useEffect)((function(){return $e(i)}),[e.eventManager]),i}function en(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}function nn(t){var e=t.instance,n=tn(t),r=n.context,i=n.containerRef;return e._context=r,e._containerRef=i,e._render()}var rn=function(t){Object(ot.a)(n,t);var e=en(n);function n(){var t;Object(_.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(b.a)(Object(at.a)(t),"_context",{}),Object(b.a)(Object(at.a)(t),"_containerRef",Object(h.createRef)()),Object(b.a)(Object(at.a)(t),"_onScroll",(function(t){})),Object(b.a)(Object(at.a)(t),"_onDragStart",(function(t){})),Object(b.a)(Object(at.a)(t),"_onDblClick",(function(t){})),Object(b.a)(Object(at.a)(t),"_onClick",(function(t){})),Object(b.a)(Object(at.a)(t),"_onPointerMove",(function(t){})),t}return Object(j.a)(n,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return h.createElement(nn,Object(y.a)({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),n}(h.PureComponent);function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object(b.a)(rn,"propTypes",qe),Object(b.a)(rn,"defaultProps",We);Object.assign({},qe,{draggable:A.bool,onDrag:A.func,onDragEnd:A.func,onDragStart:A.func,offsetLeft:A.number,offsetTop:A.number});var sn=Object.assign({},We,{draggable:!1,offsetLeft:0,offsetTop:0});function cn(t){var e=t.offsetCenter;return[e.x,e.y]}function un(t,e,n,r){var i=t[0]+e[0]-n.offsetLeft,a=t[1]+e[1]-n.offsetTop;return r.viewport.unproject([i,a])}function ln(t,e){var n=e.props,r=e.callbacks,i=e.state,a=e.context,o=e.containerRef;if(n.draggable){t.stopPropagation();var s=cn(t),c=function(t,e){var n=t.center,r=n.x,i=n.y;if(e){var a=e.getBoundingClientRect();return[a.left-r,a.top-i]}return null}(t,o.current);if(i.setDragPos(s),i.setDragOffset(c),r.onDragStart&&c){var u=Object.assign({},t);u.lngLat=un(s,c,n,a),r.onDragStart(u)}}}function fn(t){var e=t.context.eventManager;if(e&&t.state.dragPos){var n={panmove:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,a=e.context;t.stopPropagation();var o=cn(t);i.setDragPos(o);var s=i.dragOffset;if(r.onDrag&&s){var c=Object.assign({},t);c.lngLat=un(o,s,n,a),r.onDrag(c)}}(e,t)},panend:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,a=e.context;t.stopPropagation();var o=i.dragPos,s=i.dragOffset;if(i.setDragPos(null),i.setDragOffset(null),r.onDragEnd&&o&&s){var c=Object.assign({},t);c.lngLat=un(o,s,n,a),r.onDragEnd(c)}}(e,t)},pancancel:function(e){return n=e,r=t.state,n.stopPropagation(),r.setDragPos(null),void r.setDragOffset(null);var n,r}};return e.watch(n),function(){e.off(n)}}}var pn="undefined"!=typeof window&&window.devicePixelRatio||1,hn=function(t){return Math.round(t*pn)/pn},dn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return hn(e/100*r)/r*100};function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var bn=Object.assign({},sn,{className:""});function yn(t){var e=function(t){var e=Object(h.useState)(null),n=Object(g.a)(e,2),r=n[0],i=n[1],a=Object(h.useState)(null),o=Object(g.a)(a,2),s=o[0],c=o[1],u=tn(on(on({},t),{},{onDragStart:ln}));return u.callbacks=t,u.state.dragPos=r,u.state.setDragPos=i,u.state.dragOffset=s,u.state.setDragOffset=c,Object(h.useEffect)((function(){return fn(u)}),[u.context.eventManager,Boolean(r)]),u}(t),n=e.state,r=e.containerRef,i=t.children,a=t.className,o=t.draggable,s=t.style,c=n.dragPos,u=function(t){var e=t.props,n=t.state,r=t.context,i=e.longitude,a=e.latitude,o=e.offsetLeft,s=e.offsetTop,c=n.dragPos,u=n.dragOffset;if(c&&u)return[c[0]+u[0],c[1]+u[1]];var l=r.viewport.project([i,a]),f=Object(g.a)(l,2),p=f[0],h=f[1];return[p+=o,h+=s]}(e),l=Object(g.a)(u,2),f=l[0],p=l[1],d="translate(".concat(hn(f),"px, ").concat(hn(p),"px)"),v=o?c?"grabbing":"grab":"auto",y=Object(h.useMemo)((function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0,transform:d,cursor:v},s);return h.createElement("div",{className:"mapboxgl-marker ".concat(a),ref:e.containerRef,style:t},i)}),[i,a]),m=r.current;return m&&(m.style.transform=d,m.style.cursor=v),y}yn.defaultProps=bn;h.memo(yn);var mn={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},An=Object.keys(mn);var gn=Object.assign({},We,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function Bn(t,e,n,r){var i=Object(g.a)(r,2),a=i[0],o=i[1],s=t.anchor,c=t.dynamicPosition,u=t.tipSize;return n&&c?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.selfWidth,o=t.selfHeight,s=t.anchor,c=t.padding,u=void 0===c?0:c,l=mn[s],f=l.x,p=l.y,h=n-p*o,d=h+o,v=Math.max(0,u-h)+Math.max(0,d-i+u);if(v>0){var b=p,y=v;for(p=0;p<=1;p+=.5)d=(h=n-p*o)+o,(v=Math.max(0,u-h)+Math.max(0,d-i+u))<y&&(y=v,b=p);p=b}var m=.5;.5===p&&(f=Math.floor(f),m=1);var A=e-f*a,g=A+a,B=Math.max(0,u-A)+Math.max(0,g-r+u);if(B>0){var O=f,C=B;for(f=0;f<=1;f+=m)g=(A=e-f*a)+a,(B=Math.max(0,u-A)+Math.max(0,g-r+u))<C&&(C=B,O=f);f=O}return An.find((function(t){var e=mn[t];return e.x===f&&e.y===p}))||s}({x:a,y:o,anchor:s,padding:u,width:e.width,height:e.height,selfWidth:n.clientWidth,selfHeight:n.clientHeight}):s}function On(t){var e=Object(h.useRef)(null),n=tn(t),r=n.context,i=n.containerRef,a=Object(h.useState)(!1),o=Object(g.a)(a,2)[1];Object(h.useEffect)((function(){o(!0)}),[e.current]),Object(h.useEffect)((function(){if(r.eventManager&&t.closeOnClick){var e=function(){return n.props.onClose()};return r.eventManager.on("anyclick",e),function(){r.eventManager.off("anyclick",e)}}}),[r.eventManager,t.closeOnClick]);var s=r.viewport,c=t.className,u=t.longitude,l=t.latitude,f=t.altitude,p=t.tipSize,d=t.closeButton,v=t.children,b=s.project([u,l,f]),y=Bn(t,s,e.current,b),m=function(t,e,n,r,i){var a=Object(g.a)(r,3),o=a[0],s=a[1],c=a[2],u=t.offsetLeft,l=t.offsetTop,f=t.sortByDepth,p=mn[i],h=o+u,d=s+l,v=dn(n,100*-p.x),b=dn(n,100*-p.y,"y"),y={position:"absolute",transform:"\n      translate(".concat(v,"%, ").concat(b,"%)\n      translate(").concat(hn(h),"px, ").concat(hn(d),"px)\n    "),display:void 0,zIndex:void 0};return f?(c>1||c<-1||o<0||o>e.width||s<0||s>e.height?y.display="none":y.zIndex=Math.floor((1-c)/2*1e5),y):y}(t,s,i.current,b,y),A=Object(h.useCallback)((function(t){n.props.onClose();var e=n.context.eventManager;e&&e.once("click",(function(t){return t.stopPropagation()}),t.target)}),[]);return h.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(y," ").concat(c),style:m,ref:i},h.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:p}}),h.createElement("div",{key:"content",ref:e,className:"mapboxgl-popup-content"},d&&h.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:A},""),v))}On.defaultProps=gn;h.memo(On);function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var En=Object.assign({},We,{className:"",toggleLabel:"Toggle Attribution"});function wn(t){var e=tn(t),n=e.context,r=e.containerRef,i=Object(h.useRef)(null),a=Object(h.useState)(!1),o=Object(g.a)(a,2),s=o[0],c=o[1];Object(h.useEffect)((function(){var e;return n.map&&(e=function(t,e,n,r){var i=new w.a.AttributionControl(t);return i._map=e,i._container=n,i._innerContainer=r,i._updateAttributions(),i._updateEditLink(),e.on("styledata",i._updateData),e.on("sourcedata",i._updateData),i}({customAttribution:t.customAttribution},n.map,r.current,i.current)),function(){return e&&function(t){t._map.off("styledata",t._updateData),t._map.off("sourcedata",t._updateData)}(e)}}),[n.map]);var u=void 0===t.compact?n.viewport.width<=640:t.compact;Object(h.useEffect)((function(){!u&&s&&c(!1)}),[u]);var l=Object(h.useCallback)((function(){return c((function(t){return!t}))}),[]),f=Object(h.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return h.createElement("div",{style:f,className:t.className},h.createElement("div",{ref:r,"aria-pressed":s,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(u?"mapboxgl-compact":""," ").concat(s?"mapboxgl-compact-show":"")},h.createElement("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:t.toggleLabel,onClick:l}),h.createElement("div",{ref:i,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}wn.defaultProps=En;h.memo(wn);var _n=n("oJR1");function jn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Dn=Object.assign({},We,{className:"",container:null,label:"Toggle fullscreen"});function In(t){var e=tn(t),n=e.context,r=e.containerRef,i=Object(h.useState)(!1),a=Object(g.a)(i,2),o=a[0],s=a[1],c=Object(h.useState)(!1),u=Object(g.a)(c,2),l=u[0],f=u[1],p=Object(h.useState)(null),d=Object(g.a)(p,2),v=d[0],y=d[1];Object(h.useEffect)((function(){var t=new w.a.FullscreenControl;y(t),f(t._checkFullscreenSupport());var e=function(){var e=!t._fullscreen;t._fullscreen=e,s(e)};return _n.a.addEventListener(t._fullscreenchange,e),function(){_n.a.removeEventListener(t._fullscreenchange,e)}}),[]);var m=Object(h.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);if(!l)return null;var A=t.className,B=t.label,O=o?"shrink":"fullscreen";return h.createElement("div",{style:m,className:A},h.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},h.createElement("button",{key:O,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(O),type:"button",title:B,onClick:function(){v&&(v._container=t.container||n.container,v._onClickFullscreen())}},h.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}In.defaultProps=Dn;var Sn;h.memo(In);function Tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Pn=function(){},Mn=Object.assign({},We,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showUserHeading:!1,showAccuracyCircle:!0,onGeolocate:function(){}});function xn(t,e){var n=e.context,r=e.props,i=function(t){var e=new w.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]}(t),a=n.viewport.fitBounds(i,r.fitBoundsOptions),o=a.longitude,s=a.latitude,c=a.zoom,u=Object.assign({},n.viewport,{longitude:o,latitude:s,zoom:c}),l=new U(u),f=Object.assign({},l.getViewportProps(),Be),p=r.onViewportChange||n.onViewportChange||Pn;(r.onViewStateChange||n.onViewStateChange||Pn)({viewState:f}),p(f)}function Rn(t){var e=tn(t),n=e.context,r=e.containerRef,i=Object(h.useRef)(null),a=Object(h.useState)(null),o=Object(g.a)(a,2),s=o[0],c=o[1],u=Object(h.useState)(!1),l=Object(g.a)(u,2),f=l[0],p=l[1];Object(h.useEffect)((function(){var r;return n.map&&(void 0!==Sn?Promise.resolve(Sn):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return Sn="denied"!==t.state})):(Sn=Boolean(window.navigator.geolocation),Promise.resolve(Sn))).then((function(a){p(a),i.current&&((r=function(t,e,n){var r=new w.a.GeolocateControl(e);r._container=_n.a.createElement("div"),r._map={on:function(){},_getUIString:function(){return""}},r._setupUI(!0),r._map=t.map,r._geolocateButton=n;var i=t.eventManager;return r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",n.classList.add("mapboxgl-ctrl-geolocate-background"),n.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",e.onGeolocate),r}(n,t,i.current))._updateCamera=function(t){return xn(t,e)},c(r))})),function(){r&&r._clearWatch()}}),[n.map]);var d=Object(h.useCallback)((function(){s&&(s.options=e.props,s.trigger())}),[s]);Object(h.useEffect)((function(){t.auto&&d()}),[s,t.auto]),Object(h.useEffect)((function(){s&&s._onZoom()}),[n.viewport.zoom]);var v=t.className,y=t.label,m=t.disabledLabel,A=t.trackUserLocation,B=Object(h.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return h.createElement("div",{style:B,className:v},h.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},h.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:i,disabled:!f,"aria-pressed":!A,type:"button",title:f?y:m,"aria-label":f?y:m,onClick:d},h.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}Rn.defaultProps=Mn;h.memo(Rn);function Fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Gn=function(){},kn=Object.assign({},We,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function Un(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var a=n[i]||0,o=r[i]||0;if(a<o)return-1;if(a>o)return 1}return 0}(t,"1.6.0")>=0?2:1}function Hn(t,e,n){var r=t.viewport,i=new U(Object.assign({},r,n)),a=Object.assign({},i.getViewportProps(),Be),o=e.onViewportChange||t.onViewportChange||Gn;(e.onViewStateChange||t.onViewStateChange||Gn)({viewState:a}),o(a)}function Ln(t,e,n,r){return h.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||h.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function Jn(t){var e=tn(t),n=e.context,r=e.containerRef,i=t.className,a=t.showCompass,o=t.showZoom,s=t.zoomInLabel,c=t.zoomOutLabel,u=t.compassLabel,l=Object(h.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return h.createElement("div",{style:l,className:i},h.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},o&&Ln("zoom-in",s,(function(){Hn(n,t,{zoom:n.viewport.zoom+1})})),o&&Ln("zoom-out",c,(function(){Hn(n,t,{zoom:n.viewport.zoom-1})})),a&&Ln("compass",u,(function(){Hn(n,t,{bearing:0,pitch:0})}),function(t){var e=Object(h.useMemo)((function(){return t.map?Un(t.map.version):2}),[t.map]),n=t.viewport.bearing,r={transform:"rotate(".concat(-n,"deg)")};return 2===e?h.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:r}):h.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:r})}(n))))}Jn.defaultProps=kn;h.memo(Jn);function Nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Kn=Object.assign({},We,{className:"",maxWidth:100,unit:"metric"});function Xn(t){var e=tn(t),n=e.context,r=e.containerRef,i=Object(h.useState)(null),a=Object(g.a)(i,2),o=a[0],s=a[1];Object(h.useEffect)((function(){if(n.map){var t=new w.a.ScaleControl;t._map=n.map,t._container=r.current,s(t)}}),[n.map]),o&&(o.options=t,o._onMove&&o._onMove());var c=Object(h.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return h.createElement("div",{style:c,className:t.className},h.createElement("div",{ref:r,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}Xn.defaultProps=Kn;h.memo(Xn);var Qn="undefined"!=typeof window&&window.devicePixelRatio||1;function Vn(t){var e=tn(t),n=e.context,r=e.containerRef,i=Object(h.useState)(null),a=Object(g.a)(i,2),o=a[0],s=a[1];Object(h.useEffect)((function(){s(r.current.getContext("2d"))}),[]);var c=n.viewport,u=n.isDragging;return o&&(o.save(),o.scale(Qn,Qn),t.redraw({width:c.width,height:c.height,ctx:o,isDragging:u,project:c.project,unproject:c.unproject}),o.restore()),h.createElement("canvas",{ref:r,width:c.width*Qn,height:c.height*Qn,style:{width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),position:"absolute",left:0,top:0}})}Vn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yn(t){var e=tn(t),n=e.context,r=e.containerRef,i=n.viewport,a=n.isDragging,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0,width:i.width,height:i.height},t.style);return h.createElement("div",{ref:r,style:o},t.redraw({width:i.width,height:i.height,isDragging:a,project:i.project,unproject:i.unproject}))}Yn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wn(t){var e=tn(t),n=e.context,r=e.containerRef,i=n.viewport,a=n.isDragging,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0},t.style);return h.createElement("svg",{width:i.width,height:i.height,ref:r,style:o},t.redraw({width:i.width,height:i.height,isDragging:a,project:i.project,unproject:i.unproject}))}Wn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};w.a&&w.a.setRTLTextPlugin;var qn=n("4ErG"),$n=n("PSaa"),tr=n("o0o1"),er=n.n(tr),nr=(n("d1Eg"),n("HaE+")),rr=n("oCaT"),ir=1,ar=2,or="empty",sr="scenegraph",cr="pointcloud",ur="TILES3D",lr="geometricError",fr={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"},pr=(Object.keys(fr),n("DYWF"));function hr(t,e,n){Object(pr.a)(t instanceof ArrayBuffer);var r=new TextDecoder("utf8"),i=new Uint8Array(t,e,n);return r.decode(i)}function dr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new DataView(t);return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}var vr=n("A67p"),br={draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},yr={name:"Draco",id:vr.b?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:"3.3.1",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:br};function mr(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=t.POSITION?t.POSITION.value:[],c=s&&s.length,u=0;u<c;u+=3){var l=s[u],f=s[u+1],p=s[u+2];e=l<e?l:e,n=f<n?f:n,r=p<r?p:r,i=l>i?l:i,a=f>a?f:a,o=p>o?p:o}return[[e,n,r],[i,a,o]]}function Ar(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return gr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Br=function(){function t(e,n){Object(_.a)(this,t),Object(b.a)(this,"fields",void 0),Object(b.a)(this,"metadata",void 0),function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function(t){var e,n={},r=Ar(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.name]&&console.warn("Schema: duplicated field name",i.name,i),n[i.name]=!0}}catch(a){r.e(a)}finally{r.f()}}(e),this.fields=e,this.metadata=n||new Map}return Object(j.a)(t,[{key:"compareTo",value:function(t){if(this.metadata!==t.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(var e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}},{key:"select",value:function(){for(var e=Object.create(null),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];e[s]=!0}var c=this.fields.filter((function(t){return e[t.name]}));return new t(c,this.metadata)}},{key:"selectAt",value:function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.map((function(t){return e.fields[t]})).filter(Boolean);return new t(a,this.metadata)}},{key:"assign",value:function(e){var n,r=this.metadata;if(e instanceof t){var i=e;n=i.fields,r=Or(Or(new Map,this.metadata),i.metadata)}else n=e;var a,o=Object.create(null),s=Ar(this.fields);try{for(s.s();!(a=s.n()).done;){var c=a.value;o[c.name]=c}}catch(p){s.e(p)}finally{s.f()}var u,l=Ar(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;o[f.name]=f}}catch(p){l.e(p)}finally{l.f()}return new t(Object.values(o),r)}}]),t}();function Or(t,e){return new Map([].concat(Object(m.a)(t||new Map),Object(m.a)(e||new Map)))}var Cr,Er,wr,_r,jr=function(){function t(e,n){Object(_.a)(this,t);var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;Object(b.a)(this,"name",void 0),Object(b.a)(this,"type",void 0),Object(b.a)(this,"nullable",void 0),Object(b.a)(this,"metadata",void 0),this.name=e,this.type=n,this.nullable=r,this.metadata=i}return Object(j.a)(t,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new t(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),t}();function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(ct.a)(t);if(e){var i=Object(ct.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(st.a)(this,n)}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(Cr||(Cr={}));var Ir=function(){function t(){Object(_.a)(this,t)}return Object(j.a)(t,[{key:"typeId",get:function(){return Cr.NONE}},{key:"compareTo",value:function(t){return this===t}}],[{key:"isNull",value:function(t){return t&&t.typeId===Cr.Null}},{key:"isInt",value:function(t){return t&&t.typeId===Cr.Int}},{key:"isFloat",value:function(t){return t&&t.typeId===Cr.Float}},{key:"isBinary",value:function(t){return t&&t.typeId===Cr.Binary}},{key:"isUtf8",value:function(t){return t&&t.typeId===Cr.Utf8}},{key:"isBool",value:function(t){return t&&t.typeId===Cr.Bool}},{key:"isDecimal",value:function(t){return t&&t.typeId===Cr.Decimal}},{key:"isDate",value:function(t){return t&&t.typeId===Cr.Date}},{key:"isTime",value:function(t){return t&&t.typeId===Cr.Time}},{key:"isTimestamp",value:function(t){return t&&t.typeId===Cr.Timestamp}},{key:"isInterval",value:function(t){return t&&t.typeId===Cr.Interval}},{key:"isList",value:function(t){return t&&t.typeId===Cr.List}},{key:"isStruct",value:function(t){return t&&t.typeId===Cr.Struct}},{key:"isUnion",value:function(t){return t&&t.typeId===Cr.Union}},{key:"isFixedSizeBinary",value:function(t){return t&&t.typeId===Cr.FixedSizeBinary}},{key:"isFixedSizeList",value:function(t){return t&&t.typeId===Cr.FixedSizeList}},{key:"isMap",value:function(t){return t&&t.typeId===Cr.Map}},{key:"isDictionary",value:function(t){return t&&t.typeId===Cr.Dictionary}}]),t}();Er=Symbol.toStringTag;var Sr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(t,r){var i;return Object(_.a)(this,n),i=e.call(this),Object(b.a)(Object(at.a)(i),"isSigned",void 0),Object(b.a)(Object(at.a)(i),"bitWidth",void 0),i.isSigned=t,i.bitWidth=r,i}return Object(j.a)(n,[{key:"typeId",get:function(){return Cr.Int}},{key:Er,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),n}(Ir),Tr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!0,8)}return n}(Sr),Pr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!0,16)}return n}(Sr),Mr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!0,32)}return n}(Sr),xr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!1,8)}return n}(Sr),Rr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!1,16)}return n}(Sr),Fr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,!1,32)}return n}(Sr),Gr=32,kr=64;wr=Symbol.toStringTag;var Ur=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(t){var r;return Object(_.a)(this,n),r=e.call(this),Object(b.a)(Object(at.a)(r),"precision",void 0),r.precision=t,r}return Object(j.a)(n,[{key:"typeId",get:function(){return Cr.Float}},{key:wr,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),n}(Ir),Hr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,Gr)}return n}(Ur),Lr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(){return Object(_.a)(this,n),e.call(this,kr)}return n}(Ur);Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;_r=Symbol.toStringTag;var Jr=function(t){Object(ot.a)(n,t);var e=Dr(n);function n(t,r){var i;return Object(_.a)(this,n),i=e.call(this),Object(b.a)(Object(at.a)(i),"listSize",void 0),Object(b.a)(Object(at.a)(i),"children",void 0),i.listSize=t,i.children=[r],i}return Object(j.a)(n,[{key:"typeId",get:function(){return Cr.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:_r,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),n}(Ir);Symbol.toStringTag;function Nr(t,e,n){var r=function(t){switch(t.constructor){case Int8Array:return new Tr;case Uint8Array:return new xr;case Int16Array:return new Pr;case Uint16Array:return new Rr;case Int32Array:return new Mr;case Uint32Array:return new Fr;case Float32Array:return new Hr;case Float64Array:return new Lr;default:throw new Error("array type not supported")}}(e.value),i=n||function(t){var e=new Map;"byteOffset"in t&&e.set("byteOffset",t.byteOffset.toString(10));"byteStride"in t&&e.set("byteStride",t.byteStride.toString(10));"normalized"in t&&e.set("normalized",t.normalized.toString());return e}(e);return new jr(t,new Jr(e.size,new jr("value",r)),!1,i)}function Kr(t,e,n){var r=Qr(e.metadata),i=[],a=function(t){var e={};for(var n in t){var r=t[n];e[r.name||"undefined"]=r}return e}(e.attributes);for(var o in t){var s=Xr(o,t[o],a[o]);i.push(s)}if(n){var c=Xr("indices",n);i.push(c)}return new Br(i,r)}function Xr(t,e,n){return Nr(t,e,n?Qr(n.metadata):void 0)}function Qr(t){var e=new Map;for(var n in t)e.set("".concat(n,".string"),JSON.stringify(t[n]));return e}function Vr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wr={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},qr={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},$r=function(){function t(e){Object(_.a)(this,t),Object(b.a)(this,"draco",void 0),Object(b.a)(this,"decoder",void 0),Object(b.a)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return Object(j.a)(t,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.draco.DecoderBuffer;n.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);var r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var a;switch(r){case this.draco.TRIANGULAR_MESH:a=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:a=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!a.ok()||!i.ptr){var o="DRACO decompression failed: ".concat(a.error_msg());throw new Error(o)}var s=this._getDracoLoaderData(i,r,e),c=this._getMeshData(i,s,e),u=mr(c.attributes),l=Kr(c.attributes,s,c.indices),f=Zr(Zr({loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:u}},c),{},{schema:l});return f}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(t,e,n){var r=this._getTopLevelMetadata(t),i=this._getDracoAttributes(t,n);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:r,attributes:i}}},{key:"_getDracoAttributes",value:function(t,e){for(var n={},r=0;r<t.num_attributes();r++){var i=this.decoder.GetAttribute(t,r),a=this._getAttributeMetadata(t,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:a};var o=this._getQuantizationTransform(i,e);o&&(n[i.unique_id()].quantization_transform=o);var s=this._getOctahedronTransform(i,e);s&&(n[i.unique_id()].octahedron_transform=s)}return n}},{key:"_getMeshData",value:function(t,e,n){var r=this._getMeshAttributes(e,t,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");if(t instanceof this.draco.Mesh)switch(n.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(t),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(t),size:1}}}return{topology:"point-list",mode:0,attributes:r}}},{key:"_getMeshAttributes",value:function(t,e,n){for(var r={},i=0,a=Object.values(t.attributes);i<a.length;i++){var o=a[i],s=this._deduceAttributeName(o,n);o.name=s;var c=this._getAttributeValues(e,o),u=c.value,l=c.size;r[s]={value:u,size:l,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}},{key:"_getTriangleListIndices",value:function(t){var e=3*t.num_faces(),n=4*e,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(t,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,e).slice()}finally{this.draco._free(r)}}},{key:"_getTriangleStripIndices",value:function(t){var e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(e)}finally{this.draco.destroy(e)}}},{key:"_getAttributeValues",value:function(t,e){var n,r=qr[e.data_type],i=e.num_components,a=t.num_points()*i,o=a*r.BYTES_PER_ELEMENT,s=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,r),c=this.draco._malloc(o);try{var u=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,u,s,o,c),n=new r(this.draco.HEAPF32.buffer,c,a).slice()}finally{this.draco._free(c)}return{value:n,size:i}}},{key:"_deduceAttributeName",value:function(t,e){for(var n=t.unique_id,r=0,i=Object.entries(e.extraAttributes||{});r<i.length;r++){var a=Object(g.a)(i[r],2),o=a[0];if(a[1]===n)return o}var s=t.attribute_type;for(var c in Wr){if(this.draco[c]===s)return Wr[c]}var u=e.attributeNameEntry||"name";return t.metadata[u]?t.metadata[u].string:"CUSTOM_ATTRIBUTE_".concat(n)}},{key:"_getTopLevelMetadata",value:function(t){var e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}},{key:"_getAttributeMetadata",value:function(t,e){var n=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(n)}},{key:"_getDracoMetadata",value:function(t){if(!t||!t.ptr)return{};for(var e={},n=this.metadataQuerier.NumEntries(t),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(t,r);e[i]=this._getDracoMetadataField(t,i)}return e}},{key:"_getDracoMetadataField",value:function(t,e){var n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,n);var r=function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:r}}finally{this.draco.destroy(n)}}},{key:"_disableAttributeTransforms",value:function(t){var e,n=t.quantizedAttributes,r=void 0===n?[]:n,i=t.octahedronAttributes,a=void 0===i?[]:i,o=Vr([].concat(Object(m.a)(r),Object(m.a)(a)));try{for(o.s();!(e=o.n()).done;){var s=e.value;this.decoder.SkipAttributeTransform(this.draco[s])}}catch(c){o.e(c)}finally{o.f()}}},{key:"_getQuantizationTransform",value:function(t,e){var n=this,r=e.quantizedAttributes,i=void 0===r?[]:r,a=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(t))return{quantization_bits:o.quantization_bits(),range:o.range(),min_values:new Float32Array([1,2,3]).map((function(t){return o.min_value(t)}))}}finally{this.draco.destroy(o)}}return null}},{key:"_getOctahedronTransform",value:function(t,e){var n=this,r=e.octahedronAttributes,i=void 0===r?[]:r,a=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(t))return{quantization_bits:o.quantization_bits()}}finally{this.draco.destroy(o)}}return null}}]),t}();var ti=n(16);var ei={};function ni(t){return ri.apply(this,arguments)}function ri(){return(ri=Object(nr.a)(er.a.mark((function t(e){var n,r,i=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(e=ii(e,n,r)),ei[e]=ei[e]||ai(e),t.next=6,ei[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ii(t,e,n){if(t.startsWith("http"))return t;var r=n.modules||{};return r[t]?r[t]:vr.b?n.CDN?(function(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(e,"@").concat("3.3.1","/dist/libs/").concat(t)):vr.c?"../src/libs/".concat(t):"modules/".concat(e,"/src/libs/").concat(t):"modules/".concat(e,"/dist/libs/").concat(t)}function ai(t){return oi.apply(this,arguments)}function oi(){return(oi=Object(nr.a)(er.a.mark((function t(e){var n,r,i;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(vr.b){t.next=20;break}if(t.prev=8,t.t0=ti&&ti.requireFromFile,!t.t0){t.next=14;break}return t.next=13,ti.requireFromFile(e);case 13:t.t0=t.sent;case 14:return t.abrupt("return",t.t0);case 17:return t.prev=17,t.t1=t.catch(8),t.abrupt("return",null);case 20:if(!vr.c){t.next=22;break}return t.abrupt("return",importScripts(e));case 22:return t.next=24,fetch(e);case 24:return r=t.sent,t.next=27,r.text();case 27:return i=t.sent,t.abrupt("return",si(i,e));case 29:case"end":return t.stop()}}),t,null,[[8,17]])})))).apply(this,arguments)}function si(t,e){if(!vr.b)return ti.requireFromString&&ti.requireFromString(t,e);if(vr.c)return eval.call(vr.a,t),null;var n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch(r){n.text=t}return document.body.appendChild(n),null}function ci(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ci(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var li,fi="https://www.gstatic.com/draco/versioned/decoders/".concat("1.5.5"),pi="".concat(fi,"/draco_decoder.js"),hi="".concat(fi,"/draco_wasm_wrapper.js"),di="".concat(fi,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function vi(t){return bi.apply(this,arguments)}function bi(){return(bi=Object(nr.a)(er.a.mark((function t(e){var n;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.modules||{},li=n.draco3d?li||n.draco3d.createDecoderModule({}).then((function(t){return{draco:t}})):li||yi(e),t.next=4,li;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yi(t){return mi.apply(this,arguments)}function mi(){return(mi=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,ni(pi,"draco",e);case 5:return n=t.sent,t.abrupt("break",21);case 7:return t.t1=Promise,t.next=10,ni(hi,"draco",e);case 10:return t.t2=t.sent,t.next=13,ni(di,"draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:i=t.sent,a=Object(g.a)(i,2),n=a[0],r=a[1];case 21:return n=n||globalThis.DracoDecoderModule,t.next=24,Ai(n,r);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ai(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(ui(ui({},n),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}vr.b;var Oi=Bi(Bi({},yr),{},{parse:function(t,e){return Ci.apply(this,arguments)}});function Ci(){return(Ci=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vi(n);case 2:return r=t.sent,i=r.draco,a=new $r(i),t.prev=5,t.abrupt("return",a.parseSync(e,null==n?void 0:n.draco));case 7:return t.prev=7,a.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}function Ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ei(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _i,ji={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},Di=wi(wi({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}),ji),Ii=n("SDD5"),Si=(_i={},Object(b.a)(_i,ji.DOUBLE,Float64Array),Object(b.a)(_i,ji.FLOAT,Float32Array),Object(b.a)(_i,ji.UNSIGNED_SHORT,Uint16Array),Object(b.a)(_i,ji.UNSIGNED_INT,Uint32Array),Object(b.a)(_i,ji.UNSIGNED_BYTE,Uint8Array),Object(b.a)(_i,ji.BYTE,Int8Array),Object(b.a)(_i,ji.SHORT,Int16Array),Object(b.a)(_i,ji.INT,Int32Array),_i),Ti={DOUBLE:ji.DOUBLE,FLOAT:ji.FLOAT,UNSIGNED_SHORT:ji.UNSIGNED_SHORT,UNSIGNED_INT:ji.UNSIGNED_INT,UNSIGNED_BYTE:ji.UNSIGNED_BYTE,BYTE:ji.BYTE,SHORT:ji.SHORT,INT:ji.INT},Pi=function(){function t(){Object(_.a)(this,t)}return Object(j.a)(t,null,[{key:"fromTypedArray",value:function(t){for(var e in t=ArrayBuffer.isView(t)?t.constructor:t,Si){if(Si[e]===t)return e}throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(t){var e=Ti[t];if(!e)throw new Error("Failed to convert GL type");return e}},{key:"getArrayType",value:function(t){switch(t){case ji.UNSIGNED_SHORT_5_6_5:case ji.UNSIGNED_SHORT_4_4_4_4:case ji.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var e=Si[t];if(!e)throw new Error("Failed to convert GL type");return e}}},{key:"getByteSize",value:function(e){return t.getArrayType(e).BYTES_PER_ELEMENT}},{key:"validate",value:function(e){return Boolean(t.getArrayType(e))}},{key:"createTypedArray",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(n.byteLength-r)/t.getByteSize(e));var a=t.getArrayType(e);return new a(n,r,i)}}]),t}(),Mi=function(){function t(e,n){Object(_.a)(this,t),Object(b.a)(this,"json",void 0),Object(b.a)(this,"buffer",void 0),Object(b.a)(this,"featuresLength",0),Object(b.a)(this,"_cachedTypedArrays",{}),this.json=e,this.buffer=n}return Object(j.a)(t,[{key:"getExtension",value:function(t){return this.json.extensions&&this.json.extensions[t]}},{key:"hasProperty",value:function(t){return Boolean(this.json[t])}},{key:"getGlobalProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.json[t];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(t,e,n,1,r.byteOffset):r}},{key:"getPropertyArray",value:function(t,e,n){var r=this.json[t];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(e=Pi.fromName(r.componentType)),this._getTypedArrayFromBinary(t,e,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(t,e,r)}},{key:"getProperty",value:function(t,e,n,r,i){var a=this.json[t];if(!a)return a;var o=this.getPropertyArray(t,e,n);if(1===n)return o[r];for(var s=0;s<n;++s)i[s]=o[n*r+s];return i}},{key:"_getTypedArrayFromBinary",value:function(t,e,n,r,i){var a=this._cachedTypedArrays,o=a[t];return o||(o=Pi.createTypedArray(e,this.buffer.buffer,this.buffer.byteOffset+i,r*n),a[t]=o),o}},{key:"_getTypedArrayFromArray",value:function(t,e,n){var r=this._cachedTypedArrays,i=r[t];return i||(i=Pi.createTypedArray(e,n),r[t]=i),i}}]),t}(),xi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ri={SCALAR:function(t,e){return t[e]},VEC2:function(t,e){return[t[2*e+0],t[2*e+1]]},VEC3:function(t,e){return[t[3*e+0],t[3*e+1],t[3*e+2]]},VEC4:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT2:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT3:function(t,e){return[t[9*e+0],t[9*e+1],t[9*e+2],t[9*e+3],t[9*e+4],t[9*e+5],t[9*e+6],t[9*e+7],t[9*e+8]]},MAT4:function(t,e){return[t[16*e+0],t[16*e+1],t[16*e+2],t[16*e+3],t[16*e+4],t[16*e+5],t[16*e+6],t[16*e+7],t[16*e+8],t[16*e+9],t[16*e+10],t[16*e+11],t[16*e+12],t[16*e+13],t[16*e+14],t[16*e+15]]}},Fi={SCALAR:function(t,e,n){e[n]=t},VEC2:function(t,e,n){e[2*n+0]=t[0],e[2*n+1]=t[1]},VEC3:function(t,e,n){e[3*n+0]=t[0],e[3*n+1]=t[1],e[3*n+2]=t[2]},VEC4:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT2:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT3:function(t,e,n){e[9*n+0]=t[0],e[9*n+1]=t[1],e[9*n+2]=t[2],e[9*n+3]=t[3],e[9*n+4]=t[4],e[9*n+5]=t[5],e[9*n+6]=t[6],e[9*n+7]=t[7],e[9*n+8]=t[8],e[9*n+9]=t[9]},MAT4:function(t,e,n){e[16*n+0]=t[0],e[16*n+1]=t[1],e[16*n+2]=t[2],e[16*n+3]=t[3],e[16*n+4]=t[4],e[16*n+5]=t[5],e[16*n+6]=t[6],e[16*n+7]=t[7],e[16*n+8]=t[8],e[16*n+9]=t[9],e[16*n+10]=t[10],e[16*n+11]=t[11],e[16*n+12]=t[12],e[16*n+13]=t[13],e[16*n+14]=t[14],e[16*n+15]=t[15]}};var Gi=function(t){return void 0!==t};function ki(t,e,n){if(!e)return null;var r=t.getExtension("3DTILES_batch_table_hierarchy"),i=e.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),e.extensions=e.extensions||{},e.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(t,e){var n,r,i,a,o=t.instancesLength,s=t.classes,c=t.classIds,u=t.parentCounts,l=t.parentIds,f=o;Gi(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),c=i.createArrayBufferView(e.buffer,e.byteOffset+c.byteOffset,o));if(Gi(u))for(Gi(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),u=i.createArrayBufferView(e.buffer,e.byteOffset+u.byteOffset,o)),a=new Uint16Array(o),f=0,n=0;n<o;++n)a[n]=f,f+=u[n];Gi(l)&&Gi(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),l=i.createArrayBufferView(e.buffer,e.byteOffset+l.byteOffset,f));var p=s.length;for(n=0;n<p;++n){var h=s[n].length,d=s[n].instances,v=getBinaryProperties(h,d,e);s[n].instances=combine(v,d)}var b=new Array(p).fill(0),y=new Uint16Array(o);for(n=0;n<o;++n)r=c[n],y[n]=b[r],++b[r];var m={classes:s,classIds:c,classIndexes:y,parentCounts:u,parentIndexes:a,parentIds:l};return function(t){for(var e=t.classIds.length,n=0;n<e;++n)Hi(t,n,stack)}(m),m}(r,n):null}function Ui(t,e,n){if(t){var r=t.parentCounts;return t.parentIds?n(t,e):r>0?function(t,e,n){var r=t.classIds,i=t.parentCounts,a=t.parentIds,o=t.parentIndexes,s=r.length,c=scratchVisited;c.length=Math.max(c.length,s);var u=++marker,l=scratchStack;l.length=0,l.push(e);for(;l.length>0;)if(e=l.pop(),c[e]!==u){c[e]=u;var f=n(t,e);if(Gi(f))return f;for(var p=i[e],h=o[e],d=0;d<p;++d){var v=a[h+d];v!==e&&l.push(v)}}return null}(t,e,n):function(t,e,n){var r=!0;for(;r;){var i=n(t,e);if(Gi(i))return i;var a=t.parentIds[e];r=a!==e,e=a}throw new Error("traverseHierarchySingleParent")}(t,e,n)}}function Hi(t,e,n){var r=t.parentCounts,i=t.parentIds,a=t.parentIndexes,o=t.classIds.length;if(Gi(i)){assert(e<o,"Parent index ".concat(e," exceeds the total number of instances: ").concat(o)),assert(-1===n.indexOf(e),"Circular dependency detected in the batch table hierarchy."),n.push(e);for(var s=Gi(r)?r[e]:1,c=Gi(r)?a[e]:e,u=0;u<s;++u){var l=i[c+u];l!==e&&Hi(t,l,n)}n.pop(e)}}function Li(t){return null!=t}var Ji=function(t,e){return t},Ni={HIERARCHY:!0,extensions:!0,extras:!0},Ki=function(){function t(e,n,r){var i;Object(_.a)(this,t);var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var o in Object(b.a)(this,"json",void 0),Object(b.a)(this,"binary",void 0),Object(b.a)(this,"featureCount",void 0),Object(b.a)(this,"_extensions",void 0),Object(b.a)(this,"_properties",void 0),Object(b.a)(this,"_binaryProperties",void 0),Object(b.a)(this,"_hierarchy",void 0),Object(pr.a)(r>=0),this.json=e||{},this.binary=n,this.featureCount=r,this._extensions=(null===(i=this.json)||void 0===i?void 0:i.extensions)||{},this._properties={},this.json)Ni[o]||(this._properties[o]=this.json[o]);this._binaryProperties=this._initializeBinaryProperties(),a["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=ki(this,this.json,this.binary))}return Object(j.a)(t,[{key:"getExtension",value:function(t){return this.json&&this.json.extensions&&this.json.extensions[t]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(t,e){return this._checkBatchId(t),Object(pr.a)("string"==typeof e,e),!!this._hierarchy&&Li(Ui(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return t.classes[r].name===e})))}},{key:"isExactClass",value:function(t,e){return Object(pr.a)("string"==typeof e,e),this.getExactClassName(t)===e}},{key:"getExactClassName",value:function(t){if(this._checkBatchId(t),this._hierarchy){var e=this._hierarchy.classIds[t];return this._hierarchy.classes[e].name}}},{key:"hasProperty",value:function(t,e){return this._checkBatchId(t),Object(pr.a)("string"==typeof e,e),Li(this._properties[e])||this._hasPropertyInHierarchy(t,e)}},{key:"getPropertyNames",value:function(t,e){var n;this._checkBatchId(t),(e=Li(e)?e:[]).length=0;var r=Object.keys(this._properties);return(n=e).push.apply(n,Object(m.a)(r)),this._hierarchy&&this._getPropertyNamesInHierarchy(t,e),e}},{key:"getProperty",value:function(t,e){if(this._checkBatchId(t),Object(pr.a)("string"==typeof e,e),this._binaryProperties){var n=this._binaryProperties[e];if(Li(n))return this._getBinaryProperty(n,t)}var r=this._properties[e];if(Li(r))return Ji(r[t]);if(this._hierarchy){var i=this._getHierarchyProperty(t,e);if(Li(i))return i}}},{key:"setProperty",value:function(t,e,n){var r=this.featureCount;if(this._checkBatchId(t),Object(pr.a)("string"==typeof e,e),this._binaryProperties){var i=this._binaryProperties[e];if(i)return void this._setBinaryProperty(i,t,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,t,e,n)){var a=this._properties[e];Li(a)||(this._properties[e]=new Array(r),a=this._properties[e]),a[t]=Ji(n)}}},{key:"_checkBatchId",value:function(t){if(!(t>=0&&t<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(t,e){return t.unpack(t.typedArray,e)}},{key:"_setBinaryProperty",value:function(t,e,n){t.pack(n,t.typedArray,e)}},{key:"_initializeBinaryProperties",value:function(){var t=null;for(var e in this._properties){var n=this._properties[e],r=this._initializeBinaryProperty(e,n);r&&((t=t||{})[e]=r)}return t}},{key:"_initializeBinaryProperty",value:function(t,e){if("byteOffset"in e){var n=e;Object(pr.a)(this.binary,"Property ".concat(t," requires a batch table binary.")),Object(pr.a)(n.type,"Property ".concat(t," requires a type."));var r=function(t,e,n,r){var i=t.componentType;Object(pr.a)(t.componentType);var a="string"==typeof i?Pi.fromName(i):i,o=xi[t.type],s=Ri[t.type],c=Fi[t.type];return n+=t.byteOffset,{values:Pi.createTypedArray(a,e,n,o*r),type:a,size:o,unpacker:s,packer:c}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(t,e){if(!this._hierarchy)return!1;var n=Ui(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return Li(t.classes[r].instances[e])}));return Li(n)}},{key:"_getPropertyNamesInHierarchy",value:function(t,e){Ui(this._hierarchy,t,(function(t,n){var r=t.classIds[n],i=t.classes[r].instances;for(var a in i)i.hasOwnProperty(a)&&-1===e.indexOf(a)&&e.push(a)}))}},{key:"_getHierarchyProperty",value:function(t,e){var n=this;return Ui(this._hierarchy,t,(function(t,r){var i=t.classIds[r],a=t.classes[i],o=t.classIndexes[r],s=a.instances[e];return Li(s)?Li(s.typedArray)?n._getBinaryProperty(s,o):Ji(s[o]):null}))}},{key:"_setHierarchyProperty",value:function(t,e,n,r){var i=this,a=Ui(this._hierarchy,e,(function(t,a){var o=t.classIds[a],s=t.classes[o],c=t.classIndexes[a],u=s.instances[n];return!!Li(u)&&(Object(pr.a)(a===e,'Inherited property "'.concat(n,'" is read-only.')),Li(u.typedArray)?i._setBinaryProperty(u,c,r):u[c]=Ji(r),!0)}));return Li(a)}}]),t}();function Xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e);if(t.magic=r.getUint32(n,!0),n+=4,t.version=r.getUint32(n,!0),n+=4,t.byteLength=r.getUint32(n,!0),n+=4,1!==t.version)throw new Error("3D Tile Version ".concat(t.version," not supported"));return n}function Qi(t,e,n){var r,i=new DataView(e);t.header=t.header||{};var a=i.getUint32(n,!0);n+=4;var o=i.getUint32(n,!0);n+=4;var s=i.getUint32(n,!0);n+=4;var c=i.getUint32(n,!0);return n+=4,s>=570425344?(n-=8,r=a,s=o,c=0,a=0,o=0,console.warn("b3dm tile in legacy format.")):c>=570425344&&(n-=4,r=s,s=a,c=o,a=0,o=0,console.warn("b3dm tile in legacy format.")),t.header.featureTableJsonByteLength=a,t.header.featureTableBinaryByteLength=o,t.header.batchTableJsonByteLength=s,t.header.batchTableBinaryByteLength=c,t.header.batchLength=r,n}function Vi(t,e,n,r){return n=function(t,e,n,r){var i=t.header,a=i.featureTableJsonByteLength,o=i.featureTableBinaryByteLength,s=i.batchLength;if(t.featureTableJson={BATCH_LENGTH:s||0},a>0){var c=hr(e,n,a);t.featureTableJson=JSON.parse(c)}return n+=a,t.featureTableBinary=new Uint8Array(e,n,o),n+=o}(t,e,n),n=function(t,e,n,r){var i=t.header,a=i.batchTableJsonByteLength,o=i.batchTableBinaryByteLength;if(a>0){var s=hr(e,n,a);t.batchTableJson=JSON.parse(s),n+=a,o>0&&(t.batchTableBinary=new Uint8Array(e,n,o),t.batchTableBinary=new Uint8Array(t.batchTableBinary),n+=o)}return n}(t,e,n)}function zi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=t>>11&31,r=t>>5&63,i=31&t;return e[0]=n<<3,e[1]=r<<2,e[2]=i<<3,e}function Yi(t,e,n){if(!(e||t&&t.batchIds&&n))return null;var r=t.batchIds,i=t.isRGB565,a=t.pointCount;if(r&&n){for(var o=new Uint8ClampedArray(3*a),s=0;s<a;s++){var c=r[s],u=n.getProperty(c,"dimensions").map((function(t){return 255*t}));o[3*s]=u[0],o[3*s+1]=u[1],o[3*s+2]=u[2]}return{type:Di.UNSIGNED_BYTE,value:o,size:3,normalized:!0}}if(i){for(var l=new Uint8ClampedArray(3*a),f=0;f<a;f++){var p=zi(e[f]);l[3*f]=p[0],l[3*f+1]=p[1],l[3*f+2]=p[2]}return{type:Di.UNSIGNED_BYTE,value:l,size:3,normalized:!0}}return e&&e.length===3*a?{type:Di.UNSIGNED_BYTE,value:e,size:3,normalized:!0}:{type:Di.UNSIGNED_BYTE,value:e,size:4,normalized:!0}}var Zi=n("uJc0"),Wi=n("yeNo");n("V6u+");function qi(t,e){if(!t)throw new Error("math.gl assertion failed. ".concat(e))}new Zi.a,new Ii.a,new Zi.a,new Zi.a,new Uint8Array(1);function $i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Object(Wi.a)(t,0,e)/e*2-1}function ta(t){return t<0?-1:1}function ea(t,e,n,r){if(qi(r),t<0||t>n||e<0||e>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=$i(t,n),r.y=$i(e,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){var i=r.x;r.x=(1-Math.abs(r.y))*ta(i),r.y=(1-Math.abs(i))*ta(r.y)}return r.normalize()}function na(t,e,n){return ea(t,e,255,n)}var ra=new Ii.a;function ia(t,e,n){return t.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(t.isQuantized=!1,function(t,e){for(var n=new Ii.a,r=new Float32Array(3*t.pointCount),i=0;i<t.pointCount;i++)n.set(e[3*i],e[3*i+1],e[3*i+2]).scale(1/t.quantizedRange).multiply(t.quantizedVolumeScale).add(t.quantizedVolumeOffset).toArray(r,3*i);return r}(t,e)):{type:Di.UNSIGNED_SHORT,value:e,size:3,normalized:!0}:e}function aa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sa(t,e,n,r,i){return ca.apply(this,arguments)}function ca(){return(ca=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){var o,s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Xi(e,n,r),r=Qi(e,n,r),r=Vi(e,n,r),ua(e),o=la(e),s=o.featureTable,c=o.batchTable,t.next=7,da(e,s,c,i,a);case 7:return fa(e,s,i),pa(e,s,c),ha(e,s),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ua(t){t.attributes={positions:null,colors:null,normals:null,batchIds:null},t.isQuantized=!1,t.isTranslucent=!1,t.isRGB565=!1,t.isOctEncoded16P=!1}function la(t){var e=new Mi(t.featureTableJson,t.featureTableBinary),n=e.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");e.featuresLength=n,t.featuresLength=n,t.pointsLength=n,t.pointCount=n,t.rtcCenter=e.getGlobalProperty("RTC_CENTER",Di.FLOAT,3);var r=function(t,e){var n=null;if(!t.batchIds&&e.hasProperty("BATCH_ID")&&(t.batchIds=e.getPropertyArray("BATCH_ID",Di.UNSIGNED_SHORT,1),t.batchIds)){var r=e.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=t.batchTableJson,a=t.batchTableBinary;n=new Ki(i,a,r)}return n}(t,e);return{featureTable:e,batchTable:r}}function fa(t,e,n){if(!t.attributes.positions)if(e.hasProperty("POSITION"))t.attributes.positions=e.getPropertyArray("POSITION",Di.FLOAT,3);else if(e.hasProperty("POSITION_QUANTIZED")){var r=e.getPropertyArray("POSITION_QUANTIZED",Di.UNSIGNED_SHORT,3);if(t.isQuantized=!0,t.quantizedRange=65535,t.quantizedVolumeScale=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",Di.FLOAT,3),!t.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(t.quantizedVolumeOffset=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",Di.FLOAT,3),!t.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");t.attributes.positions=ia(t,r,n)}if(!t.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function pa(t,e,n){if(!t.attributes.colors){var r=null;e.hasProperty("RGBA")?(r=e.getPropertyArray("RGBA",Di.UNSIGNED_BYTE,4),t.isTranslucent=!0):e.hasProperty("RGB")?r=e.getPropertyArray("RGB",Di.UNSIGNED_BYTE,3):e.hasProperty("RGB565")&&(r=e.getPropertyArray("RGB565",Di.UNSIGNED_SHORT,1),t.isRGB565=!0),t.attributes.colors=Yi(t,r,n)}e.hasProperty("CONSTANT_RGBA")&&(t.constantRGBA=e.getGlobalProperty("CONSTANT_RGBA",Di.UNSIGNED_BYTE,4))}function ha(t,e){if(!t.attributes.normals){var n=null;e.hasProperty("NORMAL")?n=e.getPropertyArray("NORMAL",Di.FLOAT,3):e.hasProperty("NORMAL_OCT16P")&&(n=e.getPropertyArray("NORMAL_OCT16P",Di.UNSIGNED_BYTE,2),t.isOctEncoded16P=!0),t.attributes.normals=function(t,e){if(!e)return null;if(t.isOctEncoded16P){for(var n=new Float32Array(3*t.pointsLength),r=0;r<t.pointsLength;r++)na(e[2*r],e[2*r+1],ra),ra.toArray(n,3*r);return{type:Di.FLOAT,size:2,value:n}}return{type:Di.FLOAT,size:2,value:e}}(t,n)}}function da(t,e,n,r,i){return va.apply(this,arguments)}function va(){return(va=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){var o,s,c,u,l,f,p,h;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((u=e.batchTableJson&&e.batchTableJson.extensions&&e.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(c=u.properties),!(l=n.getExtension("3DTILES_draco_point_compression"))){t.next=15;break}if(s=l.properties,f=l.byteOffset,p=l.byteLength,s&&Number.isFinite(f)&&p){t.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:o=e.featureTableBinary.slice(f,f+p),e.hasPositions=Number.isFinite(s.POSITION),e.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),e.hasNormals=Number.isFinite(s.NORMAL),e.hasBatchIds=Number.isFinite(s.BATCH_ID),e.isTranslucent=Number.isFinite(s.RGBA);case 15:if(o){t.next=17;break}return t.abrupt("return",!0);case 17:return h={buffer:o,properties:oa(oa({},s),c),featureTableProperties:s,batchTableProperties:c,dequantizeInShader:!1},t.next=20,ba(e,h,i,a);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ba(t,e,n,r){return ya.apply(this,arguments)}function ya(){return(ya=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a,o,s,c,u,l,f,p,h,d,v,b,y,m,A;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.parse,delete(o=oa(oa({},r),{},{draco:oa(oa({},r.draco),{},{extraAttributes:n.batchTableProperties||{}})}))["3d-tiles"],t.next=5,a(n.buffer,Oi,o);case 5:if(s=t.sent,c=s.attributes.POSITION&&s.attributes.POSITION.value,u=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,l=s.attributes.NORMAL&&s.attributes.NORMAL.value,f=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,p=c&&s.attributes.POSITION.value.quantization,h=l&&s.attributes.NORMAL.value.quantization,p&&(d=s.POSITION.data.quantization,v=d.range,e.quantizedVolumeScale=new Ii.a(v,v,v),e.quantizedVolumeOffset=new Ii.a(d.minValues),e.quantizedRange=(1<<d.quantizationBits)-1,e.isQuantizedDraco=!0),h&&(e.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,e.isOctEncodedDraco=!0),b={},n.batchTableProperties)for(y=0,m=Object.keys(n.batchTableProperties);y<m.length;y++)A=m[y],s.attributes[A]&&s.attributes[A].value&&(b[A.toLowerCase()]=s.attributes[A].value);e.attributes=oa({positions:c,colors:Yi(e,u,void 0),normals:l,batchIds:f},b);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ma,Aa,ga="https://unpkg.com/@loaders.gl/textures@".concat("3.3.1","/dist/libs/basis_encoder.wasm"),Ba="https://unpkg.com/@loaders.gl/textures@".concat("3.3.1","/dist/libs/basis_encoder.js");function Oa(t){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(nr.a)(er.a.mark((function t(e){var n;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basis){t.next=3;break}return t.abrupt("return",n.basis);case 3:return ma=ma||Ea(e),t.next=6,ma;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ea(t){return wa.apply(this,arguments)}function wa(){return(wa=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,r=null,t.t0=Promise,t.next=5,ni("basis_transcoder.js","textures",e);case 5:return t.t1=t.sent,t.next=8,ni("basis_transcoder.wasm","textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return i=t.sent,a=Object(g.a)(i,2),n=a[0],r=a[1],n=n||globalThis.BASIS,t.next=19,_a(n,r);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _a(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile;(0,t.initializeBasis)(),e({BasisFile:n})}))}))}function ja(t){return Da.apply(this,arguments)}function Da(){return(Da=Object(nr.a)(er.a.mark((function t(e){var n;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basisEncoder){t.next=3;break}return t.abrupt("return",n.basisEncoder);case 3:return Aa=Aa||Ia(e),t.next=6,Aa;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ia(t){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,r=null,t.t0=Promise,t.next=5,ni(Ba,"textures",e);case 5:return t.t1=t.sent,t.next=8,ni(ga,"textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return i=t.sent,a=Object(g.a)(i,2),n=a[0],r=a[1],n=n||globalThis.BASIS,t.next=19,Ta(n,r);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ta(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile,r=t.KTX2File,i=t.initializeBasis,a=t.BasisEncoder;i(),e({BasisFile:n,KTX2File:r,BasisEncoder:a})}))}))}var Pa={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919};function Ma(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ra=["","WEBKIT_","MOZ_"],Fa={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Ga=null;function ka(t){if(!Ga){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,Ga=new Set;var e,n=Ma(Ra);try{for(n.s();!(e=n.n()).done;){var r=e.value;for(var i in Fa)if(t&&t.getExtension("".concat(r).concat(i))){var a=Fa[i];Ga.add(a)}}}catch(o){n.e(o)}finally{n.f()}}return Ga}n("RdxY");var Ua=[171,75,84,88,32,50,48,187,13,10,26,10];function Ha(t){var e=new Uint8Array(t);return!(e.byteLength<Ua.length||e[0]!==Ua[0]||e[1]!==Ua[1]||e[2]!==Ua[2]||e[3]!==Ua[3]||e[4]!==Ua[4]||e[5]!==Ua[5]||e[6]!==Ua[6]||e[7]!==Ua[7]||e[8]!==Ua[8]||e[9]!==Ua[9]||e[10]!==Ua[10]||e[11]!==Ua[11])}var La={etc1:{basisFormat:0,compressed:!0,format:Pa.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Pa.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Pa.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Pa.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Pa.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Pa.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Ja(){return(Ja=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("auto"!==n.basis.containerFormat){t.next=11;break}if(!Ha(e)){t.next=6;break}return t.next=4,ja(n);case 4:return r=t.sent,t.abrupt("return",Xa(r.KTX2File,e,n));case 6:return t.next=8,Oa(n);case 8:return i=t.sent,a=i.BasisFile,t.abrupt("return",Na(a,e,n));case 11:t.t0=n.basis.module,t.next="encoder"===t.t0?14:(t.t0,22);break;case 14:return t.next=16,ja(n);case 16:o=t.sent,t.t1=n.basis.containerFormat,t.next="ktx2"===t.t1?20:(t.t1,21);break;case 20:return t.abrupt("return",Xa(o.KTX2File,e,n));case 21:return t.abrupt("return",Na(o.BasisFile,e,n));case 22:return t.next=24,Oa(n);case 24:return s=t.sent,c=s.BasisFile,t.abrupt("return",Na(c,e,n));case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Na(t,e,n){var r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");for(var i=r.getNumImages(),a=[],o=0;o<i;o++){for(var s=r.getNumLevels(o),c=[],u=0;u<s;u++)c.push(Ka(r,o,u,n));a.push(c)}return a}finally{r.close(),r.delete()}}function Ka(t,e,n,r){var i=t.getImageWidth(e,n),a=t.getImageHeight(e,n),o=t.getHasAlpha(),s=Va(r,o),c=s.compressed,u=s.format,l=s.basisFormat,f=t.getImageTranscodedSizeInBytes(e,n,l),p=new Uint8Array(f);if(!t.transcodeImage(p,e,n,l,0,0))throw new Error("failed to start Basis transcoding");return{width:i,height:a,data:p,compressed:c,format:u,hasAlpha:o}}function Xa(t,e,n){var r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");for(var i=r.getLevels(),a=[],o=0;o<i;o++){a.push(Qa(r,o,n));break}return[a]}finally{r.close(),r.delete()}}function Qa(t,e,n){var r=t.getImageLevelInfo(e,0,0),i=r.alphaFlag,a=r.height,o=r.width,s=Va(n,i),c=s.compressed,u=s.format,l=s.basisFormat,f=t.getImageTranscodedSizeInBytes(e,0,0,l),p=new Uint8Array(f);if(!t.transcodeImage(p,e,0,0,l,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:a,data:p,compressed:c,levelSize:f,hasAlpha:i,format:u}}function Va(t,e){var n=t&&t.basis&&t.basis.format;return"auto"===n&&(n=za()),"object"==typeof n&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),La[n]}function za(){var t=ka();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wa={name:"Basis",id:vr.b?"basis":"basis-nodejs",module:"textures",version:"3.3.1",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},qa=Za(Za({},Wa),{},{parse:function(t,e){return Ja.apply(this,arguments)}}),$a=n("kEPd"),to=n("sx9D"),eo=n("16Iq");function no(t,e){if(!t)throw new Error(e||"assert failed: gltf")}function ro(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;var n=e.baseUri||e.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(t));return n.substr(0,n.lastIndexOf("/")+1)+t}function io(t,e,n){var r=t.bufferViews[n];no(r);var i=e[r.buffer];no(i);var a=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,a,r.byteLength)}var ao=n("Dm9C"),oo=n("h5Ug"),so=["SCALAR","VEC2","VEC3","VEC4"],co=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],uo=new Map(co),lo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fo={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},po={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function ho(t){return so[t-1]||so[0]}function vo(t){var e=uo.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function bo(t,e){var n=po[t.componentType],r=lo[t.type],i=fo[t.componentType],a=t.count*r,o=t.count*r*i;return no(o>=0&&o<=e.byteLength),{ArrayType:n,length:a,byteLength:o}}function yo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ao(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Bo,Oo={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},Co=function(){function t(e){Object(_.a)(this,t),Object(b.a)(this,"gltf",void 0),Object(b.a)(this,"sourceBuffers",void 0),Object(b.a)(this,"byteLength",void 0),this.gltf=e||{json:go({},Oo),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}return Object(j.a)(t,[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(t){return this.json[t]}},{key:"getExtraData",value:function(t){return(this.json.extras||{})[t]}},{key:"getExtension",value:function(t){var e=this.getUsedExtensions().find((function(e){return e===t})),n=this.json.extensions||{};return e?n[t]||!0:null}},{key:"getRequiredExtension",value:function(t){return this.getRequiredExtensions().find((function(e){return e===t}))?this.getExtension(t):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getRemovedExtensions",value:function(){return this.json.extensionsRemoved||[]}},{key:"getObjectExtension",value:function(t,e){return(t.extensions||{})[e]}},{key:"getScene",value:function(t){return this.getObject("scenes",t)}},{key:"getNode",value:function(t){return this.getObject("nodes",t)}},{key:"getSkin",value:function(t){return this.getObject("skins",t)}},{key:"getMesh",value:function(t){return this.getObject("meshes",t)}},{key:"getMaterial",value:function(t){return this.getObject("materials",t)}},{key:"getAccessor",value:function(t){return this.getObject("accessors",t)}},{key:"getTexture",value:function(t){return this.getObject("textures",t)}},{key:"getSampler",value:function(t){return this.getObject("samplers",t)}},{key:"getImage",value:function(t){return this.getObject("images",t)}},{key:"getBufferView",value:function(t){return this.getObject("bufferViews",t)}},{key:"getBuffer",value:function(t){return this.getObject("buffers",t)}},{key:"getObject",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];if(!n)throw new Error("glTF file error: Could not find ".concat(t,"[").concat(e,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(t){var e=(t=this.getBufferView(t)).buffer,n=this.gltf.buffers[e];no(n);var r=(t.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,t.byteLength)}},{key:"getTypedArrayForAccessor",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=bo(t,e),i=r.ArrayType,a=r.length;return new i(n,e.byteOffset+t.byteOffset,a)}},{key:"getTypedArrayForImageData",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=e.byteOffset||0;return new Uint8Array(n,r,e.byteLength)}},{key:"addApplicationData",value:function(t,e){return this.json[t]=e,this}},{key:"addExtraData",value:function(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}},{key:"addObjectExtension",value:function(t,e,n){return t.extensions=t.extensions||{},t.extensions[e]=n,this.registerUsedExtension(e),this}},{key:"setObjectExtension",value:function(t,e,n){(t.extensions||{})[e]=n}},{key:"removeObjectExtension",value:function(t,e){var n=t.extensions||{},r=n[e];return delete n[e],r}},{key:"addExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return no(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}},{key:"addRequiredExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return no(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}},{key:"registerUsedExtension",value:function(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(e){return e===t}))||this.json.extensionsUsed.push(t)}},{key:"registerRequiredExtension",value:function(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(e){return e===t}))||this.json.extensionsRequired.push(t)}},{key:"removeExtension",value:function(t){if(this.getExtension(t)){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t),this.json.extensions&&delete this.json.extensions[t],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);var e=this.json.extensionsRemoved;e.includes(t)||e.push(t)}}},{key:"setDefaultScene",value:function(t){this.json.scene=t}},{key:"addScene",value:function(t){var e=t.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}},{key:"addNode",value:function(t){var e=t.meshIndex,n=t.matrix;this.json.nodes=this.json.nodes||[];var r={mesh:e};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}},{key:"addMesh",value:function(t){var e=t.attributes,n=t.indices,r=t.material,i=t.mode,a=void 0===i?4:i,o={primitives:[{attributes:this._addAttributes(e),mode:a}]};if(n){var s=this._addIndices(n);o.primitives[0].indices=s}return Number.isFinite(r)&&(o.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}},{key:"addPointCloud",value:function(t){var e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}},{key:"addImage",value:function(t,e){var n=Object(ao.a)(t),r=e||(null==n?void 0:n.mimeType),i={bufferView:this.addBufferView(t),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}},{key:"addBufferView",value:function(t){var e=t.byteLength;no(Number.isFinite(e)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);var n={buffer:0,byteOffset:this.byteLength,byteLength:e};return this.byteLength+=Object(oo.b)(e,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(t,e){var n={bufferView:t,type:ho(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(t),r={min:e.min,max:e.max};r.min&&r.max||(r=this._getAccessorMinMax(t,e.size));var i={size:e.size,componentType:vo(t),count:Math.round(t.length/e.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,e))}},{key:"addTexture",value:function(t){var e={source:t.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(e),this.json.textures.length-1}},{key:"addMaterial",value:function(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var t,e;this.gltf.buffers=[];var n,r=this.byteLength,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0,s=yo(this.sourceBuffers||[]);try{for(s.s();!(n=s.n()).done;){var c=n.value;o=Object(oo.a)(c,a,o)}}catch(u){s.e(u)}finally{s.f()}null!==(t=this.json)&&void 0!==t&&null!==(e=t.buffers)&&void 0!==e&&e[0]?this.json.buffers[0].byteLength=r:this.json.buffers=[{byteLength:r}],this.gltf.binary=i,this.sourceBuffers=[i]}},{key:"_removeStringFromArray",value:function(t,e){for(var n=!0;n;){var r=t.indexOf(e);r>-1?t.splice(r,1):n=!1}}},{key:"_addAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var n in t){var r=t[n],i=this._getGltfAttributeName(n),a=this.addBinaryBuffer(r.value,r);e[i]=a}return e}},{key:"_addIndices",value:function(t){return this.addBinaryBuffer(t,{size:1})}},{key:"_getGltfAttributeName",value:function(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}},{key:"_getAccessorMinMax",value:function(t,e){var n={min:null,max:null};if(t.length<e)return n;n.min=[],n.max=[];var r,i=yo(t.subarray(0,e));try{for(i.s();!(r=i.n()).done;){var a=r.value;n.min.push(a),n.max.push(a)}}catch(c){i.e(c)}finally{i.f()}for(var o=e;o<t.length;o+=e)for(var s=0;s<e;s++)n.min[0+s]=Math.min(n.min[0+s],t[o+s]),n.max[0+s]=Math.max(n.max[0+s],t[o+s]);return n}}]),t}(),Eo="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",wo="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",_o=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),jo=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Do={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Io={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function So(t,e,n,r,i){return To.apply(this,arguments)}function To(){return(To=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){var o,s,c=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>5&&void 0!==c[5]?c[5]:"NONE",t.next=3,Po();case 3:Go(s=t.sent,s.exports[Io[a]],e,n,r,i,s.exports[Do[o||"NONE"]]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Po(){return Mo.apply(this,arguments)}function Mo(){return(Mo=Object(nr.a)(er.a.mark((function t(){return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Bo||(Bo=xo()),t.abrupt("return",Bo);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xo(){return Ro.apply(this,arguments)}function Ro(){return(Ro=Object(nr.a)(er.a.mark((function t(){var e,n;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Eo,WebAssembly.validate(_o)&&(e=wo,console.log("Warning: meshopt_decoder is using experimental SIMD support")),t.next=4,WebAssembly.instantiate(Fo(e),{});case 4:return n=t.sent,t.next=7,n.instance.exports.__wasm_call_ctors();case 7:return t.abrupt("return",n.instance);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fo(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;++n){var r=t.charCodeAt(n);e[n]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}for(var i=0,a=0;a<t.length;++a)e[i++]=e[a]<60?jo[e[a]]:64*(e[a]-60)+e[++a];return e.buffer.slice(0,i)}function Go(t,e,n,r,i,a,o){var s=t.exports.sbrk,c=r+3&-4,u=s(c*i),l=s(a.length),f=new Uint8Array(t.exports.memory.buffer);f.set(a,l);var p=e(u,r,i,l,a.length);if(0===p&&o&&o(u,c,i),n.set(f.subarray(u,u+r*i)),s(u-s(0)),0!==p)throw new Error("Malformed buffer data: ".concat(p))}function ko(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ho="EXT_meshopt_compression";function Lo(t,e){return Jo.apply(this,arguments)}function Jo(){return(Jo=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=new Co(e),null!=n&&null!==(r=n.gltf)&&void 0!==r&&r.decompressMeshes){t.next=3;break}return t.abrupt("return");case 3:a=[],o=ko(e.json.bufferViews||[]);try{for(o.s();!(s=o.n()).done;)c=s.value,a.push(No(i,c))}catch(u){o.e(u)}finally{o.f()}return t.next=8,Promise.all(a);case 8:i.removeExtension("EXT_meshopt_compression");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function No(t,e){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,p,h,d,v,b;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.getObjectExtension(n,"EXT_meshopt_compression"))){t.next=9;break}return i=r.byteOffset,a=void 0===i?0:i,o=r.byteLength,s=void 0===o?0:o,c=r.byteStride,u=r.count,l=r.mode,f=r.filter,p=void 0===f?"NONE":f,h=r.buffer,d=e.gltf.buffers[h],v=new Uint8Array(d.arrayBuffer,d.byteOffset+a,s),b=new Uint8Array(e.gltf.buffers[n.buffer].arrayBuffer,n.byteOffset,n.byteLength),t.next=8,So(b,u,c,v,l,p);case 8:return t.abrupt("return",b);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Xo=n("R8l9");function Qo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Vo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zo="EXT_texture_webp";function Yo(t,e){var n=new Co(t);if(Object(Xo.a)("image/webp")){var r,i=Qo(n.json.textures||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=n.getObjectExtension(a,"EXT_texture_webp");o&&(a.source=o.source),n.removeObjectExtension(a,"EXT_texture_webp")}}catch(s){i.e(s)}finally{i.f()}n.removeExtension("EXT_texture_webp")}else if(n.getRequiredExtensions().includes("EXT_texture_webp"))throw new Error("gltf: Required extension ".concat("EXT_texture_webp"," not supported by browser"))}function Zo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Wo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qo="KHR_texture_basisu";function $o(t,e){var n,r=new Co(t),i=Zo(r.json.textures||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=r.getObjectExtension(a,"KHR_texture_basisu");o&&(a.source=o.source),r.removeObjectExtension(a,"KHR_texture_basisu")}}catch(s){i.e(s)}finally{i.f()}r.removeExtension("KHR_texture_basisu")}function ts(t){var e={};for(var n in t){var r=t[n];if("indices"!==n){var i=es(r);e[n]=i}}return e}function es(t){var e=function(t){var e=t,n=1,r=0;t&&t.value&&(e=t.value,n=t.size||1);e&&(ArrayBuffer.isView(e)||(e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return null;if(Array.isArray(t))return new e(t);if(n&&!(t instanceof e))return new e(t);return t}(e,Float32Array)),r=e.length/n);return{buffer:e,size:n,count:r}}(t),n=e.buffer,r=e.size;return{value:n,size:r,byteOffset:0,count:e.count,type:ho(r),componentType:vo(n)}}function ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var is=er.a.mark(bs);function as(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return os(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function os(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ss="KHR_draco_mesh_compression";function cs(t,e,n){var r,i=new Co(t),a=as(bs(i));try{for(a.s();!(r=a.n()).done;){var o=r.value;i.getObjectExtension(o,"KHR_draco_mesh_compression")}}catch(s){a.e(s)}finally{a.f()}}function us(t,e,n){return ls.apply(this,arguments)}function ls(){return(ls=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a,o,s,c,u;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&null!==(i=n.gltf)&&void 0!==i&&i.decompressMeshes){t.next=2;break}return t.abrupt("return");case 2:a=new Co(e),o=[],s=as(bs(a));try{for(s.s();!(c=s.n()).done;)u=c.value,a.getObjectExtension(u,"KHR_draco_mesh_compression")&&o.push(ps(a,u,n,r))}catch(l){s.e(l)}finally{s.f()}return t.next=8,Promise.all(o);case 8:a.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fs(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Co(t),i=as(r.json.meshes||[]);try{for(i.s();!(e=i.n()).done;){var a=e.value;ds(a,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(o){i.e(o)}finally{i.f()}}function ps(t,e,n,r){return hs.apply(this,arguments)}function hs(){return(hs=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a,o,s,c,u,l,f,p,h,d,v,b,y,m;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.getObjectExtension(n,"KHR_draco_mesh_compression")){t.next=3;break}return t.abrupt("return");case 3:return o=e.getTypedArrayForBufferView(a.bufferView),s=Object(eo.c)(o.buffer,o.byteOffset),c=i.parse,delete(u=rs({},r))["3d-tiles"],t.next=10,c(s,Oi,u,i);case 10:for(l=t.sent,f=ts(l.attributes),p=0,h=Object.entries(f);p<h.length;p++)d=Object(g.a)(h[p],2),v=d[0],b=d[1],v in n.attributes&&(y=n.attributes[v],null!=(m=e.getAccessor(y))&&m.min&&null!=m&&m.max&&(b.min=m.min,b.max=m.max));n.attributes=f,l.indices&&(n.indices=es(l.indices)),vs(n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ds(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var o=i.DracoWriter.encodeSync({attributes:t}),s=null==a||null===(n=a.parseSync)||void 0===n?void 0:n.call(a,{attributes:t}),c=i._addFauxAttributes(s.attributes),u=i.addBufferView(o),l={primitives:[{attributes:c,mode:r,extensions:Object(b.a)({},"KHR_draco_mesh_compression",{bufferView:u,attributes:c})}]};return l}function vs(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function bs(t){var e,n,r,i,a,o;return er.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=as(t.json.meshes||[]),s.prev=1,e.s();case 3:if((n=e.n()).done){s.next=24;break}r=n.value,i=as(r.primitives),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),e.e(s.t1);case 29:return s.prev=29,e.f(),s.finish(29);case 32:case"end":return s.stop()}}),is,null,[[1,26,29,32],[6,16,19,22]])}var ys=n("T27a"),ms={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},As={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};function gs(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Bs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Os="KHR_texture_transform",Cs=new Ii.a,Es=new ys.a,ws=new ys.a;function _s(t,e){return js.apply(this,arguments)}function js(){return(js=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new Co(e),r.getExtension("KHR_texture_transform")){t.next=4;break}return t.abrupt("return");case 4:for(i=e.json.materials||[],a=0;a<i.length;a++)Ds(a,e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ds(t,e){var n,r,i,a=[],o=null===(n=e.json.materials)||void 0===n?void 0:n[t],s=null==o||null===(r=o.pbrMetallicRoughness)||void 0===r?void 0:r.baseColorTexture;s&&Is(e,t,s,a);var c=null==o?void 0:o.emissiveTexture;c&&Is(e,t,c,a);var u=null==o?void 0:o.normalTexture;u&&Is(e,t,u,a);var l=null==o?void 0:o.occlusionTexture;l&&Is(e,t,l,a);var f=null==o||null===(i=o.pbrMetallicRoughness)||void 0===i?void 0:i.metallicRoughnessTexture;f&&Is(e,t,f,a)}function Is(t,e,n,r){var i=function(t,e){var n,r=null===(n=t.extensions)||void 0===n?void 0:n.KHR_texture_transform,i=t.texCoord,a=void 0===i?0:i,o=r.texCoord,s=void 0===o?a:o;if(-1===e.findIndex((function(t){var e=Object(g.a)(t,2),n=e[0],r=e[1];return n===a&&r===s}))){var c=(l=(u=r).offset,f=void 0===l?[0,0]:l,p=u.rotation,h=void 0===p?0:p,d=u.scale,v=void 0===d?[1,1]:d,b=(new ys.a).set(1,0,0,0,1,0,f[0],f[1],1),y=Es.set(Math.cos(h),Math.sin(h),0,-Math.sin(h),Math.cos(h),0,0,0,1),m=ws.set(v[0],0,0,0,v[1],0,0,0,1),b.multiplyRight(y).multiplyRight(m));return a!==s&&(t.texCoord=s),e.push([a,s]),{originalTexCoord:a,texCoord:s,matrix:c}}var u,l,f,p,h,d,v,b,y,m;return null}(n,r);if(i){var a,o=gs(t.json.meshes||[]);try{for(o.s();!(a=o.n()).done;){var s,c=gs(a.value.primitives);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=u.material;Number.isFinite(l)&&e===l&&Ss(t,u,i)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}}}function Ss(t,e,n){var r=n.originalTexCoord,i=n.texCoord,a=n.matrix,o=e.attributes["TEXCOORD_".concat(r)];if(Number.isFinite(o)){var s,c=null===(s=t.json.accessors)||void 0===s?void 0:s[o];if(c&&c.bufferView){var u,l=null===(u=t.json.bufferViews)||void 0===u?void 0:u[c.bufferView];if(l){for(var f=t.buffers[l.buffer],p=f.arrayBuffer,h=(f.byteOffset||0)+(c.byteOffset||0)+(l.byteOffset||0),d=bo(c,l),v=d.ArrayType,b=d.length,y=As[c.componentType],m=ms[c.type],A=l.byteStride||y*m,g=new Float32Array(b),B=0;B<c.count;B++){var O=new v(p,h+B*A,2);Cs.set(O[0],O[1],1),Cs.transformByMatrix3(a),g.set([Cs[0],Cs[1]],B*m)}r===i?function(t,e,n,r){t.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=n.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}(c,l,t.buffers,g):function(t,e,n,r,i){r.buffers.push({arrayBuffer:i.buffer,byteOffset:0,byteLength:i.buffer.byteLength});var a=r.json.bufferViews;if(!a)return;a.push({buffer:r.buffers.length-1,byteLength:i.buffer.byteLength,byteOffset:0});var o=r.json.accessors;if(!o)return;o.push({bufferView:(null==a?void 0:a.length)-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),n.attributes["TEXCOORD_".concat(t)]=o.length-1}(i,c,e,t,g)}}}}function Ts(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ps(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ms="KHR_lights_punctual";function xs(t){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Co(e),r=n.json,(i=n.getExtension("KHR_lights_punctual"))&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual")),a=Ts(r.nodes||[]);try{for(a.s();!(o=a.n()).done;)s=o.value,(c=n.getObjectExtension(s,"KHR_lights_punctual"))&&(s.light=c.light),n.removeObjectExtension(s,"KHR_lights_punctual")}catch(u){a.e(u)}finally{a.f()}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fs(t){return Gs.apply(this,arguments)}function Gs(){return(Gs=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Co(e),(r=n.json).lights&&(no(!(i=n.addExtension("KHR_lights_punctual")).lights),i.lights=r.lights,delete r.lights),n.json.lights){a=Ts(n.json.lights);try{for(a.s();!(o=a.n()).done;)s=o.value,c=s.node,n.addObjectExtension(c,"KHR_lights_punctual",s)}catch(u){a.e(u)}finally{a.f()}delete n.json.lights}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ks(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Us(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Us(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Us(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hs="KHR_materials_unlit";function Ls(t){return Js.apply(this,arguments)}function Js(){return(Js=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Co(e),r=n.json,i=ks(r.materials||[]);try{for(i.s();!(a=i.n()).done;)o=a.value,o.extensions&&o.extensions.KHR_materials_unlit&&(o.unlit=!0),n.removeObjectExtension(o,"KHR_materials_unlit")}catch(s){i.e(s)}finally{i.f()}n.removeExtension("KHR_materials_unlit");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ns(t){var e=new Co(t),n=e.json;if(e.materials){var r,i=ks(n.materials||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.unlit&&(delete a.unlit,e.addObjectExtension(a,"KHR_materials_unlit",{}),e.addExtension("KHR_materials_unlit"))}}catch(o){i.e(o)}finally{i.f()}}}function Ks(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qs="KHR_techniques_webgl";function Vs(t){return zs.apply(this,arguments)}function zs(){return(zs=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s,c,u;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Co(e),r=n.json,i=n.getExtension("KHR_techniques_webgl")){a=Ws(i,n),o=Ks(r.materials||[]);try{for(o.s();!(s=o.n()).done;)c=s.value,(u=n.getObjectExtension(c,"KHR_techniques_webgl"))&&(c.technique=Object.assign({},u,a[u.technique]),c.technique.values=qs(c.technique,n)),n.removeObjectExtension(c,"KHR_techniques_webgl")}catch(l){o.e(l)}finally{o.f()}n.removeExtension("KHR_techniques_webgl")}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ys(t,e){return Zs.apply(this,arguments)}function Zs(){return(Zs=Object(nr.a)(er.a.mark((function t(e,n){return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ws(t,e){var n=t.programs,r=void 0===n?[]:n,i=t.shaders,a=void 0===i?[]:i,o=t.techniques,s=void 0===o?[]:o,c=new TextDecoder;return a.forEach((function(t){if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=c.decode(e.getTypedArrayForBufferView(t.bufferView))})),r.forEach((function(t){t.fragmentShader=a[t.fragmentShader],t.vertexShader=a[t.vertexShader]})),s.forEach((function(t){t.program=r[t.program]})),s}function qs(t,e){var n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach((function(e){t.uniforms[e].value&&!(e in n)&&(n[e]=t.uniforms[e].value)})),Object.keys(n).forEach((function(t){"object"==typeof n[t]&&void 0!==n[t].index&&(n[t].texture=e.getTexture(n[t].index))})),n}var $s="EXT_feature_metadata";function tc(t){return ec.apply(this,arguments)}function ec(){return(ec=Object(nr.a)(er.a.mark((function t(e){return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:nc(new Co(e));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nc(t){var e,n=t.getExtension("EXT_feature_metadata"),r=null==n||null===(e=n.schema)||void 0===e?void 0:e.classes,i=null==n?void 0:n.featureTables;if((null==n?void 0:n.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.'),r&&i)for(var a in r){var o=r[a],s=ac(i,a);s&&rc(t,s,o)}}function rc(t,e,n){for(var r in n.properties){var i,a=n.properties[r],o=null==e||null===(i=e.properties)||void 0===i?void 0:i[r],s=e.count;if(o){var c=ic(t,a,s,o);o.data=c}}}function ic(t,e,n,r){var i=r.bufferView,a=t.getTypedArrayForBufferView(i);switch(e.type){case"STRING":var o=r.stringOffsetBufferView;a=function(t,e,n){for(var r=[],i=new TextDecoder("utf8"),a=0,o=0;o<n;o++){var s=e[4*(o+1)]-e[4*o],c=t.subarray(a,s+a),u=i.decode(c);r.push(u),a+=s}return r}(a,t.getTypedArrayForBufferView(o),n)}return a}function ac(t,e){for(var n in t){var r=t[n];if(r.class===e)return r}return null}function oc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function sc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cc=[r,i,a,o,c,u,l,s,f];function uc(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=cc.filter((function(t){return pc(t.name,n)})),a=oc(i);try{for(a.s();!(e=a.n()).done;){var o,s=e.value;null===(o=s.preprocess)||void 0===o||o.call(s,t,n,r)}}catch(c){a.e(c)}finally{a.f()}}function lc(t){return fc.apply(this,arguments)}function fc(){return(fc=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s,c,u=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,i=cc.filter((function(t){return pc(t.name,n)})),a=oc(i),t.prev=4,a.s();case 6:if((o=a.n()).done){t.next=12;break}return s=o.value,t.next=10,null===(c=s.decode)||void 0===c?void 0:c.call(s,e,n,r);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))).apply(this,arguments)}function pc(t,e){var n,r=(null==e||null===(n=e.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(t in r&&!r[t])}function hc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function dc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yc={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},mc={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Ac=function(){function t(){Object(_.a)(this,t),Object(b.a)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),Object(b.a)(this,"json",void 0)}return Object(j.a)(t,[{key:"normalize",value:function(t,e){this.json=t.json;var n=t.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(t){var e,n=new Co(t),r=n.json,i=hc(r.images||[]);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=n.getObjectExtension(a,"KHR_binary_glTF");o&&Object.assign(a,o),n.removeObjectExtension(a,"KHR_binary_glTF")}}catch(s){i.e(s)}finally{i.f()}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,n.removeExtension("KHR_binary_glTF")}(t),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}},{key:"_addAsset",value:function(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(t){for(var e in yc)this._convertTopLevelObjectToArray(t,e)}},{key:"_convertTopLevelObjectToArray",value:function(t,e){var n=t[e];if(n&&!Array.isArray(n))for(var r in t[e]=[],n){var i=n[r];i.id=i.id||r;var a=t[e].length;t[e].push(i),this.idToIndexMap[e][r]=a}}},{key:"_convertObjectIdsToArrayIndices",value:function(t){for(var e in yc)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));var n,r=vc(t.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(d){r.e(d)}finally{r.f()}var a,o=vc(t.meshes);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._convertMeshIds(s)}}catch(d){o.e(d)}finally{o.f()}var c,u=vc(t.nodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._convertNodeIds(l)}}catch(d){u.e(d)}finally{u.f()}var f,p=vc(t.scenes);try{for(p.s();!(f=p.n()).done;){var h=f.value;this._convertSceneIds(h)}}catch(d){p.e(d)}finally{p.f()}}},{key:"_convertTextureIds",value:function(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}},{key:"_convertMeshIds",value:function(t){var e,n=vc(t.primitives);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.attributes,a=r.indices,o=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");a&&(r.indices=this._convertIdToIndex(a,"accessor")),o&&(r.material=this._convertIdToIndex(o,"material"))}}catch(c){n.e(c)}finally{n.f()}}},{key:"_convertNodeIds",value:function(t){var e=this;t.children&&(t.children=t.children.map((function(t){return e._convertIdToIndex(t,"node")}))),t.meshes&&(t.meshes=t.meshes.map((function(t){return e._convertIdToIndex(t,"mesh")})))}},{key:"_convertSceneIds",value:function(t){var e=this;t.nodes&&(t.nodes=t.nodes.map((function(t){return e._convertIdToIndex(t,"node")})))}},{key:"_convertIdsToIndices",value:function(t,e){t[e]||(console.warn("gltf v1: json doesn't contain attribute ".concat(e)),t[e]=[]);var n,r=vc(t[e]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var a in i){var o=i[a],s=this._convertIdToIndex(o,a);i[a]=s}}}catch(c){r.e(c)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(t,e){var n=mc[e];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][t];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(e," with id ").concat(t));return r}return t}},{key:"_updateObjects",value:function(t){var e,n=vc(this.json.buffers);try{for(n.s();!(e=n.n()).done;){delete e.value.type}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateMaterial",value:function(t){var e,n=vc(t.materials);try{var r=function(){var n=e.value;n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var r=(null===(i=n.values)||void 0===i?void 0:i.tex)||(null===(a=n.values)||void 0===a?void 0:a.texture2d_0)||(null===(o=n.values)||void 0===o?void 0:o.diffuseTex),s=t.textures.findIndex((function(t){return t.id===r}));-1!==s&&(n.pbrMetallicRoughness.baseColorTexture={index:s})};for(n.s();!(e=n.n()).done;){var i,a,o;r()}}catch(s){n.e(s)}finally{n.f()}}}]),t}();function gc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new Ac).normalize(t,e)}var Bc;n("E9XD");function Oc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oc(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ec={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wc={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},_c=10240,jc=10241,Dc=10242,Ic=10243,Sc=10497,Tc=9729,Pc=9986,Mc={magFilter:_c,minFilter:jc,wrapS:Dc,wrapT:Ic},xc=(Bc={},Object(b.a)(Bc,_c,Tc),Object(b.a)(Bc,jc,Pc),Object(b.a)(Bc,Dc,Sc),Object(b.a)(Bc,Ic,Sc),Bc);var Rc=function(){function t(){Object(_.a)(this,t),Object(b.a)(this,"baseUri",""),Object(b.a)(this,"json",{}),Object(b.a)(this,"buffers",[]),Object(b.a)(this,"images",[])}return Object(j.a)(t,[{key:"postProcess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.json,r=t.buffers,i=void 0===r?[]:r,a=t.images,o=void 0===a?[]:a,s=t.baseUri,c=void 0===s?"":s;return no(n),this.baseUri=c,this.json=n,this.buffers=i,this.images=o,this._resolveTree(this.json,e),this.json}},{key:"_resolveTree",value:function(t){var e=this;t.bufferViews&&(t.bufferViews=t.bufferViews.map((function(t,n){return e._resolveBufferView(t,n)}))),t.images&&(t.images=t.images.map((function(t,n){return e._resolveImage(t,n)}))),t.samplers&&(t.samplers=t.samplers.map((function(t,n){return e._resolveSampler(t,n)}))),t.textures&&(t.textures=t.textures.map((function(t,n){return e._resolveTexture(t,n)}))),t.accessors&&(t.accessors=t.accessors.map((function(t,n){return e._resolveAccessor(t,n)}))),t.materials&&(t.materials=t.materials.map((function(t,n){return e._resolveMaterial(t,n)}))),t.meshes&&(t.meshes=t.meshes.map((function(t,n){return e._resolveMesh(t,n)}))),t.nodes&&(t.nodes=t.nodes.map((function(t,n){return e._resolveNode(t,n)}))),t.skins&&(t.skins=t.skins.map((function(t,n){return e._resolveSkin(t,n)}))),t.scenes&&(t.scenes=t.scenes.map((function(t,n){return e._resolveScene(t,n)}))),void 0!==t.scene&&(t.scene=t.scenes[this.json.scene])}},{key:"getScene",value:function(t){return this._get("scenes",t)}},{key:"getNode",value:function(t){return this._get("nodes",t)}},{key:"getSkin",value:function(t){return this._get("skins",t)}},{key:"getMesh",value:function(t){return this._get("meshes",t)}},{key:"getMaterial",value:function(t){return this._get("materials",t)}},{key:"getAccessor",value:function(t){return this._get("accessors",t)}},{key:"getCamera",value:function(t){return null}},{key:"getTexture",value:function(t){return this._get("textures",t)}},{key:"getSampler",value:function(t){return this._get("samplers",t)}},{key:"getImage",value:function(t){return this._get("images",t)}},{key:"getBufferView",value:function(t){return this._get("bufferViews",t)}},{key:"getBuffer",value:function(t){return this._get("buffers",t)}},{key:"_get",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];return n||console.warn("glTF file error: Could not find ".concat(t,"[").concat(e,"]")),n}},{key:"_resolveScene",value:function(t,e){var n=this;return t.id=t.id||"scene-".concat(e),t.nodes=(t.nodes||[]).map((function(t){return n.getNode(t)})),t}},{key:"_resolveNode",value:function(t,e){var n=this;return t.id=t.id||"node-".concat(e),t.children&&(t.children=t.children.map((function(t){return n.getNode(t)}))),void 0!==t.mesh?t.mesh=this.getMesh(t.mesh):void 0!==t.meshes&&t.meshes.length&&(t.mesh=t.meshes.reduce((function(t,e){var r=n.getMesh(e);return t.id=r.id,t.primitives=t.primitives.concat(r.primitives),t}),{primitives:[]})),void 0!==t.camera&&(t.camera=this.getCamera(t.camera)),void 0!==t.skin&&(t.skin=this.getSkin(t.skin)),t}},{key:"_resolveSkin",value:function(t,e){return t.id=t.id||"skin-".concat(e),t.inverseBindMatrices=this.getAccessor(t.inverseBindMatrices),t}},{key:"_resolveMesh",value:function(t,e){var n=this;return t.id=t.id||"mesh-".concat(e),t.primitives&&(t.primitives=t.primitives.map((function(t){var e=(t=Cc({},t)).attributes;for(var r in t.attributes={},e)t.attributes[r]=n.getAccessor(e[r]);return void 0!==t.indices&&(t.indices=n.getAccessor(t.indices)),void 0!==t.material&&(t.material=n.getMaterial(t.material)),t}))),t}},{key:"_resolveMaterial",value:function(t,e){if(t.id=t.id||"material-".concat(e),t.normalTexture&&(t.normalTexture=Cc({},t.normalTexture),t.normalTexture.texture=this.getTexture(t.normalTexture.index)),t.occlusionTexture&&(t.occlustionTexture=Cc({},t.occlustionTexture),t.occlusionTexture.texture=this.getTexture(t.occlusionTexture.index)),t.emissiveTexture&&(t.emmisiveTexture=Cc({},t.emmisiveTexture),t.emissiveTexture.texture=this.getTexture(t.emissiveTexture.index)),t.emissiveFactor||(t.emissiveFactor=t.emmisiveTexture?[1,1,1]:[0,0,0]),t.pbrMetallicRoughness){t.pbrMetallicRoughness=Cc({},t.pbrMetallicRoughness);var n=t.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=Cc({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=Cc({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return t}},{key:"_resolveAccessor",value:function(t,e){var n,r;if(t.id=t.id||"accessor-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView)),t.bytesPerComponent=(n=t.componentType,wc[n]),t.components=(r=t.type,Ec[r]),t.bytesPerElement=t.bytesPerComponent*t.components,t.bufferView){var i=t.bufferView.buffer,a=bo(t,t.bufferView),o=a.ArrayType,s=a.byteLength,c=(t.bufferView.byteOffset||0)+(t.byteOffset||0)+i.byteOffset,u=i.arrayBuffer.slice(c,c+s);t.bufferView.byteStride&&(u=this._getValueFromInterleavedBuffer(i,c,t.bufferView.byteStride,t.bytesPerElement,t.count)),t.value=new o(u)}return t}},{key:"_getValueFromInterleavedBuffer",value:function(t,e,n,r,i){for(var a=new Uint8Array(i*r),o=0;o<i;o++){var s=e+o*n;a.set(new Uint8Array(t.arrayBuffer.slice(s,s+r)),o*r)}return a.buffer}},{key:"_resolveTexture",value:function(t,e){return t.id=t.id||"texture-".concat(e),t.sampler="sampler"in t?this.getSampler(t.sampler):xc,t.source=this.getImage(t.source),t}},{key:"_resolveSampler",value:function(t,e){for(var n in t.id=t.id||"sampler-".concat(e),t.parameters={},t){var r=this._enumSamplerParameter(n);void 0!==r&&(t.parameters[r]=t[n])}return t}},{key:"_enumSamplerParameter",value:function(t){return Mc[t]}},{key:"_resolveImage",value:function(t,e){t.id=t.id||"image-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView));var n=this.images[e];return n&&(t.image=n),t}},{key:"_resolveBufferView",value:function(t,e){var n=t.buffer,r=Cc(Cc({id:"bufferView-".concat(e)},t),{},{buffer:this.buffers[n]}),i=this.buffers[n].arrayBuffer,a=this.buffers[n].byteOffset||0;return"byteOffset"in t&&(a+=t.byteOffset),r.data=new Uint8Array(i,a,t.byteLength),r}},{key:"_resolveCamera",value:function(t,e){return t.id=t.id||"camera-".concat(e),t.perspective,t.orthographic,t}}]),t}();function Fc(t,e){return(new Rc).postProcess(t,e)}function Gc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(t.getUint8(e+0))).concat(String.fromCharCode(t.getUint8(e+1))).concat(String.fromCharCode(t.getUint8(e+2))).concat(String.fromCharCode(t.getUint8(e+3)))}function kc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(t),i=n.magic,a=void 0===i?1735152710:i,o=r.getUint32(e,!1);return o===a||1735152710===o}function Uc(t,e,n){Object(pr.a)(t.header.byteLength>20);var r=e.getUint32(n+0,!0),i=e.getUint32(n+4,!0);return n+=8,Object(pr.a)(0===i),Lc(t,e,n,r),n+=r,n+=Jc(t,e,n,t.header.byteLength)}function Hc(t,e,n,r){return Object(pr.a)(t.header.byteLength>20),function(t,e,n,r){for(;n+8<=t.header.byteLength;){var i=e.getUint32(n+0,!0),a=e.getUint32(n+4,!0);switch(n+=8,a){case 1313821514:Lc(t,e,n,i);break;case 5130562:Jc(t,e,n,i);break;case 0:r.strict||Lc(t,e,n,i);break;case 1:r.strict||Jc(t,e,n,i)}n+=Object(oo.b)(i,4)}}(t,e,n,r),n+t.header.byteLength}function Lc(t,e,n,r){var i=new Uint8Array(e.buffer,n,r),a=new TextDecoder("utf8").decode(i);return t.json=JSON.parse(a),Object(oo.b)(r,4)}function Jc(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),Object(oo.b)(r,4)}function Nc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xc(t,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,p,h=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=h.length>2&&void 0!==h[2]?h[2]:0,c=h.length>3?h[3]:void 0,u=h.length>4?h[4]:void 0,Vc(e,n,s,c),gc(e,{normalize:null==c||null===(r=c.gltf)||void 0===r?void 0:r.normalize}),uc(e,c,u),l=[],null==c||null===(i=c.gltf)||void 0===i||!i.loadBuffers||!e.json.buffers){t.next=10;break}return t.next=10,zc(e,c,u);case 10:return null!=c&&null!==(a=c.gltf)&&void 0!==a&&a.loadImages&&(f=Zc(e,c,u),l.push(f)),p=lc(e,c,u),l.push(p),t.next=15,Promise.all(l);case 15:return t.abrupt("return",null!=c&&null!==(o=c.gltf)&&void 0!==o&&o.postProcess?Fc(e,c):e);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vc(t,e,n,r){(r.uri&&(t.baseUri=r.uri),e instanceof ArrayBuffer&&!kc(e,n,r))&&(e=(new TextDecoder).decode(e));if("string"==typeof e)t.json=Object(to.a)(e);else if(e instanceof ArrayBuffer){var i={};n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e),i=Gc(r,n+0),a=r.getUint32(n+4,!0),o=r.getUint32(n+8,!0);switch(Object.assign(t,{header:{byteOffset:n,byteLength:o,hasBinChunk:!1},type:i,version:a,json:{},binChunks:[]}),n+=12,t.version){case 1:return Uc(t,r,n);case 2:return Hc(t,r,n,{});default:throw new Error("Invalid GLB version ".concat(t.version,". Only supports v1 and v2."))}}(i,e,n,r.glb),no("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),t._glb=i,t.json=i.json}else no(!1,"GLTF: must be ArrayBuffer or string");var a=t.json.buffers||[];if(t.buffers=new Array(a.length).fill(null),t._glb&&t._glb.header.hasBinChunk){var o=t._glb.binChunks;t.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var s=t.json.images||[];t.images=new Array(s.length).fill({})}function zc(t,e,n){return Yc.apply(this,arguments)}function Yc(){return(Yc=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a,o,s,c,u,l,f;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.json.buffers||[],a=0;case 2:if(!(a<i.length)){t.next=22;break}if(!(o=i[a]).uri){t.next=18;break}return no(r.fetch),u=ro(o.uri,n),t.next=10,null==r||null===(s=r.fetch)||void 0===s?void 0:s.call(r,u);case 10:return l=t.sent,t.next=13,null==l||null===(c=l.arrayBuffer)||void 0===c?void 0:c.call(l);case 13:f=t.sent,e.buffers[a]={arrayBuffer:f,byteOffset:0,byteLength:f.byteLength},delete o.uri,t.next=19;break;case 18:null===e.buffers[a]&&(e.buffers[a]={arrayBuffer:new ArrayBuffer(o.byteLength),byteOffset:0,byteLength:o.byteLength});case 19:++a,t.next=2;break;case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zc(t,e,n){return Wc.apply(this,arguments)}function Wc(){return(Wc=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a,o,s,c,u;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=qc(e),a=e.json.images||[],o=[],s=Nc(i);try{for(s.s();!(c=s.n()).done;)u=c.value,o.push($c(e,a[u],u,n,r))}catch(l){s.e(l)}finally{s.f()}return t.next=7,Promise.all(o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qc(t){var e,n=new Set,r=Nc(t.json.textures||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i.source&&n.add(i.source)}}catch(a){r.e(a)}finally{r.f()}return Array.from(n).sort()}function $c(t,e,n,r,i){return tu.apply(this,arguments)}function tu(){return(tu=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){var o,s,c,u,l,f,p;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.fetch,s=a.parse,!n.uri||n.hasOwnProperty("bufferView")){t.next=10;break}return u=ro(n.uri,i),t.next=5,o(u);case 5:return l=t.sent,t.next=8,l.arrayBuffer();case 8:c=t.sent,n.bufferView={data:c};case 10:return Number.isFinite(n.bufferView)&&(f=io(e.json,e.buffers,n.bufferView),c=Object(eo.c)(f.buffer,f.byteOffset,f.byteLength)),no(c,"glTF image has no data"),t.next=14,s(c,[$a.a,qa],{mimeType:n.mimeType,basis:i.basis||{format:za()}},a);case 14:(p=t.sent)&&p[0]&&(p={compressed:!0,mipmaps:!1,width:p[0].width,height:p[0].height,data:p[0]}),e.images=e.images||[],e.images[r]=p;case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function eu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eu(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ru={name:"glTF",id:"gltf",module:"gltf",version:"3.3.1",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(t){return iu.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function iu(){return(iu=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=nu(nu({},ru.options),n)).gltf=nu(nu({},ru.options.gltf),n.gltf),i=n.byteOffset,a=void 0===i?0:i,o={},t.next=8,Xc(o,e,a,n,r);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var au=0,ou=1;function su(t,e,n,r){t.rotateYtoZ=!0;var i=t.byteOffset+t.byteLength-n;if(0===i)throw new Error("glTF byte length must be greater than 0.");return t.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",t.gltfArrayBuffer=Object(eo.c)(e,n,i),t.gltfByteOffset=0,t.gltfByteLength=i,n%4==0||console.warn("".concat(t.type,": embedded glb is not aligned to a 4-byte boundary.")),t.byteOffset+t.byteLength}function cu(t,e,n,r){return uu.apply(this,arguments)}function uu(){return(uu=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a,o,s;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r["3d-tiles"]||{},lu(e,n,r),!a.loadGLTF){t.next=16;break}if(o=i.parse,s=i.fetch,!e.gltfUrl){t.next=9;break}return t.next=7,s(e.gltfUrl,r);case 7:e.gltfArrayBuffer=t.sent,e.gltfByteOffset=0;case 9:if(!e.gltfArrayBuffer){t.next=16;break}return t.next=12,o(e.gltfArrayBuffer,ru,r,i);case 12:e.gltf=t.sent,delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lu(t,e,n){switch(e){case au:var r=new Uint8Array(t.gltfArrayBuffer,t.gltfByteOffset),i=(new TextDecoder).decode(r);t.gltfUrl=i.replace(/[\s\0]+$/,""),delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;break;case ou:break;default:throw new Error("b3dm: Illegal glTF format field")}}function fu(t,e,n,r,i){return pu.apply(this,arguments)}function pu(){return(pu=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){var o,s;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=hu(e,n,r,i,a),t.next=3,cu(e,ou,i,a);case 3:return(s=null==e||null===(o=e.gltf)||void 0===o?void 0:o.extensions)&&s.CESIUM_RTC&&(e.rtcCenter=s.CESIUM_RTC.center),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hu(t,e,n,r,i){n=su(t,e,n=Vi(t,e,n=Qi(t,e,n=Xi(t,e,n))),r);var a=new Mi(t.featureTableJson,t.featureTableBinary);return t.rtcCenter=a.getGlobalProperty("RTC_CENTER",Di.FLOAT,3),n}var du=n("PcVa"),vu=n("kh/P"),bu=n("FlnL");function yu(t,e,n,r,i){return mu.apply(this,arguments)}function mu(){return(mu=Object(nr.a)(er.a.mark((function t(e,n,r,i,a){return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Au(e,n,r,i,a),t.next=3,cu(e,e.gltfFormat,i,a);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Au(t,e,n,r,i){if(n=Xi(t,e,n),1!==t.version)throw new Error("Instanced 3D Model version ".concat(t.version," is not supported"));n=Qi(t,e,n);var a=new DataView(e);if(t.gltfFormat=a.getUint32(n,!0),n=su(t,e,n=Vi(t,e,n+=4),r),0===t.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var o=new Mi(t.featureTableJson,t.featureTableBinary),s=o.getGlobalProperty("INSTANCES_LENGTH");if(o.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");t.eastNorthUp=o.getGlobalProperty("EAST_NORTH_UP"),t.rtcCenter=o.getGlobalProperty("RTC_CENTER",Di.FLOAT,3);new Ki(t.batchTableJson,t.batchTableBinary,s);return function(t,e,n,r){for(var i=[new Array(r),t._batchTable][0],a=new Ii.a,o=(new Ii.a,new Ii.a,new Ii.a,new ys.a),s=new du.a,c=new Ii.a,u={},l=new vu.a,f=[],p=[],h=new Ii.a,d=new Ii.a,v=0;v<r;v++){var b=void 0;if(e.hasProperty("POSITION"))b=e.getProperty("POSITION",Di.FLOAT,3,v,a);else if(e.hasProperty("POSITION_QUANTIZED")){b=e.getProperty("POSITION_QUANTIZED",Di.UNSIGNED_SHORT,3,v,a);var y=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",Di.FLOAT,3,h);if(!y)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var m=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",Di.FLOAT,3,d);if(!m)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var A=0;A<3;A++)b[A]=b[A]/65535*m[A]+y[A]}if(!b)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");a.copy(b),u.translation=a,t.normalUp=e.getProperty("NORMAL_UP",Di.FLOAT,3,v,f),t.normalRight=e.getProperty("NORMAL_RIGHT",Di.FLOAT,3,v,p);if(t.normalUp){if(!t.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");t.hasCustomOrientation=!0}else{if(t.octNormalUp=e.getProperty("NORMAL_UP_OCT32P",Di.UNSIGNED_SHORT,2,f),t.octNormalRight=e.getProperty("NORMAL_RIGHT_OCT32P",Di.UNSIGNED_SHORT,2,p),t.octNormalUp){if(!t.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}t.eastNorthUp?(bu.a.WGS84.eastNorthUpToFixedFrame(a,l),l.getRotationMatrix3(o)):o.identity()}!1,s.fromMatrix3(o),u.rotation=s,c.set(1,1,1);var g=e.getProperty("SCALE",Di.FLOAT,1,v);Number.isFinite(g)&&c.multiplyByScalar(g);var B=e.getProperty("SCALE_NON_UNIFORM",Di.FLOAT,3,v,f);B&&c.scale(B),u.scale=c;var O=e.getProperty("BATCH_ID",Di.UNSIGNED_SHORT,1,v);void 0===O&&(O=v);var C=(new vu.a).fromQuaternion(u.rotation);l.identity(),l.translate(u.translation),l.multiplyRight(C),l.scale(u.scale);var E=l.clone();i[v]={modelMatrix:E,batchId:O}}t.instances=i}(t,o,0,s),n}function gu(t,e,n,r,i,a){return Bu.apply(this,arguments)}function Bu(){return(Bu=Object(nr.a)(er.a.mark((function t(e,n,r,i,a,o){var s,c;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Xi(e,n,r),s=new DataView(n),e.tilesLength=s.getUint32(r,!0),r+=4,e.tiles=[];case 5:if(!(e.tiles.length<e.tilesLength&&e.byteLength-r>12)){t.next=13;break}return c={},e.tiles.push(c),t.next=10,o(n,r,i,a,c);case 10:r=t.sent,t.next=5;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ou(t,e,n,r){return Cu.apply(this,arguments)}function Cu(){return(Cu=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.rotateYtoZ=!0,e.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",a=i.parse,t.next=5,a(n,ru,r,i);case 5:e.gltf=t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Eu(t){return wu.apply(this,arguments)}function wu(){return(wu=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,(a=o.length>4&&void 0!==o[4]?o[4]:{}).byteOffset=n,a.type=dr(e,n),t.t0=a.type,t.next=t.t0===fr.COMPOSITE?9:t.t0===fr.BATCHED_3D_MODEL?12:t.t0===fr.GLTF?15:t.t0===fr.INSTANCED_3D_MODEL?18:t.t0===fr.POINT_CLOUD?21:24;break;case 9:return t.next=11,gu(a,e,n,r,i,Eu);case 11:return t.abrupt("return",t.sent);case 12:return t.next=14,fu(a,e,n,r,i);case 14:return t.abrupt("return",t.sent);case 15:return t.next=17,Ou(a,e,r,i);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,yu(a,e,n,r,i);case 20:return t.abrupt("return",t.sent);case 21:return t.next=23,sa(a,e,n,r,i);case 23:return t.abrupt("return",t.sent);case 24:throw new Error("3DTileLoader: unknown type ".concat(a.type));case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _u(){return(_u=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a,o,s,c,u,l;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1952609651===new Uint32Array(e.slice(0,4))[0]){t.next=3;break}throw new Error("Wrong subtree file magic number");case 3:if(1===new Uint32Array(e.slice(4,8))[0]){t.next=6;break}throw new Error("Wrong subtree file verson, must be 1");case 6:if(i=Su(e.slice(8,16)),a=new Uint8Array(e,24,i),o=new TextDecoder("utf8"),s=o.decode(a),c=JSON.parse(s),u=Su(e.slice(16,24)),l=new ArrayBuffer(0),u&&(l=e.slice(24+i)),!("bufferView"in c.tileAvailability)){t.next=18;break}return t.next=17,Du(c,"tileAvailability",l,r);case 17:c.tileAvailability.explicitBitstream=t.sent;case 18:if(!("bufferView"in c.contentAvailability)){t.next=22;break}return t.next=21,Du(c,"contentAvailability",l,r);case 21:c.contentAvailability.explicitBitstream=t.sent;case 22:if(!("bufferView"in c.childSubtreeAvailability)){t.next=26;break}return t.next=25,Du(c,"childSubtreeAvailability",l,r);case 25:c.childSubtreeAvailability.explicitBitstream=t.sent;case 26:return t.abrupt("return",c);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ju(t,e){if(e.startsWith("http")){var n=new URL(t,e);return decodeURI(n.toString())}var r="http://".concat(e),i=new URL(t,r);return"/".concat(i.host).concat(i.pathname)}function Du(t,e,n,r){return Iu.apply(this,arguments)}function Iu(){return(Iu=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a,o,s,c,u,l;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e[n].bufferView,o=e.bufferViews[a],s=e.buffers[o.buffer],null!=i&&i.url&&i.fetch){t.next=5;break}throw new Error("Url is not provided");case 5:if(i.fetch){t.next=7;break}throw new Error("fetch is not provided");case 7:if(!s.uri){t.next=16;break}return c=ju(s.uri,null==i?void 0:i.url),t.next=11,i.fetch(c);case 11:return u=t.sent,t.next=14,u.arrayBuffer();case 14:return l=t.sent,t.abrupt("return",new Uint8Array(l,o.byteOffset,o.byteLength));case 16:return t.abrupt("return",new Uint8Array(r,o.byteOffset,o.byteLength));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Su(t){var e=new DataView(t),n=e.getUint32(0,!0),r=e.getUint32(4,!0);return n+Math.pow(2,32)*r}var Tu={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:"3.3.1",extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:function(t,e,n){return _u.apply(this,arguments)},options:{}},Pu=n("p1p/"),Mu={QUADTREE:4,OCTREE:8};function xu(t){return Ru.apply(this,arguments)}function Ru(){return(Ru=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o,s,c,u,l,f,p,h,d,v,b,y,m,A,g,B,O,C,E,w,_,j,D,I,S,T,P,M,x,R,F,G,k,U,H,L;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.options,r=e.parentData,i=void 0===r?{mortonIndex:0,x:0,y:0,z:0}:r,a=e.childIndex,o=void 0===a?0:a,s=e.globalData,c=void 0===s?{level:0,mortonIndex:0,x:0,y:0,z:0}:s,u=e.subtree,l=e.level,f=void 0===l?0:l,p=n.subdivisionScheme,h=n.subtreeLevels,d=n.maximumLevel,v=n.contentUrlTemplate,b=n.subtreesUriTemplate,y=n.basePath,m={children:[],lodMetricValue:0,contentUrl:""},A=Mu[p],g=1&o,B=o>>1&1,O=o>>2&1,C=(Math.pow(A,f)-1)/(A-1),E=ku(i.mortonIndex,o),w=C+E,_=ku(i.x,g),j=ku(i.y,B),D=ku(i.z,O),I=!1,f+1>h&&(I=Fu(u.childSubtreeAvailability,E)),S=ku(c.x,_),T=ku(c.y,j),P=ku(c.z,D),M=f+c.level,!I){t.next=38;break}return x="".concat(y,"/").concat(b),R=Uu(x,M,S,T,P),t.next=25,Object(Pu.a)(R,Tu);case 25:F=t.sent,u=F,c.mortonIndex=E,c.x=_,c.y=j,c.z=D,c.level=f,E=0,w=0,_=0,j=0,D=0,f=0;case 38:if(Fu(u.tileAvailability,w)&&!(f>d)){t.next=41;break}return t.abrupt("return",m);case 41:Fu(u.contentAvailability,w)&&(m.contentUrl=Uu(v,M,S,T,P)),G=f+1,k={mortonIndex:E,x:_,y:j,z:D},U=0;case 46:if(!(U<A)){t.next=54;break}return t.next=49,xu({subtree:u,options:n,parentData:k,childIndex:U,level:G,globalData:c});case 49:((H=t.sent).contentUrl||H.children.length)&&(L=Gu(H,M+1,{childTileX:_,childTileY:j,childTileZ:D},n),m.children.push(L));case 51:U++,t.next=46;break;case 54:return t.abrupt("return",m);case 55:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fu(t,e){return"constant"in t?Boolean(t.constant):!!t.explicitBitstream&&(n=e,r=t.explicitBitstream,i=Math.floor(n/8),a=n%8,1==(r[i]>>a&1));var n,r,i,a}function Gu(t,e,n,r){var i=r.basePath,a=r.refine,o=r.getRefine,s=r.lodMetricType,c=r.getTileType,u=r.rootLodMetricValue,l=r.rootBoundingVolume,f=t.contentUrl&&t.contentUrl.replace("".concat(i,"/"),""),p=u/Math.pow(2,e),h=function(t,e,n){if(e.region){var r=n.childTileX,i=n.childTileY,a=n.childTileZ,o=Object(g.a)(e.region,6),s=o[0],c=o[1],u=o[2],l=o[3],f=o[4],p=o[5],h=Math.pow(2,t),d=(u-s)/h,v=(l-c)/h,b=(p-f)/h;return{region:[s+d*r,c+v*i,s+d*(r+1),c+v*(i+1),f+b*a,f+b*(a+1)]}}return console.warn("Unsupported bounding volume type: ",e),null}(e,l,n);return{children:t.children,contentUrl:t.contentUrl,content:{uri:f},id:t.contentUrl,refine:o(a),type:c(t),lodMetricType:s,lodMetricValue:p,geometricError:p,transform:t.transform,boundingVolume:h}}function ku(t,e){return parseInt(t.toString(2)+e.toString(2),2)}function Uu(t,e,n,r,i){var a=function(t){var e={};for(var n in t)e["{".concat(n,"}")]=t[n];return e}({level:e,x:n,y:r,z:i});return t.replace(/{level}|{x}|{y}|{z}/gi,(function(t){return a[t]}))}function Hu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ju(t){if(!t.contentUrl)return or;var e=t.contentUrl.split(".").pop();switch(e){case"pnts":return cr;case"i3dm":case"b3dm":case"glb":case"gltf":return sr;default:return e}}function Nu(t){switch(t){case"REPLACE":case"replace":return ar;case"ADD":case"add":return ir;default:return t}}function Ku(t,e){if(/^[a-z][0-9a-z+.-]*:/i.test(e)){var n=new URL(t,"".concat(e,"/"));return decodeURI(n.toString())}return t.startsWith("/")?t:"".concat(e,"/").concat(t)}function Xu(t,e){if(!t)return null;if(t.content){var n=t.content.uri||t.content.url;t.contentUrl=Ku(n,e.basePath)}return t.id=t.contentUrl,t.lodMetricType=lr,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform,t.type=Ju(t),t.refine=Nu(t.refine),t}function Qu(t,e){return Vu.apply(this,arguments)}function Vu(){return(Vu=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,p;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.basePath,!(a=qu(null==e?void 0:e.root))||!e.root){t.next=8;break}return t.next=5,zu(e.root,e,a,n);case 5:i=t.sent,t.next=9;break;case 8:i=Xu(e.root,e);case 9:(o=[]).push(i);case 11:if(!(o.length>0)){t.next=40;break}s=o.pop()||{},c=s.children||[],u=Hu(c),t.prev=15,u.s();case 17:if((l=u.n()).done){t.next=30;break}if(f=l.value,!(p=qu(f))){t.next=26;break}return t.next=23,zu(f,e,p,n);case 23:f=t.sent,t.next=27;break;case 26:Xu(f,{basePath:r});case 27:o.push(f);case 28:t.next=17;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(15),u.e(t.t0);case 35:return t.prev=35,u.f(),t.finish(35);case 38:t.next=11;break;case 40:return t.abrupt("return",i);case 41:case"end":return t.stop()}}),t,null,[[15,32,35,38]])})))).apply(this,arguments)}function zu(t,e,n,r){return Yu.apply(this,arguments)}function Yu(){return(Yu=Object(nr.a)(er.a.mark((function t(e,n,r,i){var a,o,s,c,u,l,f,p,h,d,v,b,y,m;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.basePath,s=r.subdivisionScheme,c=r.maximumLevel,u=r.subtreeLevels,l=r.subtrees.uri,f=Uu(l,0,0,0,0),p=Ku(f,o),t.next=6,Object(Pu.a)(p,Tu,i);case 6:return h=t.sent,d=Ku(e.content.uri,o),v=null==n||null===(a=n.root)||void 0===a?void 0:a.refine,b=e.geometricError,y=e.boundingVolume,m={contentUrlTemplate:d,subtreesUriTemplate:l,subdivisionScheme:s,subtreeLevels:u,maximumLevel:c,refine:v,basePath:o,lodMetricType:lr,rootLodMetricValue:b,rootBoundingVolume:y,getTileType:Ju,getRefine:Nu},t.next=14,Zu(e,h,m);case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zu(t,e,n){return Wu.apply(this,arguments)}function Wu(){return(Wu=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a,o;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return e.lodMetricType=lr,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,t.next=7,xu({subtree:n,options:r});case 7:return i=t.sent,a=i.children,(o=i.contentUrl)&&(e.contentUrl=o,e.content={uri:o.replace("".concat(r.basePath,"/"),"")}),e.refine=Nu(e.refine),e.type=Ju(e),e.children=a,e.id=e.contentUrl,t.abrupt("return",e);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qu(t){var e;return(null==t||null===(e=t.extensions)||void 0===e?void 0:e["3DTILES_implicit_tiling"])||(null==t?void 0:t.implicitTiling)}var $u={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:"3.3.1",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(t,e,n){return al.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};function tl(t){return rr.a.dirname(t.url)}function el(t,e,n){return nl.apply(this,arguments)}function nl(){return(nl=Object(nr.a)(er.a.mark((function t(e,n,r){var i;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={content:{featureIds:null}},0,t.next=4,Eu(e,0,n,r,i.content);case 4:return t.abrupt("return",i.content);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rl(t,e,n){return il.apply(this,arguments)}function il(){return(il=Object(nr.a)(er.a.mark((function t(e,n,r){var i,a;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=JSON.parse((new TextDecoder).decode(e))).loader=n.loader||$u,a.url=r.url,a.basePath=tl(a),t.next=6,Qu(a,n);case 6:return a.root=t.sent,a.type=ur,a.lodMetricType=lr,a.lodMetricValue=(null===(i=a.root)||void 0===i?void 0:i.lodMetricValue)||0,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function al(){return(al=Object(nr.a)(er.a.mark((function t(e,n,r){var i;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n["3d-tiles"]||{},!("auto"===i.isTileset?r.url&&-1!==r.url.indexOf(".json"):i.isTileset)){t.next=8;break}return t.next=5,rl(e,n,r);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,el(e,n,r);case 10:e=t.sent;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ol=n("OauZ");function sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ul(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ll(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ll(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ll(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fl="https://api.cesium.com/v1/assets";function pl(t,e){return hl.apply(this,arguments)}function hl(){return(hl=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s,c,u;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,dl(e);case 3:r=t.sent,i=ul(r.items);try{for(i.s();!(a=i.n()).done;)"3DTILES"===(o=a.value).type&&(n=o.id)}catch(l){i.e(l)}finally{i.f()}case 6:return t.next=8,bl(e,n);case 8:return s=t.sent,c=s.type,u=s.url,Object(pr.a)("3DTILES"===c&&u),s.headers={Authorization:"Bearer ".concat(s.accessToken)},t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dl(t){return vl.apply(this,arguments)}function vl(){return(vl=Object(nr.a)(er.a.mark((function t(e){var n,r;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(pr.a)(e),fl,n={Authorization:"Bearer ".concat(e)},t.next=5,Object(ol.a)("https://api.cesium.com/v1/assets",{fetch:{headers:n}});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:return t.next=10,r.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bl(t,e){return yl.apply(this,arguments)}function yl(){return(yl=Object(nr.a)(er.a.mark((function t(e,n){var r,i,a,o,s;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(pr.a)(e,n),r={Authorization:"Bearer ".concat(e)},i="".concat(fl,"/").concat(n),t.next=5,Object(ol.a)("".concat(i),{fetch:{headers:r}});case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.next=10,a.json();case 10:return o=t.sent,t.next=13,Object(ol.a)("".concat(i,"/endpoint"),{fetch:{headers:r}});case 13:if((a=t.sent).ok){t.next=16;break}throw new Error(a.statusText);case 16:return t.next=18,a.json();case 18:return s=t.sent,o=cl(cl({},o),s),t.abrupt("return",o);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ml(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gl(){return(gl=Object(nr.a)(er.a.mark((function t(e){var n,r,i,a,o=arguments;return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=o.length>1&&void 0!==o[1]?o[1]:{})["cesium-ion"]||{},r=n.accessToken,i=n.assetId,Number.isFinite(i)||(a=e.match(/\/([0-9]+)\/tileset.json/),i=a&&a[1]),t.abrupt("return",pl(r,i));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Bl,Ol=Al(Al({},$u),{},{id:"cesium-ion",name:"Cesium Ion",preload:function(t){return gl.apply(this,arguments)},parse:(Bl=Object(nr.a)(er.a.mark((function t(e,n,r){return er.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Al({},n))["3d-tiles"]=n["cesium-ion"],n.loader=Ol,t.abrupt("return",$u.parse(e,n,r));case 4:case"end":return t.stop()}}),t)}))),function(t,e,n){return Bl.apply(this,arguments)}),options:{"cesium-ion":Al(Al({},$u.options["3d-tiles"]),{},{accessToken:null})}});function Cl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cl(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wl={latitude:40,longitude:-75,pitch:45,maxPitch:60,bearing:0,minZoom:2,maxZoom:30,zoom:17};function _l(t){var e=t.mapStyle,n=void 0===e?"https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json":e,r=t.updateAttributions,i=Object(h.useState)(wl),a=i[0],o=i[1],s=new $n.a({id:"tile-3d-layer",pointSize:2,data:"https://assets.ion.cesium.com/43978/tileset.json",loader:Ol,loadOptions:{"cesium-ion":{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NjEwMjA4Ni00YmVkLTQyMjgtYjRmZS1lY2M3ZWFiMmFmNTYiLCJpZCI6MjYxMzMsImlhdCI6MTY3NTM2ODY4NX0.chGkGL6DkDNv5wYJQDMzWIvi9iDoVa27dgng_5ARDmo"}},onTilesetLoad:function(t){var e=t.cartographicCenter,n=t.zoom;o(El(El({},wl),{},{longitude:e[0],latitude:e[1],zoom:n})),r&&r(t.credits&&t.credits.attributions)}});return d.a.createElement(qn.a,{layers:[s],initialViewState:a,controller:!0},d.a.createElement(et,{reuseMaps:!0,mapStyle:n,preventStyleDiffing:!0}))}var jl=n("CtqP"),Dl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._updateAttributions=function(t){e.props.onStateChange({attributions:t})},e}return Object(p.a)(e,t),e.renderInfo=function(t){if(!t.attributions)return null;var e=t.attributions;return d.a.createElement("div",{style:{marginTop:"0.5cm"}},d.a.createElement("div",{style:{textAlign:"center",borderStyle:"groove"}},Boolean(e.length)&&d.a.createElement("b",null,"Tileset Credentials"),e.map((function(t){return d.a.createElement("div",{key:t.html,dangerouslySetInnerHTML:{__html:t.html}})}))))},e.prototype.render=function(){return d.a.createElement(_l,Object.assign({},this.props,{updateAttributions:this._updateAttributions}))},e}(h.Component);Dl.title="City of Melbourne 3D Point Cloud",Dl.code=v.b+"/examples/website/3d-tiles",Dl.parameters={},Dl.mapStyle=v.c.DARK;e.default=Object(jl.a)(Dl)},A67p:function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},a=i.global||i.self||i.window||{},o="object"!=typeof r||"[object process]"!==String(r)||r.browser,s="function"==typeof importScripts,c=("undefined"!=typeof window&&window.orientation,void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version));c&&parseFloat(c[1])}).call(this,n("yLpj"),n("8oxB"))},D9qG:function(t,e,n){"use strict";(function(t){n("E9XD");var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function a(){n&&(n=!1,t()),r&&c()}function s(){o(a)}function c(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||a},p=m(0,0,0,0);function h(t){return parseFloat(t)||0}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function v(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=f(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=t["padding-"+i];e[i]=h(a)}return e}(r),a=i.left+i.right,o=i.top+i.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==e&&(s-=d(r,"left","right")+a),Math.round(c+o)!==n&&(c-=d(r,"top","bottom")+o)),!function(t){return t===f(t).document.documentElement}(t)){var u=Math.round(s+a)-e,l=Math.round(c+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return m(i.left,i.top,s,c)}var b="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function y(t){return i?b(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):v(t):p}function m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var A=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=y(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),g=function(t,e){var n,r,i,a,o,s,c,u=(r=(n=e).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),c);l(this,{target:t,contentRect:u})},B=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new A(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new g(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),O="undefined"!=typeof WeakMap?new WeakMap:new r,C=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new B(e,n,this);O.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){C.prototype[t]=function(){var e;return(e=O.get(this))[t].apply(e,arguments)}}));var E=void 0!==a.ResizeObserver?a.ResizeObserver:C;e.a=E}).call(this,n("yLpj"))},RdxY:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var r=n("vuIU"),i=n("1OyB");new Uint8Array([0]);var a,o,s,c,u,l,f,p,h=[171,75,84,88,32,50,48,187,13,10,26,10];!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(a||(a={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(o||(o={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(c||(c={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(u||(u={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(l||(l={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(f||(f={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(p||(p={}));var d=function t(){Object(i.a)(this,t),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=a.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:o.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:s.UNSPECIFIED,colorPrimaries:c.SRGB,transferFunction:c.SRGB,flags:l.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null},v=function(){function t(e,n,r,a){Object(i.a)(this,t),this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=a,this._offset=0}return Object(r.a)(t,[{key:"_nextUint8",value:function(){var t=this._dataView.getUint8(this._offset);return this._offset+=1,t}},{key:"_nextUint16",value:function(){var t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}},{key:"_nextUint32",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}},{key:"_nextUint64",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}},{key:"_skip",value:function(t){return this._offset+=t,this}},{key:"_scan",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==e&&r<t;)r++,this._offset++;return r<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),t}();function b(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):t.from(e).toString("utf8")}function y(t){var e=new Uint8Array(t.buffer,t.byteOffset,h.length);if(e[0]!==h[0]||e[1]!==h[1]||e[2]!==h[2]||e[3]!==h[3]||e[4]!==h[4]||e[5]!==h[5]||e[6]!==h[6]||e[7]!==h[7]||e[8]!==h[8]||e[9]!==h[9]||e[10]!==h[10]||e[11]!==h[11])throw new Error("Missing KTX 2.0 identifier.");var n=new d,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new v(t,h.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),c=i._nextUint32(),u=i._nextUint32(),l=i._nextUint64(),f=i._nextUint64(),p=new v(t,h.length+r,3*a*8,!0),y=0;y<a;y++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+p._nextUint64(),p._nextUint64()),uncompressedByteLength:p._nextUint64()});for(var m=new v(t,o,s,!0),A={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:{x:m._nextUint8()+1,y:m._nextUint8()+1,z:m._nextUint8()+1,w:m._nextUint8()+1},bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},g=(A.descriptorBlockSize/4-6)/4,B=0;B<g;B++)A.samples[B]={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelID:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:m._nextUint32(),sampleUpper:m._nextUint32()};n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);for(var O=new v(t,c,u,!0);O._offset<u;){var C=O._nextUint32(),E=O._scan(C),w=b(E),_=O._scan(C-E.byteLength);n.keyValue[w]=w.match(/^ktx/i)?b(_):_,C%4&&O._skip(4-C%4)}if(f<=0)return n;for(var j=new v(t,l,f,!0),D=j._nextUint16(),I=j._nextUint16(),S=j._nextUint32(),T=j._nextUint32(),P=j._nextUint32(),M=j._nextUint32(),x=[],R=0;R<a;R++)x.push({imageFlags:j._nextUint32(),rgbSliceByteOffset:j._nextUint32(),rgbSliceByteLength:j._nextUint32(),alphaSliceByteOffset:j._nextUint32(),alphaSliceByteLength:j._nextUint32()});var F=l+j._offset,G=F+S,k=G+T,U=k+P,H=new Uint8Array(t.buffer,t.byteOffset+F,S),L=new Uint8Array(t.buffer,t.byteOffset+G,T),J=new Uint8Array(t.buffer,t.byteOffset+k,P),N=new Uint8Array(t.buffer,t.byteOffset+U,M);return n.globalData={endpointCount:D,selectorCount:I,imageDescs:x,endpointsData:H,selectorsData:L,tablesData:J,extendedData:N},n}}).call(this,n("HDXh").Buffer)},"X4Q+":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("rePB");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function u(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=o(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(u){r.e(u)}finally{r.f()}var s=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=a({},t)).interactive,e){delete(r=r||a({},t)).ref;var i,s=o(c);try{for(s.s();!(i=s.n()).done;){var l=i.value;l in e&&(r[l]=e[l])}}catch(u){s.e(u)}finally{s.f()}}return r||t}));return a(a({},t),{},{layers:s})}},d1Eg:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(D){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),s=new w(i||[]);return r(o,"_invoke",{value:B(t,n,s)}),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}t.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(_([])));y&&y!==e&&n.call(y,a)&&(v=y);var m=d.prototype=p.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var i;r(this,"_invoke",{value:function(r,a){function o(){return new e((function(i,o){!function r(i,a,o,s){var c=l(t[i],t,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(f).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(c.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}})}function B(t,e,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},A(g.prototype),c(g.prototype,o,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new g(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(m),c(m,s,"Generator"),c(m,a,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=_,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},oJR1:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));"undefined"!=typeof window&&window,void 0!==t||window;var r="undefined"!=typeof document?document:{}}).call(this,n("yLpj"))},q8n8:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!=typeof window?window:t,a=(void 0!==t||window,"undefined"!=typeof document&&document,!1);try{var o={get passive(){return a=!0,!0}};i.addEventListener("test",null,o),i.removeEventListener("test",null)}catch(s){a=!1}}).call(this,n("yLpj"))}}]);