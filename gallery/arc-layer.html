<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <title>deck.gl ArcLayer Example | WebGL visualization</title>
    <link rel="stylesheet" id="font-link" href="https://d1a3f4spazzrp4.cloudfront.net/uber-fonts/3.1.0/refresh.css">

    <meta name="description" content="WebGL-based visualization examples using deck.gl">

    <link rel="icon" type="img/ico" href="https://visgl.github.io/deck.gl/favicon.ico">

    <!-— facebook open graph tags -->
    <meta property="og:url" content="https://visgl.github.io/deck.gl/showcases/gallery" />
    <meta property="og:title" content="deck.gl ArcLayer Example | WebGL visualization" />
    <meta property="og:description" content="WebGL-based visualization examples using deck.gl" />
    <meta property="og:site_name" content="deck.gl" />
    <meta property="og:image" content="https://visgl.github.io/deck.gl/showcases/gallery/images/arc-layer.png" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="480" />
    
    <!-— twitter card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uber">
    <meta name="twitter:creator" content="@uber">
    <meta name="twitter:title" content="deck.gl ArcLayer Example | WebGL visualization">
    <meta name="twitter:description" content="WebGL-based visualization examples using deck.gl">
    <meta name="twitter:image" content="https://visgl.github.io/deck.gl/showcases/gallery/images/arc-layer.png" />

    <style>
      body {font-family: ff-clan-web-pro, "Helvetica Neue", Helvetica, sans-serif !important; font-size: 12px;}
      #container {width: 100%; max-width: 960px; padding: 40px 12px; margin: auto;}
      #source {margin: 12px 0; border: solid 1px #ccc; padding: 24px}
      #links {margin: 12px 0;}
      #links a {text-decoration: none; color: #444;}
      #links a:hover {color: #08f;}
    </style>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-7157694-83', 'auto');
  ga('send', 'pageview');
</script>
  </head>
  <body>
    <div id="container">
      <h1>deck.gl ArcLayer Example</h1>
      <div id="links">
        <a href="./">↩ Back to Gallery</a>
      </div>
      <h2>Demo</h2>
      <iframe width="100%" height="450" frameborder="0" ></iframe>
      <h2>Source</h2>
      <div id="source">
        <code class="prettyprint">&lt;html&gt;<br/>&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;deck.gl ArcLayer Example&lt;/title&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://unpkg.com/deck.gl@^8.8.0/dist.min.js"&gt;&lt;/script&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://d3js.org/d3.v5.min.js"&gt;&lt;/script&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src='https://unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.js'&gt;&lt;/script&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;link href='https://unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.css' rel='stylesheet' /&gt; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;style type="text/css"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width: 100vw;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height: 100vh;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin: 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overflow: hidden;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.deck-tooltip {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family: Helvetica, Arial, sans-serif;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding: 6px !important;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin: 8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max-width: 300px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size: 10px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&lt;/head&gt;<br/><br/>&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&lt;/body&gt;<br/><br/>&nbsp;&nbsp;&lt;script type="text/javascript"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;const {DeckGL, GeoJsonLayer, ArcLayer} = deck;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;const inFlowColors = [<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[255, 255, 204],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[199, 233, 180],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[127, 205, 187],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[65, 182, 196],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[29, 145, 192],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[34, 94, 168],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[12, 44, 132]<br/>&nbsp;&nbsp;&nbsp;&nbsp;];<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;const outFlowColors = [<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[255, 255, 178],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[254, 217, 118],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[254, 178, 76],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[253, 141, 60],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[252, 78, 42],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[227, 26, 28],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[177, 0, 38]<br/>&nbsp;&nbsp;&nbsp;&nbsp;];<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;const deckgl = new DeckGL({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapStyle: 'https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json',<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialViewState: {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;longitude: -100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;latitude: 40.7,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoom: 3,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxZoom: 15,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pitch: 30,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bearing: 30<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controller: true,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layers: [],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getTooltip: ({object}) =&gt; object &amp;&amp; object.properties.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;});<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;function getArcLayer(data, selectedFeature) {<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const {flows, centroid} = selectedFeature.properties;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const arcs = Object.keys(flows).map(toId =&gt; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const f = data.features[toId];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source: centroid,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target: f.properties.centroid,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: flows[toId]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const scale = d3.scaleQuantile()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.domain(arcs.map(a =&gt; Math.abs(a.value)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.range(inFlowColors.map((c, i) =&gt; i));<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arcs.forEach(a =&gt; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.gain = Math.sign(a.value);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.quantile = scale(Math.abs(a.value));<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new ArcLayer({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: 'arc',<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data: arcs,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getSourcePosition: d =&gt; d.source,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getTargetPosition: d =&gt; d.target,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getSourceColor: d =&gt; (d.gain &gt; 0 ? inFlowColors : outFlowColors)[d.quantile],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getTargetColor: d =&gt; (d.gain &gt; 0 ? outFlowColors : inFlowColors)[d.quantile],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeWidth: 4<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;function renderLayers(data, selectedFeature) {<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selectedFeature = selectedFeature || data.features.find(f =&gt; f.properties.name === 'Los Angeles, CA');<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const arcLayer = getArcLayer(data, selectedFeature);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const countyLayer = new GeoJsonLayer({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: 'geojson',<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stroked: false,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filled: true,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoHighlight: true,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pickable: true,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getFillColor: () =&gt; [0, 0, 0, 0],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onClick: info =&gt; renderLayers(data, info.object)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deckgl.setProps({ layers: [countyLayer, arcLayer] });<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;fetch('https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json')<br/>&nbsp;&nbsp;&nbsp;&nbsp;.then(res =&gt; res.json())<br/>&nbsp;&nbsp;&nbsp;&nbsp;.then(data =&gt; renderLayers(data))<br/><br/>&nbsp;&nbsp;&lt;/script&gt;<br/>&lt;/html&gt;<br/></code>
      </div>
    </div>
    <script>var src = unescape('%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3Edeck.gl%20ArcLayer%20Example%3C/title%3E%0A%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//unpkg.com/deck.gl@%5E8.8.0/dist.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//d3js.org/d3.v5.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%27https%3A//unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.js%27%3E%3C/script%3E%0A%0A%20%20%20%20%3Clink%20href%3D%27https%3A//unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.css%27%20rel%3D%27stylesheet%27%20/%3E%20%0A%20%20%20%20%3Cstyle%20type%3D%22text/css%22%3E%0A%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20width%3A%20100vw%3B%0A%20%20%20%20%20%20%20%20height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20.deck-tooltip%20%7B%0A%20%20%20%20%20%20%20%20font-family%3A%20Helvetica%2C%20Arial%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20padding%3A%206px%20%21important%3B%0A%20%20%20%20%20%20%20%20margin%3A%208px%3B%0A%20%20%20%20%20%20%20%20max-width%3A%20300px%3B%0A%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/head%3E%0A%0A%20%20%3Cbody%3E%0A%20%20%3C/body%3E%0A%0A%20%20%3Cscript%20type%3D%22text/javascript%22%3E%0A%20%20%20%20%0A%20%20%20%20const%20%7BDeckGL%2C%20GeoJsonLayer%2C%20ArcLayer%7D%20%3D%20deck%3B%0A%20%20%20%20%0A%20%20%20%20const%20inFlowColors%20%3D%20%5B%0A%20%20%20%20%20%20%5B255%2C%20255%2C%20204%5D%2C%0A%20%20%20%20%20%20%5B199%2C%20233%2C%20180%5D%2C%0A%20%20%20%20%20%20%5B127%2C%20205%2C%20187%5D%2C%0A%20%20%20%20%20%20%5B65%2C%20182%2C%20196%5D%2C%0A%20%20%20%20%20%20%5B29%2C%20145%2C%20192%5D%2C%0A%20%20%20%20%20%20%5B34%2C%2094%2C%20168%5D%2C%0A%20%20%20%20%20%20%5B12%2C%2044%2C%20132%5D%0A%20%20%20%20%5D%3B%0A%0A%20%20%20%20const%20outFlowColors%20%3D%20%5B%0A%20%20%20%20%20%20%5B255%2C%20255%2C%20178%5D%2C%0A%20%20%20%20%20%20%5B254%2C%20217%2C%20118%5D%2C%0A%20%20%20%20%20%20%5B254%2C%20178%2C%2076%5D%2C%0A%20%20%20%20%20%20%5B253%2C%20141%2C%2060%5D%2C%0A%20%20%20%20%20%20%5B252%2C%2078%2C%2042%5D%2C%0A%20%20%20%20%20%20%5B227%2C%2026%2C%2028%5D%2C%0A%20%20%20%20%20%20%5B177%2C%200%2C%2038%5D%0A%20%20%20%20%5D%3B%0A%20%20%20%20%0A%20%20%20%20const%20deckgl%20%3D%20new%20DeckGL%28%7B%0A%20%20%20%20%20%20mapStyle%3A%20%27https%3A//basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json%27%2C%0A%20%20%20%20%20%20initialViewState%3A%20%7B%0A%20%20%20%20%20%20%20%20longitude%3A%20-100%2C%0A%20%20%20%20%20%20%20%20latitude%3A%2040.7%2C%0A%20%20%20%20%20%20%20%20zoom%3A%203%2C%0A%20%20%20%20%20%20%20%20maxZoom%3A%2015%2C%0A%20%20%20%20%20%20%20%20pitch%3A%2030%2C%0A%20%20%20%20%20%20%20%20bearing%3A%2030%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20controller%3A%20true%2C%0A%20%20%20%20%20%20layers%3A%20%5B%5D%2C%0A%20%20%20%20%20%20getTooltip%3A%20%28%7Bobject%7D%29%20%3D%3E%20object%20%26%26%20object.properties.name%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20%0A%20%20%20%20function%20getArcLayer%28data%2C%20selectedFeature%29%20%7B%0A%0A%20%20%20%20%20%20const%20%7Bflows%2C%20centroid%7D%20%3D%20selectedFeature.properties%3B%0A%20%20%20%20%20%20const%20arcs%20%3D%20Object.keys%28flows%29.map%28toId%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20f%20%3D%20data.features%5BtoId%5D%3B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20source%3A%20centroid%2C%0A%20%20%20%20%20%20%20%20target%3A%20f.properties.centroid%2C%0A%20%20%20%20%20%20%20%20value%3A%20flows%5BtoId%5D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20const%20scale%20%3D%20d3.scaleQuantile%28%29%0A%20%20%20%20%20%20%20%20.domain%28arcs.map%28a%20%3D%3E%20Math.abs%28a.value%29%29%29%0A%20%20%20%20%20%20%20%20.range%28inFlowColors.map%28%28c%2C%20i%29%20%3D%3E%20i%29%29%3B%0A%0A%20%20%20%20%20%20%20%20arcs.forEach%28a%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20a.gain%20%3D%20Math.sign%28a.value%29%3B%0A%20%20%20%20%20%20%20%20a.quantile%20%3D%20scale%28Math.abs%28a.value%29%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20return%20new%20ArcLayer%28%7B%0A%20%20%20%20%20%20%20%20id%3A%20%27arc%27%2C%0A%20%20%20%20%20%20%20%20data%3A%20arcs%2C%0A%20%20%20%20%20%20%20%20getSourcePosition%3A%20d%20%3D%3E%20d.source%2C%0A%20%20%20%20%20%20%20%20getTargetPosition%3A%20d%20%3D%3E%20d.target%2C%0A%20%20%20%20%20%20%20%20getSourceColor%3A%20d%20%3D%3E%20%28d.gain%20%3E%200%20%3F%20inFlowColors%20%3A%20outFlowColors%29%5Bd.quantile%5D%2C%0A%20%20%20%20%20%20%20%20getTargetColor%3A%20d%20%3D%3E%20%28d.gain%20%3E%200%20%3F%20outFlowColors%20%3A%20inFlowColors%29%5Bd.quantile%5D%2C%0A%20%20%20%20%20%20%20%20strokeWidth%3A%204%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20renderLayers%28data%2C%20selectedFeature%29%20%7B%0A%0A%20%20%20%20%20%20selectedFeature%20%3D%20selectedFeature%20%7C%7C%20data.features.find%28f%20%3D%3E%20f.properties.name%20%3D%3D%3D%20%27Los%20Angeles%2C%20CA%27%29%3B%0A%20%20%20%20%20%20const%20arcLayer%20%3D%20getArcLayer%28data%2C%20selectedFeature%29%3B%0A%20%20%20%20%20%20const%20countyLayer%20%3D%20new%20GeoJsonLayer%28%7B%0A%20%20%20%20%20%20%20%20id%3A%20%27geojson%27%2C%0A%20%20%20%20%20%20%20%20data%2C%0A%20%20%20%20%20%20%20%20stroked%3A%20false%2C%0A%20%20%20%20%20%20%20%20filled%3A%20true%2C%0A%20%20%20%20%20%20%20%20autoHighlight%3A%20true%2C%0A%20%20%20%20%20%20%20%20pickable%3A%20true%2C%0A%20%20%20%20%20%20%20%20getFillColor%3A%20%28%29%20%3D%3E%20%5B0%2C%200%2C%200%2C%200%5D%2C%0A%20%20%20%20%20%20%20%20onClick%3A%20info%20%3D%3E%20renderLayers%28data%2C%20info.object%29%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20deckgl.setProps%28%7B%20layers%3A%20%5BcountyLayer%2C%20arcLayer%5D%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20fetch%28%27https%3A//raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json%27%29%0A%20%20%20%20.then%28res%20%3D%3E%20res.json%28%29%29%0A%20%20%20%20.then%28data%20%3D%3E%20renderLayers%28data%29%29%0A%0A%20%20%3C/script%3E%0A%3C/html%3E%0A');</script>
    <script type="text/javascript">
      var blob = new Blob([src], {type: 'text/html'});
      document.querySelector('iframe').src = URL.createObjectURL(blob);
    </script>
  </body>
</html>