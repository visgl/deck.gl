(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{YKua:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var r=o("vuIU"),n=o("rePB"),i=o("dI71"),a=o("hAA0"),c=o("YiiH"),s=o("kh/P"),u=o("R25c"),l=o("rmmO");function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function b(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f=Math.PI/180;function d(t){var e=t.height,o=t.focalDistance,r=t.orbitAxis,n=t.rotationX,i=t.rotationOrbit,a=t.zoom,c="Z"===r?[0,0,1]:[0,1,0],u="Z"===r?[0,-o,0]:[0,0,o],l=(new s.a).lookAt({eye:u,up:c});l.rotateX(n*f),"Z"===r?l.rotateZ(i*f):l.rotateY(i*f);var p=Math.pow(2,a)/(e||1);return l.scale(p),l}var O=function(t){function e(e){var o,r=e.height,n=e.projectionMatrix,i=e.fovy,a=void 0===i?50:i,c=e.orbitAxis,s=e.target,l=void 0===s?[0,0,0]:s,p=e.rotationX,f=void 0===p?0:p,O=e.rotationOrbit,h=void 0===O?0:O,v=e.zoom,m=void 0===v?0:v,j=n?n[5]/2:Object(u.f)(a);return(o=t.call(this,b(b({},e),{},{longitude:null,viewMatrix:d({height:r,focalDistance:j,orbitAxis:c,rotationX:f,rotationOrbit:h,zoom:m}),fovy:a,focalDistance:j,position:l,zoom:m}))||this).projectedCenter=o.project(o.center),o}Object(i.a)(e,t);var o=e.prototype;return o.unproject=function(t,e){var o=(void 0===e?{}:e).topLeft,r=void 0===o||o,n=t[0],i=t[1],a=t[2],c=void 0===a?this.projectedCenter[2]:a,s=r?i:this.height-i,l=Object(u.o)([n,s,c],this.pixelUnprojectionMatrix);return[l[0],l[1],l[2]]},o.panByPosition=function(t,e){var o=this.project(t),r=[this.width/2+o[0]-e[0],this.height/2+o[1]-e[1],this.projectedCenter[2]];return{target:this.unproject(r)}},e}(c.a);O.displayName="OrbitView";var h=function(t){function e(e){void 0===e&&(e={});var o=e.orbitAxis,r=void 0===o?"Z":o;return t.call(this,b(b({},e),{},{orbitAxis:r,type:O}))||this}return Object(i.a)(e,t),Object(r.a)(e,[{key:"controller",get:function(){return this._getControllerProps({type:l.b})}}]),e}(a.a)},exbY:function(t,e,o){"use strict";o.r(e);var r=o("dI71"),n=o("q1tI"),i=o.n(n),a=o("Lw+3"),c=o("lxDd"),s=o("rePB"),u=(o("i8i4"),o("pLLy")),l=o("18Jy"),p=o("mA5F"),b=o("YKua"),f=o("bZ2V"),d={name:"LAS",id:"las",module:"las",version:"3.1.8",worker:!0,extensions:["las","laz"],mimeTypes:["application/octet-stream"],text:!0,binary:!0,tests:["LAS"],options:{las:{shape:"mesh",fp64:!1,skip:1,colorDepth:8}}};function O(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(Object(o),!0).forEach((function(e){Object(s.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var v={target:[0,0,0],rotationX:0,rotationOrbit:0,minZoom:0,maxZoom:10,zoom:1},m=new l.a(["rotationOrbit"]);function j(t){var e=t.onLoad,o=Object(n.useState)(v),r=o[0],a=o[1],c=Object(n.useState)(!1),s=c[0],l=c[1];Object(n.useEffect)((function(){if(s){!function t(){a((function(e){return h(h({},e),{},{rotationOrbit:e.rotationOrbit+120,transitionDuration:2400,transitionInterpolator:m,onTransitionEnd:t})}))}()}}),[s]);var O=[new f.a({id:"laz-point-cloud-layer",data:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/point-cloud-laz/indoor.0.1.laz",onDataLoad:function(t){var o=t.header;if(o.boundingBox){var r=o.boundingBox,n=r[0],i=r[1];a(h(h({},v),{},{target:[(n[0]+i[0])/2,(n[1]+i[1])/2,(n[2]+i[2])/2],zoom:Math.log2(window.innerWidth/(i[0]-n[0]))-1})),l(!0)}e&&e({count:o.vertexCount,progress:1})},coordinateSystem:p.a.CARTESIAN,getNormal:[0,1,0],getColor:[255,255,255],opacity:.5,pointSize:.5,loaders:[d]})];return i.a.createElement(u.a,{views:new b.a({orbitAxis:"Y",fov:50}),viewState:r,controller:!0,onViewStateChange:function(t){return a(t.viewState)},layers:O,parameters:{clearColor:[.93,.86,.81,1]}})}var y=o("CtqP"),w=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._onLoad=function(t){e.props.onStateChange(t)},e}return Object(r.a)(e,t),e.renderInfo=function(t){return i.a.createElement("div",null,i.a.createElement("p",null,"This demo may not work on mobile devices due to browser limitations."),i.a.createElement("p",null,"Data source: ",i.a.createElement("a",{href:"https://kaarta.com"},"kaarta.com")),i.a.createElement("div",{className:"stat"},"No. of Points",i.a.createElement("b",null,Object(a.b)(t.count))))},e.prototype.render=function(){return i.a.createElement(j,{onLoad:this._onLoad})},e}(n.Component);w.title="3D Indoor Scan",w.code=c.b+"/examples/website/point-cloud";e.default=Object(y.a)(w)}}]);