(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{UNS5:function(t,e,i){"use strict";i.r(e);var r=i("dI71"),n=i("q1tI"),o=i.n(n),a=i("lxDd"),c=(i("i8i4"),i("4ErG")),s=i("mA5F"),u=i("vuIU"),h=i("j+0d"),p=i("rePB"),l=i("PVj1"),d=i("R25c"),f=i("ODXe"),g=i("1OyB"),v=i("SDD5"),b=i("yeNo"),O=i("MTwu"),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.phi,r=void 0===i?0:i,n=e.theta,o=void 0===n?0:n,a=e.radius,c=void 0===a?1:a,s=e.bearing,u=e.pitch,h=e.altitude,l=e.radiusScale,d=void 0===l?6371e3:l;Object(g.a)(this,t),Object(p.a)(this,"phi",void 0),Object(p.a)(this,"theta",void 0),Object(p.a)(this,"radius",void 0),Object(p.a)(this,"radiusScale",void 0),this.phi=r,this.theta=o,this.radius=c||h||1,this.radiusScale=d||1,void 0!==s&&(this.bearing=s),void 0!==u&&(this.pitch=u),this.check()}return Object(u.a)(t,[{key:"toString",value:function(){return this.formatString(b.b)}},{key:"formatString",value:function(t){var e=t.printTypes,i=void 0!==e&&e,r=b.e;return"".concat(i?"Spherical":"","[rho:").concat(r(this.radius),",theta:").concat(r(this.theta),",phi:").concat(r(this.phi),"]")}},{key:"equals",value:function(t){return Object(b.d)(this.radius,t.radius)&&Object(b.d)(this.theta,t.theta)&&Object(b.d)(this.phi,t.phi)}},{key:"exactEquals",value:function(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}},{key:"bearing",get:function(){return 180-Object(b.c)(this.phi)},set:function(t){this.phi=Math.PI-Object(b.h)(t)}},{key:"pitch",get:function(){return Object(b.c)(this.theta)},set:function(t){this.theta=Object(b.h)(t)}},{key:"longitude",get:function(){return Object(b.c)(this.phi)}},{key:"latitude",get:function(){return Object(b.c)(this.theta)}},{key:"lng",get:function(){return Object(b.c)(this.phi)}},{key:"lat",get:function(){return Object(b.c)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}},{key:"set",value:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this.check()}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}},{key:"fromLngLatZ",value:function(t){var e=Object(f.a)(t,3),i=e[0],r=e[1],n=e[2];return this.radius=1+n/this.radiusScale,this.phi=Object(b.h)(r),this.theta=Object(b.h)(i),this.check()}},{key:"fromVector3",value:function(t){return this.radius=O.h(t),this.radius>0&&(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos(Object(b.a)(t[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new v.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"check",value:function(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}]),t}(),y=i("kh/P");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){Object(p.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var P=function(t){function e(e){var i,r=e.longitude,n=e.latitude,o=e.modelMatrix,a=e.bearing,c=void 0===a?0:a,s=e.pitch,u=void 0===s?0:s,h=e.up,p=void 0===h?[0,0,1]:h,l=new m({bearing:c,pitch:-90===u?1e-4:90+u}).toVector3().normalize(),f=o?new y.a(o).transformAsVector(l):l,g=Number.isFinite(n)?Object(d.j)({latitude:n}):0,v=Math.pow(2,g),b=(new y.a).lookAt({eye:[0,0,0],center:f,up:p}).scale(v);return(i=t.call(this,j(j({},e),{},{zoom:g,viewMatrix:b}))||this).latitude=n,i.longitude=r,i}return Object(r.a)(e,t),e}(l.a),S=i("twmU"),k=i("zlx7"),_=i("/8E/"),D=i("W13g");function V(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?V(Object(i),!0).forEach((function(e){Object(p.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var A=function(t){function e(e){var i=e.width,r=e.height,n=e.position,o=void 0===n?[0,0,0]:n,a=e.bearing,c=void 0===a?0:a,s=e.pitch,u=void 0===s?0:s,h=e.longitude,p=void 0===h?null:h,l=e.latitude,d=void 0===l?null:l,f=e.maxPitch,g=void 0===f?90:f,v=e.minPitch,b=void 0===v?-90:v,O=e.startRotatePos,m=e.startBearing,y=e.startPitch,w=e.startZoomPosition;return t.call(this,{width:i,height:r,position:o,bearing:c,pitch:u,longitude:p,latitude:d,maxPitch:g,minPitch:b},{startRotatePos:O,startBearing:m,startPitch:y,startZoomPosition:w})||this}Object(r.a)(e,t);var i=e.prototype;return i.panStart=function(){return this},i.pan=function(){return this},i.panEnd=function(){return this},i.rotateStart=function(t){var e=t.pos;return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})},i.rotate=function(t){var e,i=t.pos,r=t.deltaAngleX,n=void 0===r?0:r,o=t.deltaAngleY,a=void 0===o?0:o,c=this.getState(),s=c.startRotatePos,u=c.startBearing,h=c.startPitch,p=this.getViewportProps(),l=p.width,d=p.height;if(!s||void 0===u||void 0===h)return this;i?e={bearing:u-180*((i[0]-s[0])/l),pitch:h-90*((i[1]-s[1])/d)}:e={bearing:u-n,pitch:h-a};return this._getUpdatedState(e)},i.rotateEnd=function(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})},i.zoomStart=function(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})},i.zoom=function(t){var e=t.scale,i=this.getState().startZoomPosition;i||(i=this.getViewportProps().position);var r=this.getDirection();return this._move(r,20*Math.log2(e),i)},i.zoomEnd=function(){return this._getUpdatedState({startZoomPosition:null})},i.moveLeft=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.rotateZ({radians:Math.PI/2}),t)},i.moveRight=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.rotateZ({radians:-Math.PI/2}),t)},i.moveUp=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e,t)},i.moveDown=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.negate(),t)},i.rotateLeft=function(t){return void 0===t&&(t=15),this._getUpdatedState({bearing:this.getViewportProps().bearing-t})},i.rotateRight=function(t){return void 0===t&&(t=15),this._getUpdatedState({bearing:this.getViewportProps().bearing+t})},i.rotateUp=function(t){return void 0===t&&(t=10),this._getUpdatedState({pitch:this.getViewportProps().pitch+t})},i.rotateDown=function(t){return void 0===t&&(t=10),this._getUpdatedState({pitch:this.getViewportProps().pitch-t})},i.zoomIn=function(t){return void 0===t&&(t=2),this.zoom({scale:t})},i.zoomOut=function(t){return void 0===t&&(t=2),this.zoom({scale:1/t})},i.shortestPathFrom=function(t){var e=t.getViewportProps(),i=E({},this.getViewportProps()),r=i.bearing,n=i.longitude;return Math.abs(r-e.bearing)>180&&(i.bearing=r<0?r+360:r-360),null!==n&&null!==e.longitude&&Math.abs(n-e.longitude)>180&&(i.longitude=n<0?n+360:n-360),i},i._move=function(t,e,i){void 0===i&&(i=this.getViewportProps().position);var r=t.scale(e);return this._getUpdatedState({position:new v.a(i).add(r)})},i.getDirection=function(t){return void 0===t&&(t=!1),new m({bearing:this.getViewportProps().bearing,pitch:t?90:90+this.getViewportProps().pitch}).toVector3().normalize()},i._getUpdatedState=function(t){return new e(E(E(E({},this.getViewportProps()),this.getState()),t))},i.applyConstraints=function(t){var e=t.pitch,i=t.maxPitch,r=t.minPitch,n=t.longitude,o=t.bearing;return t.pitch=Object(b.a)(e,r,i),null!==n&&(n<-180||n>180)&&(t.longitude=Object(_.e)(n+180,360)-180),(o<-180||o>180)&&(t.bearing=Object(_.e)(o+180,360)-180),t},e}(k.a),M=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).ControllerState=A,e.transition={transitionDuration:300,transitionInterpolator:new D.a(["position","pitch","bearing"])},e}return Object(r.a)(e,t),e}(S.a),R=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),Object(u.a)(e,[{key:"ViewportType",get:function(){return P}},{key:"ControllerType",get:function(){return M}}]),e}(h.a);R.displayName="FirstPersonView";var U=i("K4kC"),I=i("vJI4"),z=new I.a({nlat:50,nlong:50,radius:150}),x={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5},N={latitude:0,longitude:0,position:[0,0,0],pitch:0,bearing:90};function T(){var t=Object(n.useState)(!1),e=t[0],i=t[1],r=Object(n.useState)(null),a=r[0],u=r[1];Object(n.useEffect)((function(){var t;if("undefined"!=typeof document){(t=document.createElement("video")).crossOrigin="anonymous",t.preload="auto",t.loop=!0;var e=document.createElement("source");e.src="https://upload.wikimedia.org/wikipedia/commons/transcoded/0/0a/NASA_VR-360_Astronaut_Training-_Space_Walk.webm/NASA_VR-360_Astronaut_Training-_Space_Walk.webm.1080p.webm",t.append(e),u(t)}return function(){return t&&t.pause()}}),[]);var h=new U.a({id:"video-sphere",data:[0],coordinateSystem:s.a.METER_OFFSETS,texture:a,mesh:z,getPosition:function(t){return[0,0,0]},getOrientation:[0,0,-90],getScale:[1,1,-1],material:!1});return o.a.createElement(c.a,{views:new R,initialViewState:N,controller:{scrollZoom:!1,doubleClickZoom:!1},layers:[h],onClick:function(){e?a.pause():a.play(),i(!e)},_animate:!0},!e&&o.a.createElement("div",{style:x},o.a.createElement("img",{src:"https://deck.gl/images/play.png",width:150})))}var C=i("CtqP"),F=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.renderInfo=function(){return o.a.createElement("div",null,o.a.createElement("p",null,"The 360 video was created by NASA Jet Propulsion Laboratory, Public domain, via",o.a.createElement("a",{href:"https://commons.wikimedia.org/wiki/File:NASA_VR-360_Astronaut_Training-_Space_Walk.webm"}," Wikimedia Commons")))},e.prototype.render=function(){return o.a.createElement(T,this.props)},e}(n.Component);F.title="360 Video: NASA Astronaut Training",F.code=a.b+"/examples/website/360-video";e.default=Object(C.a)(F)},vJI4:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var r=i("rePB"),n=i("1OyB"),o=i("Ji7U"),a=i("md7G"),c=i("foSv"),s=i("7G5M"),u=i("HYgG");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=Object(c.a)(t);if(e){var n=Object(c.a)(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return Object(a.a)(this,i)}}var d=function(t){Object(o.a)(i,t);var e=l(i);function i(){Object(n.a)(this,i);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,o=void 0===r?Object(u.c)("sphere-geometry"):r,a=f(t),c=a.indices,s=a.attributes;return e.call(this,p(p({},t),{},{id:o,indices:c,attributes:p(p({},s),t.attributes)}))}return i}(s.a);function f(t){var e=t.nlat,i=void 0===e?10:e,r=t.nlong,n=void 0===r?10:r,o=t.radius,a=void 0===o?1:o,c=Math.PI-0,s=2*Math.PI-0,u=(i+1)*(n+1);if("number"==typeof a){var h=a;a=function(t,e,i,r,n){return h}}for(var p=new Float32Array(3*u),l=new Float32Array(3*u),d=new Float32Array(2*u),f=new(u>65535?Uint32Array:Uint16Array)(i*n*6),g=0;g<=i;g++)for(var v=0;v<=n;v++){var b=v/n,O=g/i,m=v+g*(n+1),y=2*m,w=3*m,j=s*b,P=c*O,S=Math.sin(j),k=Math.cos(j),_=Math.sin(P),D=k*_,V=Math.cos(P),E=S*_,A=a(D,V,E,b,O);p[w+0]=A*D,p[w+1]=A*V,p[w+2]=A*E,l[w+0]=D,l[w+1]=V,l[w+2]=E,d[y+0]=b,d[y+1]=1-O}for(var M=n+1,R=0;R<n;R++)for(var U=0;U<i;U++){var I=6*(R*i+U);f[I+0]=U*M+R,f[I+1]=U*M+R+1,f[I+2]=(U+1)*M+R,f[I+3]=(U+1)*M+R,f[I+4]=U*M+R+1,f[I+5]=(U+1)*M+R+1}return{indices:{size:1,value:f},attributes:{POSITION:{size:3,value:p},NORMAL:{size:3,value:l},TEXCOORD_0:{size:2,value:d}}}}}}]);