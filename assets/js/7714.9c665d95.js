/*! For license information please see 7714.9c665d95.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7714],{7714:(t,e,r)=>{function s(t,e){if(!t)throw new Error("null row");if(!e)throw new Error("no headers");const r={};for(let s=0;s<e.length;s++)r[e[s]]=t[s];return r}function i(t,e){if(!t)throw new Error("null row");if(!e)throw new Error("no headers");const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=t[e[s]];return r}r.d(e,{w:()=>x});var n=r(4942);let a;class o extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}a=Symbol.asyncIterator;class h{constructor(){(0,n.Z)(this,"_values",void 0),(0,n.Z)(this,"_settlers",void 0),(0,n.Z)(this,"_closed",void 0),this._values=new o,this._settlers=new o,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[a](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const e=this._settlers.dequeue();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise(((t,e)=>{this._settlers.enqueue({resolve:t,reject:e})}))}}class l{constructor(t,e){if((0,n.Z)(this,"schema",void 0),(0,n.Z)(this,"options",void 0),(0,n.Z)(this,"length",0),(0,n.Z)(this,"rows",null),(0,n.Z)(this,"cursor",0),(0,n.Z)(this,"_headers",[]),this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const e in t)this._headers[t[e].index]=t[e].name}}rowCount(){return this.length}addArrayRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(100),this.rows[this.length]=t,this.length++}addObjectRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(100),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;if(!t)return null;t=t.slice(0,this.length),this.rows=null;return{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}}}class u{constructor(t,e){if((0,n.Z)(this,"schema",void 0),(0,n.Z)(this,"options",void 0),(0,n.Z)(this,"length",0),(0,n.Z)(this,"objectRows",null),(0,n.Z)(this,"arrayRows",null),(0,n.Z)(this,"cursor",0),(0,n.Z)(this,"_headers",[]),this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const e in t)this._headers[t[e].index]=t[e].name}}rowCount(){return this.length}addArrayRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"object-row-table":const r=s(t,this._headers);this.addObjectRow(r,e);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=t,this.length++}}addObjectRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"array-row-table":const r=i(t,this._headers);this.addArrayRow(r,e);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=t,this.length++}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}class c{constructor(t,e){(0,n.Z)(this,"schema",void 0),(0,n.Z)(this,"length",0),(0,n.Z)(this,"allocated",0),(0,n.Z)(this,"columns",{}),this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let e=0;for(const r in this.columns)this.columns[r][this.length]=t[e++];this.length++}addObjectRow(t){this._reallocateColumns();for(const e in t)this.columns[e][this.length]=t[e];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const e in this.schema){const r=this.schema[e];t[r.name]=this.columns[r.index]}this.columns={};return{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const t in this.schema){const e=this.schema[t],r=e.type||Float32Array,s=this.columns[e.index];if(s&&ArrayBuffer.isView(s)){const t=new r(this.allocated);t.set(s),this.columns[e.index]=t}else s?(s.length=this.allocated,this.columns[e.index]=s):this.columns[e.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,e]of Object.entries(this.columns))this.columns[t]=e.slice(0,this.length)}}const d={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},f="TableBatchBuilder";class p{constructor(t,e){(0,n.Z)(this,"schema",void 0),(0,n.Z)(this,"options",void 0),(0,n.Z)(this,"aggregator",null),(0,n.Z)(this,"batchCount",0),(0,n.Z)(this,"bytesUsed",0),(0,n.Z)(this,"isChunkComplete",!1),(0,n.Z)(this,"lastBatchEmittedMs",Date.now()),(0,n.Z)(this,"totalLength",0),(0,n.Z)(this,"totalBytes",0),(0,n.Z)(this,"rowBytes",0),this.schema=t,this.options={...d,...e}}limitReached(){var t,e;return!!(Boolean(null===(t=this.options)||void 0===t?void 0:t.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(e=this.options)||void 0===e?void 0:e._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),"string"==typeof t&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?8*t.length:8*Object.keys(t).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs)&&(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;null!=t&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const e=this.aggregator.getBatch();return e.count=this.batchCount,e.bytesUsed=this.bytesUsed,Object.assign(e,t),this.batchCount++,this.aggregator=null,e}_getTableBatchType(){switch(this.options.shape){case"row-table":return l;case"array-row-table":case"object-row-table":return u;case"columnar-table":return c;case"arrow-table":if(!p.ArrowBatch)throw new Error(f);return p.ArrowBatch;default:throw new Error(f)}}}(0,n.Z)(p,"ArrowBatch",void 0);const g={parse:function(t,e,r){var s=(e=e||{}).dynamicTyping||!1;C(s)&&(e.dynamicTypingFunction=s,s={});if(e.dynamicTyping=s,e.transform=!!C(e.transform)&&e.transform,e.worker&&g.WORKERS_SUPPORTED){var i=newWorker();return i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=C(e.step),e.chunk=C(e.chunk),e.complete=C(e.complete),e.error=C(e.error),delete e.worker,void i.postMessage({input:t,config:e,workerId:i.id})}var n=null;"string"==typeof t&&(n=new w(e));n||(n=new r(e));return n.stream(t)},unparse:function(t,e){var r=!1,s=!0,i=",",n="\r\n",a='"',o=a+a,h=!1,l=null;!function(){if("object"!=typeof e)return;"string"!=typeof e.delimiter||g.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter);("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(r=e.quotes);"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(h=e.skipEmptyLines);"string"==typeof e.newline&&(n=e.newline);"string"==typeof e.quoteChar&&(a=e.quoteChar);"boolean"==typeof e.header&&(s=e.header);if(Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(o=e.escapeChar+a)}();var u=new RegExp(_(a),"g");"string"==typeof t&&(t=JSON.parse(t));if(Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,h);if("object"==typeof t[0])return d(l||c(t[0]),t,h)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),d(t.fields||[],t.data||[],h);throw new Error("Unable to serialize unrecognized input");function c(t){if("object"!=typeof t)return[];var e=[];for(var r in t)e.push(r);return e}function d(t,e,r){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var o=Array.isArray(t)&&t.length>0,h=!Array.isArray(e[0]);if(o&&s){for(var l=0;l<t.length;l++)l>0&&(a+=i),a+=f(t[l],l);e.length>0&&(a+=n)}for(var u=0;u<e.length;u++){var c=o?t.length:e[u].length,d=!1,p=o?0===Object.keys(e[u]).length:0===e[u].length;if(r&&!o&&(d="greedy"===r?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===r&&o){for(var g=[],m=0;m<c;m++){var y=h?t[m]:m;g.push(e[u][y])}d=""===g.join("").trim()}if(!d){for(var w=0;w<c;w++){w>0&&!p&&(a+=i);var b=o&&h?t[w]:w;a+=f(e[u][b],w)}u<e.length-1&&(!r||c>0&&!p)&&(a+=n)}}return a}function f(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(u,o);var s="boolean"==typeof r&&r||Array.isArray(r)&&r[e]||function(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return!0;return!1}(t,g.BAD_DELIMITERS)||t.indexOf(i)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return s?a+t+a:t}},RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:"\ufeff",BAD_DELIMITERS:["\r","\n",'"',"\ufeff"],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:10485760,RemoteChunkSize:5242880,DefaultDelimiter:",",Parser:v,ParserHandle:b,ChunkStreamer:y,StringStreamer:w},m=g;function y(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=A(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null);this._handle=new b(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1;var s=this._partialLine+t;this._partialLine="";var i=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var n=i.meta.cursor;this._finished||(this._partialLine=s.substring(n-this._baseIndex),this._baseIndex=n),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(C(this._config.chunk)&&!e){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!a||!C(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){C(this._config.error)&&this._config.error(t)}}function w(t){var e;t=t||{},y.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,r=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(r)}}}function b(t){var e,r,s,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,o=0,h=0,l=!1,u=!1,c=[],d={data:[],errors:[],meta:{}};if(C(t.step)){var f=t.step;t.step=function(e){if(d=e,y())m();else{if(m(),!d.data||0===d.data.length)return;o+=e.data.length,t.preview&&o>t.preview?r.abort():f(d,a)}}}function p(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function m(){if(d&&s&&(b("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines)for(var e=0;e<d.data.length;e++)p(d.data[e])&&d.data.splice(e--,1);return y()&&function(){if(!d)return;function e(e){C(t.transformHeader)&&(e=t.transformHeader(e)),c.push(e)}if(Array.isArray(d.data[0])){for(var r=0;y()&&r<d.data.length;r++)d.data[r].forEach(e);d.data.splice(0,1)}else d.data.forEach(e)}(),function(){if(!d||!d.data||!t.header&&!t.dynamicTyping&&!t.transform)return d;function e(e,r){var s,i=t.header?{}:[];for(s=0;s<e.length;s++){var n=s,a=e[s];t.header&&(n=s>=c.length?"__parsed_extra":c[s]),t.transform&&(a=t.transform(a,n)),a=w(n,a),"__parsed_extra"===n?(i[n]=i[n]||[],i[n].push(a)):i[n]=a}return t.header&&(s>c.length?b("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+s,h+r):s<c.length&&b("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+s,h+r)),i}var r=1;!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(e),r=d.data.length):d.data=e(d.data,0);t.header&&d.meta&&(d.meta.fields=c);return h+=r,d}()}function y(){return t.header&&0===c.length}function w(e,r){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(i.test(r)?parseFloat(r):n.test(r)?new Date(r):""===r?null:r):r}function b(t,e,r,s){d.errors.push({type:t,code:e,message:r,row:s})}this.parse=function(i,n,a){var o=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var r=new RegExp(_(e)+"([^]*?)"+_(e),"gm");t=t.replace(r,"");var s=t.split("\r"),i=t.split("\n"),n=i.length>1&&i[0].length<s[0].length;if(1===s.length||n)return"\n";for(var a=0,o=0;o<s.length;o++)"\n"===s[o][0]&&a++;return a>=s.length/2?"\r\n":"\r"}(i,o)),s=!1,t.delimiter)C(t.delimiter)&&(t.delimiter=t.delimiter(i),d.meta.delimiter=t.delimiter);else{var h=function(e,r,s,i,n){var a,o,h;n=n||[",","\t","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var l=0;l<n.length;l++){var u=n[l],c=0,d=0,f=0;h=void 0;for(var m=new v({comments:i,delimiter:u,newline:r,preview:10}).parse(e),y=0;y<m.data.length;y++)if(s&&p(m.data[y]))f++;else{var w=m.data[y].length;d+=w,void 0!==h?w>1&&(c+=Math.abs(w-h),h=w):h=0}m.data.length>0&&(d/=m.data.length-f),(void 0===o||c>o)&&d>1.99&&(o=c,a=u)}return t.delimiter=a,{successful:!!a,bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);h.successful?t.delimiter=h.bestDelimiter:(s=!0,t.delimiter=g.DefaultDelimiter),d.meta.delimiter=t.delimiter}var u=A(t);return t.preview&&t.header&&u.preview++,e=i,r=new v(u),d=r.parse(e,n,a),m(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,r.abort(),e=e.substr(r.getCharIndex())},this.resume=function(){l=!1,a.streamer.parseChunk(e,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,r.abort(),d.meta.aborted=!0,C(t.complete)&&t.complete(d),e=""}}function _(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,r=(t=t||{}).delimiter,s=t.newline,i=t.comments,n=t.step,a=t.preview,o=t.fastMode,h=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof r||g.BAD_DELIMITERS.indexOf(r)>-1)&&(r=","),i===r)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||g.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var l=0,u=!1;this.parse=function(t,c,d){if("string"!=typeof t)throw new Error("Input must be a string");var f=t.length,p=r.length,g=s.length,m=i.length,y=C(n);l=0;var w=[],b=[],v=[],A=0;if(!t)return I();if(o||!1!==o&&-1===t.indexOf(e)){for(var k=t.split(s),R=0;R<k.length;R++){if(v=k[R],l+=v.length,R!==k.length-1)l+=s.length;else if(d)return I();if(!i||v.substr(0,m)!==i){if(y){if(w=[],j(v.split(r)),M(),u)return I()}else j(v.split(r));if(a&&R>=a)return w=w.slice(0,a),I(!0)}}return I()}for(var E,x=t.indexOf(r,l),S=t.indexOf(s,l),T=new RegExp(_(h)+_(e),"g");;)if(t[l]!==e)if(i&&0===v.length&&t.substr(l,m)===i){if(-1===S)return I();l=S+g,S=t.indexOf(s,l),x=t.indexOf(r,l)}else if(-1!==x&&(x<S||-1===S))v.push(t.substring(l,x)),l=x+p,x=t.indexOf(r,l);else{if(-1===S)break;if(v.push(t.substring(l,S)),F(S+g),y&&(M(),u))return I();if(a&&w.length>=a)return I(!0)}else{for(E=l,l++;;){if(-1===(E=t.indexOf(e,E+1)))return d||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:l}),Z();if(E===f-1)return Z(t.substring(l,E).replace(T,e));if(e!==h||t[E+1]!==h){if(e===h||0===E||t[E-1]!==h){var B=D(-1===S?x:Math.min(x,S));if(t[E+1+B]===r){if(v.push(t.substring(l,E).replace(T,e)),l=E+1+B+p,x=t.indexOf(r,l),S=t.indexOf(s,l),y&&(M(),u))return I();if(a&&w.length>=a)return I(!0);break}var O=D(S);if(t.substr(E+1+O,g)===s){if(v.push(t.substring(l,E).replace(T,e)),F(E+1+O+g),x=t.indexOf(r,l),y&&(M(),u))return I();if(a&&w.length>=a)return I(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:l}),E++}}else E++}if(y&&(M(),u))return I();if(a&&w.length>=a)return I(!0)}return Z();function j(t){w.push(t),A=l}function D(e){var r=0;if(-1!==e){var s=t.substring(E+1,e);s&&""===s.trim()&&(r=s.length)}return r}function Z(e){return d||(void 0===e&&(e=t.substr(l)),v.push(e),l=f,j(v),y&&M()),I()}function F(e){l=e,j(v),v=[],S=t.indexOf(s,l)}function I(t,e){return{data:e||!1?w[0]:w,errors:b,meta:{delimiter:r,linebreak:s,aborted:u,truncated:!!t,cursor:A+(c||0)}}}function M(){n(I(void 0,!0)),w=[],b=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return l}}function A(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=A(t[r]);return e}function C(t){return"function"==typeof t}w.prototype=Object.create(w.prototype),w.prototype.constructor=w;const{ChunkStreamer:k}=m;function R(t){t=t||{},k.call(this,t),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const e of t)this.parseChunk(this.getStringChunk(e));this._finished=!0,this.parseChunk("")}catch(e){this._sendError(e)}},this._nextChunk=function(){},this.getStringChunk=function(t){return"string"==typeof t?t:this.textDecoder.decode(t,{stream:!0})}}R.prototype=Object.create(k.prototype),R.prototype.constructor=R;const E={csv:{shape:"object-row-table",optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","\t","|",";"]}},x={id:"csv",module:"csv",name:"CSV",version:"3.4.13",extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(t,e)=>S((new TextDecoder).decode(t),e),parseText:(t,e)=>S(t,e),parseInBatches:function(t,e){var r;"auto"===(e={...e}).batchSize&&(e.batchSize=4e3);const s={...E.csv,...null===(r=e)||void 0===r?void 0:r.csv},i=new h;let n=!0,a=null,o=null,l=null;const u={...s,header:!1,download:!1,chunkSize:5242880,skipEmptyLines:!1,step(t){let r=t.data;if(s.skipEmptyLines){if(""===r.flat().join("").trim())return}const h=t.meta.cursor;if(n&&!a){if("auto"===s.header?T(r):Boolean(s.header))return void(a=r.map(B()))}n&&(n=!1,a||(a=O(s.columnPrefix,r.length)),l=function(t,e){const r=e?{}:[];for(let s=0;s<t.length;s++){const i=e&&e[s]||s;switch(typeof t[s]){case"number":case"boolean":r[i]={name:String(i),index:s,type:Float32Array};break;default:r[i]={name:String(i),index:s,type:Array}}}return r}(r,a)),s.optimizeMemoryUsage&&(r=JSON.parse(JSON.stringify(r))),o=o||new p(l,{shape:s.shape||"array-row-table",...e});try{o.addRow(r);const t=o&&o.getFullBatch({bytesUsed:h});t&&i.enqueue(t)}catch(u){i.enqueue(u)}},complete(t){try{const e=t.meta.cursor,r=o&&o.getFinalBatch({bytesUsed:e});r&&i.enqueue(r)}catch(e){i.enqueue(e)}i.close()}};return m.parse(t,u,R),i},options:E};async function S(t,e){const r={...E.csv,...null==e?void 0:e.csv},n=function(t){const e=m.parse(t,{download:!1,dynamicTyping:!0,preview:1});return e.data[0]}(t),a="auto"===r.header?T(n):Boolean(r.header),o={...r,header:a,download:!1,transformHeader:a?B():void 0,error:t=>{throw new Error(t)}},h=m.parse(t,o);let{data:l}=h;const u=h.meta.fields||O(r.columnPrefix,n.length);switch(r.shape){case"object-row-table":l=l.map((t=>Array.isArray(t)?s(t,u):t));break;case"array-row-table":l=l.map((t=>Array.isArray(t)?t:i(t,u)))}return l}function T(t){return t&&t.every((t=>"string"==typeof t))}function B(){const t=new Set;return e=>{let r=e,s=1;for(;t.has(r);)r="".concat(e,".").concat(s),s++;return t.add(r),r}}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];for(let s=0;s<e;s++)r.push("".concat(t).concat(s+1));return r}}}]);