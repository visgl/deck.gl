"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8716],{56335:(t,r,n)=>{n.d(r,{Gc:()=>wa,u$:()=>ya});var e=Object.defineProperty,a=(t,r)=>{for(var n in r)e(t,n,{get:r[n],enumerable:!0})},s={};a(s,{ARRAY_TYPE:()=>o,EPSILON:()=>i,RANDOM:()=>c,equals:()=>l,setMatrixArrayType:()=>u,toRadian:()=>f});var i=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,c=Math.random;function u(t){o=t}var h=Math.PI/180;function f(t){return t*h}function l(t,r){return Math.abs(t-r)<=i*Math.max(1,Math.abs(t),Math.abs(r))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var M={};function v(){var t=new o(4);return o!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function g(t){var r=new o(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function m(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function p(t,r,n,e){var a=new o(4);return a[0]=t,a[1]=r,a[2]=n,a[3]=e,a}function y(t,r,n,e,a){return t[0]=r,t[1]=n,t[2]=e,t[3]=a,t}function w(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function A(t,r){var n=r[0],e=r[1],a=r[2],s=r[3],i=n*s-a*e;return i?(i=1/i,t[0]=s*i,t[1]=-e*i,t[2]=-a*i,t[3]=n*i,t):null}function b(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function q(t,r,n){var e=r[0],a=r[1],s=r[2],i=r[3],o=n[0],c=n[1],u=n[2],h=n[3];return t[0]=e*o+s*c,t[1]=a*o+i*c,t[2]=e*u+s*h,t[3]=a*u+i*h,t}function T(t,r,n){var e=r[0],a=r[1],s=r[2],i=r[3],o=Math.sin(n),c=Math.cos(n);return t[0]=e*c+s*o,t[1]=a*c+i*o,t[2]=e*-o+s*c,t[3]=a*-o+i*c,t}function F(t,r,n){var e=r[0],a=r[1],s=r[2],i=r[3],o=n[0],c=n[1];return t[0]=e*o,t[1]=a*o,t[2]=s*c,t[3]=i*c,t}function I(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=-n,t[3]=e,t}function P(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function z(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function E(t){return Math.hypot(t[0],t[1],t[2],t[3])}function S(t,r,n,e){return t[2]=e[2]/e[0],n[0]=e[0],n[1]=e[1],n[3]=e[3]-t[2]*n[1],[t,r,n]}function _(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function V(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function C(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function R(t,r){var n=t[0],e=t[1],a=t[2],s=t[3],o=r[0],c=r[1],u=r[2],h=r[3];return Math.abs(n-o)<=i*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-c)<=i*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(a-u)<=i*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(s-h)<=i*Math.max(1,Math.abs(s),Math.abs(h))}function Q(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function j(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t}a(M,{LDU:()=>S,add:()=>_,adjoint:()=>b,clone:()=>g,copy:()=>d,create:()=>v,determinant:()=>x,equals:()=>R,exactEquals:()=>C,frob:()=>E,fromRotation:()=>I,fromScaling:()=>P,fromValues:()=>p,identity:()=>m,invert:()=>A,mul:()=>O,multiply:()=>q,multiplyScalar:()=>Q,multiplyScalarAndAdd:()=>j,rotate:()=>T,scale:()=>F,set:()=>y,str:()=>z,sub:()=>L,subtract:()=>V,transpose:()=>w});var O=q,L=V;var k={};a(k,{add:()=>vr,calculateW:()=>$t,clone:()=>hr,conjugate:()=>Kt,copy:()=>lr,create:()=>jt,dot:()=>mr,equals:()=>Tr,exactEquals:()=>qr,exp:()=>Gt,fromEuler:()=>rr,fromMat3:()=>tr,fromValues:()=>fr,getAngle:()=>Bt,getAxisAngle:()=>kt,identity:()=>Ot,invert:()=>Jt,len:()=>wr,length:()=>yr,lerp:()=>pr,ln:()=>Xt,mul:()=>gr,multiply:()=>Dt,normalize:()=>xr,pow:()=>Zt,random:()=>Ht,rotateX:()=>Nt,rotateY:()=>Yt,rotateZ:()=>Wt,rotationTo:()=>Fr,scale:()=>dr,set:()=>Mr,setAxes:()=>Pr,setAxisAngle:()=>Lt,slerp:()=>Ut,sqlerp:()=>Ir,sqrLen:()=>br,squaredLength:()=>Ar,str:()=>nr});var B={};function D(){var t=new o(3);return o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function N(t){var r=new o(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function Y(t){var r=t[0],n=t[1],e=t[2];return Math.hypot(r,n,e)}function W(t,r,n){var e=new o(3);return e[0]=t,e[1]=r,e[2]=n,e}function $(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function G(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function X(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function Z(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function U(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function H(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function J(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function K(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function tt(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function rt(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function nt(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function et(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function at(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function st(t,r){var n=r[0]-t[0],e=r[1]-t[1],a=r[2]-t[2];return Math.hypot(n,e,a)}function it(t,r){var n=r[0]-t[0],e=r[1]-t[1],a=r[2]-t[2];return n*n+e*e+a*a}function ot(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e}function ct(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function ut(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function ht(t,r){var n=r[0],e=r[1],a=r[2],s=n*n+e*e+a*a;return s>0&&(s=1/Math.sqrt(s)),t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t}function ft(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function lt(t,r,n){var e=r[0],a=r[1],s=r[2],i=n[0],o=n[1],c=n[2];return t[0]=a*c-s*o,t[1]=s*i-e*c,t[2]=e*o-a*i,t}function Mt(t,r,n,e){var a=r[0],s=r[1],i=r[2];return t[0]=a+e*(n[0]-a),t[1]=s+e*(n[1]-s),t[2]=i+e*(n[2]-i),t}function vt(t,r,n,e,a,s){var i=s*s,o=i*(2*s-3)+1,c=i*(s-2)+s,u=i*(s-1),h=i*(3-2*s);return t[0]=r[0]*o+n[0]*c+e[0]*u+a[0]*h,t[1]=r[1]*o+n[1]*c+e[1]*u+a[1]*h,t[2]=r[2]*o+n[2]*c+e[2]*u+a[2]*h,t}function gt(t,r,n,e,a,s){var i=1-s,o=i*i,c=s*s,u=o*i,h=3*s*o,f=3*c*i,l=c*s;return t[0]=r[0]*u+n[0]*h+e[0]*f+a[0]*l,t[1]=r[1]*u+n[1]*h+e[1]*f+a[1]*l,t[2]=r[2]*u+n[2]*h+e[2]*f+a[2]*l,t}function dt(t,r){r=r||1;var n=2*c()*Math.PI,e=2*c()-1,a=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=e*r,t}function mt(t,r,n){var e=r[0],a=r[1],s=r[2],i=n[3]*e+n[7]*a+n[11]*s+n[15];return i=i||1,t[0]=(n[0]*e+n[4]*a+n[8]*s+n[12])/i,t[1]=(n[1]*e+n[5]*a+n[9]*s+n[13])/i,t[2]=(n[2]*e+n[6]*a+n[10]*s+n[14])/i,t}function pt(t,r,n){var e=r[0],a=r[1],s=r[2];return t[0]=e*n[0]+a*n[3]+s*n[6],t[1]=e*n[1]+a*n[4]+s*n[7],t[2]=e*n[2]+a*n[5]+s*n[8],t}function yt(t,r,n){var e=n[0],a=n[1],s=n[2],i=n[3],o=r[0],c=r[1],u=r[2],h=a*u-s*c,f=s*o-e*u,l=e*c-a*o,M=a*l-s*f,v=s*h-e*l,g=e*f-a*h,d=2*i;return h*=d,f*=d,l*=d,M*=2,v*=2,g*=2,t[0]=o+h+M,t[1]=c+f+v,t[2]=u+l+g,t}function wt(t,r,n,e){var a=[],s=[];return a[0]=r[0]-n[0],a[1]=r[1]-n[1],a[2]=r[2]-n[2],s[0]=a[0],s[1]=a[1]*Math.cos(e)-a[2]*Math.sin(e),s[2]=a[1]*Math.sin(e)+a[2]*Math.cos(e),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function At(t,r,n,e){var a=[],s=[];return a[0]=r[0]-n[0],a[1]=r[1]-n[1],a[2]=r[2]-n[2],s[0]=a[2]*Math.sin(e)+a[0]*Math.cos(e),s[1]=a[1],s[2]=a[2]*Math.cos(e)-a[0]*Math.sin(e),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function bt(t,r,n,e){var a=[],s=[];return a[0]=r[0]-n[0],a[1]=r[1]-n[1],a[2]=r[2]-n[2],s[0]=a[0]*Math.cos(e)-a[1]*Math.sin(e),s[1]=a[0]*Math.sin(e)+a[1]*Math.cos(e),s[2]=a[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function xt(t,r){var n=t[0],e=t[1],a=t[2],s=r[0],i=r[1],o=r[2],c=Math.sqrt(n*n+e*e+a*a)*Math.sqrt(s*s+i*i+o*o),u=c&&ft(t,r)/c;return Math.acos(Math.min(Math.max(u,-1),1))}function qt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Tt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ft(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function It(t,r){var n=t[0],e=t[1],a=t[2],s=r[0],o=r[1],c=r[2];return Math.abs(n-s)<=i*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(e-o)<=i*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(a-c)<=i*Math.max(1,Math.abs(a),Math.abs(c))}a(B,{add:()=>X,angle:()=>xt,bezier:()=>gt,ceil:()=>J,clone:()=>N,copy:()=>$,create:()=>D,cross:()=>lt,dist:()=>_t,distance:()=>st,div:()=>St,divide:()=>H,dot:()=>ft,equals:()=>It,exactEquals:()=>Ft,floor:()=>K,forEach:()=>Qt,fromValues:()=>W,hermite:()=>vt,inverse:()=>ut,len:()=>Ct,length:()=>Y,lerp:()=>Mt,max:()=>rt,min:()=>tt,mul:()=>Et,multiply:()=>U,negate:()=>ct,normalize:()=>ht,random:()=>dt,rotateX:()=>wt,rotateY:()=>At,rotateZ:()=>bt,round:()=>nt,scale:()=>et,scaleAndAdd:()=>at,set:()=>G,sqrDist:()=>Vt,sqrLen:()=>Rt,squaredDistance:()=>it,squaredLength:()=>ot,str:()=>Tt,sub:()=>zt,subtract:()=>Z,transformMat3:()=>pt,transformMat4:()=>mt,transformQuat:()=>yt,zero:()=>qt});var Pt,zt=Z,Et=U,St=H,_t=st,Vt=it,Ct=Y,Rt=ot,Qt=(Pt=D(),function(t,r,n,e,a,s){var i,o;for(r||(r=3),n||(n=0),o=e?Math.min(e*r+n,t.length):t.length,i=n;i<o;i+=r)Pt[0]=t[i],Pt[1]=t[i+1],Pt[2]=t[i+2],a(Pt,Pt,s),t[i]=Pt[0],t[i+1]=Pt[1],t[i+2]=Pt[2];return t});!function(){var t,r=(t=new o(4),o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function jt(){var t=new o(4);return o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ot(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Lt(t,r,n){n*=.5;var e=Math.sin(n);return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=Math.cos(n),t}function kt(t,r){var n=2*Math.acos(r[3]),e=Math.sin(n/2);return e>i?(t[0]=r[0]/e,t[1]=r[1]/e,t[2]=r[2]/e):(t[0]=1,t[1]=0,t[2]=0),n}function Bt(t,r){var n=mr(t,r);return Math.acos(2*n*n-1)}function Dt(t,r,n){var e=r[0],a=r[1],s=r[2],i=r[3],o=n[0],c=n[1],u=n[2],h=n[3];return t[0]=e*h+i*o+a*u-s*c,t[1]=a*h+i*c+s*o-e*u,t[2]=s*h+i*u+e*c-a*o,t[3]=i*h-e*o-a*c-s*u,t}function Nt(t,r,n){n*=.5;var e=r[0],a=r[1],s=r[2],i=r[3],o=Math.sin(n),c=Math.cos(n);return t[0]=e*c+i*o,t[1]=a*c+s*o,t[2]=s*c-a*o,t[3]=i*c-e*o,t}function Yt(t,r,n){n*=.5;var e=r[0],a=r[1],s=r[2],i=r[3],o=Math.sin(n),c=Math.cos(n);return t[0]=e*c-s*o,t[1]=a*c+i*o,t[2]=s*c+e*o,t[3]=i*c-a*o,t}function Wt(t,r,n){n*=.5;var e=r[0],a=r[1],s=r[2],i=r[3],o=Math.sin(n),c=Math.cos(n);return t[0]=e*c+a*o,t[1]=a*c-e*o,t[2]=s*c+i*o,t[3]=i*c-s*o,t}function $t(t,r){var n=r[0],e=r[1],a=r[2];return t[0]=n,t[1]=e,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-e*e-a*a)),t}function Gt(t,r){var n=r[0],e=r[1],a=r[2],s=r[3],i=Math.sqrt(n*n+e*e+a*a),o=Math.exp(s),c=i>0?o*Math.sin(i)/i:0;return t[0]=n*c,t[1]=e*c,t[2]=a*c,t[3]=o*Math.cos(i),t}function Xt(t,r){var n=r[0],e=r[1],a=r[2],s=r[3],i=Math.sqrt(n*n+e*e+a*a),o=i>0?Math.atan2(i,s)/i:0;return t[0]=n*o,t[1]=e*o,t[2]=a*o,t[3]=.5*Math.log(n*n+e*e+a*a+s*s),t}function Zt(t,r,n){return Xt(t,r),dr(t,t,n),Gt(t,t),t}function Ut(t,r,n,e){var a,s,o,c,u,h=r[0],f=r[1],l=r[2],M=r[3],v=n[0],g=n[1],d=n[2],m=n[3];return(s=h*v+f*g+l*d+M*m)<0&&(s=-s,v=-v,g=-g,d=-d,m=-m),1-s>i?(a=Math.acos(s),o=Math.sin(a),c=Math.sin((1-e)*a)/o,u=Math.sin(e*a)/o):(c=1-e,u=e),t[0]=c*h+u*v,t[1]=c*f+u*g,t[2]=c*l+u*d,t[3]=c*M+u*m,t}function Ht(t){var r=c(),n=c(),e=c(),a=Math.sqrt(1-r),s=Math.sqrt(r);return t[0]=a*Math.sin(2*Math.PI*n),t[1]=a*Math.cos(2*Math.PI*n),t[2]=s*Math.sin(2*Math.PI*e),t[3]=s*Math.cos(2*Math.PI*e),t}function Jt(t,r){var n=r[0],e=r[1],a=r[2],s=r[3],i=n*n+e*e+a*a+s*s,o=i?1/i:0;return t[0]=-n*o,t[1]=-e*o,t[2]=-a*o,t[3]=s*o,t}function Kt(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function tr(t,r){var n,e=r[0]+r[4]+r[8];if(e>0)n=Math.sqrt(e+1),t[3]=.5*n,n=.5/n,t[0]=(r[5]-r[7])*n,t[1]=(r[6]-r[2])*n,t[2]=(r[1]-r[3])*n;else{var a=0;r[4]>r[0]&&(a=1),r[8]>r[3*a+a]&&(a=2);var s=(a+1)%3,i=(a+2)%3;n=Math.sqrt(r[3*a+a]-r[3*s+s]-r[3*i+i]+1),t[a]=.5*n,n=.5/n,t[3]=(r[3*s+i]-r[3*i+s])*n,t[s]=(r[3*s+a]+r[3*a+s])*n,t[i]=(r[3*i+a]+r[3*a+i])*n}return t}function rr(t,r,n,e){var a=.5*Math.PI/180;r*=a,n*=a,e*=a;var s=Math.sin(r),i=Math.cos(r),o=Math.sin(n),c=Math.cos(n),u=Math.sin(e),h=Math.cos(e);return t[0]=s*c*h-i*o*u,t[1]=i*o*h+s*c*u,t[2]=i*c*u-s*o*h,t[3]=i*c*h+s*o*u,t}function nr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var er,ar,sr,ir,or,cr,ur,hr=function(t){var r=new o(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},fr=function(t,r,n,e){var a=new o(4);return a[0]=t,a[1]=r,a[2]=n,a[3]=e,a},lr=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},Mr=function(t,r,n,e,a){return t[0]=r,t[1]=n,t[2]=e,t[3]=a,t},vr=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t},gr=Dt,dr=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t},mr=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},pr=function(t,r,n,e){var a=r[0],s=r[1],i=r[2],o=r[3];return t[0]=a+e*(n[0]-a),t[1]=s+e*(n[1]-s),t[2]=i+e*(n[2]-i),t[3]=o+e*(n[3]-o),t},yr=function(t){var r=t[0],n=t[1],e=t[2],a=t[3];return Math.hypot(r,n,e,a)},wr=yr,Ar=function(t){var r=t[0],n=t[1],e=t[2],a=t[3];return r*r+n*n+e*e+a*a},br=Ar,xr=function(t,r){var n=r[0],e=r[1],a=r[2],s=r[3],i=n*n+e*e+a*a+s*s;return i>0&&(i=1/Math.sqrt(i)),t[0]=n*i,t[1]=e*i,t[2]=a*i,t[3]=s*i,t},qr=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},Tr=function(t,r){var n=t[0],e=t[1],a=t[2],s=t[3],o=r[0],c=r[1],u=r[2],h=r[3];return Math.abs(n-o)<=i*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-c)<=i*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(a-u)<=i*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(s-h)<=i*Math.max(1,Math.abs(s),Math.abs(h))},Fr=(er=D(),ar=W(1,0,0),sr=W(0,1,0),function(t,r,n){var e=ft(r,n);return e<-.999999?(lt(er,ar,r),Ct(er)<1e-6&&lt(er,sr,r),ht(er,er),Lt(t,er,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(lt(er,r,n),t[0]=er[0],t[1]=er[1],t[2]=er[2],t[3]=1+e,xr(t,t))}),Ir=(ir=jt(),or=jt(),function(t,r,n,e,a,s){return Ut(ir,r,a,s),Ut(or,n,e,s),Ut(t,ir,or,2*s*(1-s)),t}),Pr=(cr=new o(9),o!=Float32Array&&(cr[1]=0,cr[2]=0,cr[3]=0,cr[5]=0,cr[6]=0,cr[7]=0),cr[0]=1,cr[4]=1,cr[8]=1,ur=cr,function(t,r,n,e){return ur[0]=n[0],ur[3]=n[1],ur[6]=n[2],ur[1]=e[0],ur[4]=e[1],ur[7]=e[2],ur[2]=-r[0],ur[5]=-r[1],ur[8]=-r[2],xr(t,tr(t,ur))}),zr={};function Er(){var t=new o(2);return o!=Float32Array&&(t[0]=0,t[1]=0),t}function Sr(t){var r=new o(2);return r[0]=t[0],r[1]=t[1],r}function _r(t,r){var n=new o(2);return n[0]=t,n[1]=r,n}function Vr(t,r){return t[0]=r[0],t[1]=r[1],t}function Cr(t,r,n){return t[0]=r,t[1]=n,t}function Rr(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}function Qr(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function jr(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}function Or(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t}function Lr(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function kr(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function Br(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t}function Dr(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t}function Nr(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function Yr(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t}function Wr(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t}function $r(t,r){var n=r[0]-t[0],e=r[1]-t[1];return Math.hypot(n,e)}function Gr(t,r){var n=r[0]-t[0],e=r[1]-t[1];return n*n+e*e}function Xr(t){var r=t[0],n=t[1];return Math.hypot(r,n)}function Zr(t){var r=t[0],n=t[1];return r*r+n*n}function Ur(t,r){return t[0]=-r[0],t[1]=-r[1],t}function Hr(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function Jr(t,r){var n=r[0],e=r[1],a=n*n+e*e;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t}function Kr(t,r){return t[0]*r[0]+t[1]*r[1]}function tn(t,r,n){var e=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=e,t}function rn(t,r,n,e){var a=r[0],s=r[1];return t[0]=a+e*(n[0]-a),t[1]=s+e*(n[1]-s),t}function nn(t,r){r=r||1;var n=2*c()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t}function en(t,r,n){var e=r[0],a=r[1];return t[0]=n[0]*e+n[2]*a,t[1]=n[1]*e+n[3]*a,t}function an(t,r,n){var e=r[0],a=r[1];return t[0]=n[0]*e+n[2]*a+n[4],t[1]=n[1]*e+n[3]*a+n[5],t}function sn(t,r,n){var e=r[0],a=r[1];return t[0]=n[0]*e+n[3]*a+n[6],t[1]=n[1]*e+n[4]*a+n[7],t}function on(t,r,n){var e=r[0],a=r[1];return t[0]=n[0]*e+n[4]*a+n[12],t[1]=n[1]*e+n[5]*a+n[13],t}function cn(t,r,n,e){var a=r[0]-n[0],s=r[1]-n[1],i=Math.sin(e),o=Math.cos(e);return t[0]=a*o-s*i+n[0],t[1]=a*i+s*o+n[1],t}function un(t,r){var n=t[0],e=t[1],a=r[0],s=r[1],i=Math.sqrt(n*n+e*e)*Math.sqrt(a*a+s*s),o=i&&(n*a+e*s)/i;return Math.acos(Math.min(Math.max(o,-1),1))}function hn(t){return t[0]=0,t[1]=0,t}function fn(t){return"vec2("+t[0]+", "+t[1]+")"}function ln(t,r){return t[0]===r[0]&&t[1]===r[1]}function Mn(t,r){var n=t[0],e=t[1],a=r[0],s=r[1];return Math.abs(n-a)<=i*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(e-s)<=i*Math.max(1,Math.abs(e),Math.abs(s))}a(zr,{add:()=>Rr,angle:()=>un,ceil:()=>Lr,clone:()=>Sr,copy:()=>Vr,create:()=>Er,cross:()=>tn,dist:()=>pn,distance:()=>$r,div:()=>mn,divide:()=>Or,dot:()=>Kr,equals:()=>Mn,exactEquals:()=>ln,floor:()=>kr,forEach:()=>An,fromValues:()=>_r,inverse:()=>Hr,len:()=>vn,length:()=>Xr,lerp:()=>rn,max:()=>Dr,min:()=>Br,mul:()=>dn,multiply:()=>jr,negate:()=>Ur,normalize:()=>Jr,random:()=>nn,rotate:()=>cn,round:()=>Nr,scale:()=>Yr,scaleAndAdd:()=>Wr,set:()=>Cr,sqrDist:()=>yn,sqrLen:()=>wn,squaredDistance:()=>Gr,squaredLength:()=>Zr,str:()=>fn,sub:()=>gn,subtract:()=>Qr,transformMat2:()=>en,transformMat2d:()=>an,transformMat3:()=>sn,transformMat4:()=>on,zero:()=>hn});var vn=Xr,gn=Qr,dn=jr,mn=Or,pn=$r,yn=Gr,wn=Zr,An=function(){var t=Er();return function(r,n,e,a,s,i){var o,c;for(n||(n=2),e||(e=0),c=a?Math.min(a*n+e,r.length):r.length,o=e;o<c;o+=n)t[0]=r[o],t[1]=r[o+1],s(t,t,i),r[o]=t[0],r[o+1]=t[1];return r}}(),bn=(1+Math.sqrt(5))/2,xn=(Math.PI,2*Math.PI/5),qn=Math.PI/5,Tn=Math.PI/10,Fn=2*Math.atan(bn),In=Math.PI-Fn,Pn=(Math.PI,Math.acos(-1/Math.sqrt(3-bn)),(Math.sqrt(5)-1)/2),zn=3-Math.sqrt(5),En=Math.sqrt(3-bn);Math.sqrt(3);s.setMatrixArrayType(Float64Array);var Sn=class t{constructor(t){this.vertices=t,this.isWindingCorrect()||this.vertices.reverse()}getArea(){let t=0;const r=this.vertices.length;for(let n=0;n<r;n++){const e=(n+1)%r;t+=(this.vertices[e][0]-this.vertices[n][0])*(this.vertices[e][1]+this.vertices[n][1])}return t}isWindingCorrect(){return this.getArea()>=0}getVertices(){return this.vertices}scale(t){for(const r of this.vertices)zr.scale(r,r,t);return this}rotate180(){for(const t of this.vertices)zr.negate(t,t);return this}reflectY(){for(const t of this.vertices)t[1]=-t[1];return this.vertices.reverse(),this}translate(t){for(const r of this.vertices)zr.add(r,r,t);return this}transform(t){for(const r of this.vertices)zr.transformMat2(r,r,t);return this}transform2d(t){for(const r of this.vertices)zr.transformMat2d(r,r,t);return this}clone(){return new t(this.vertices.map((t=>zr.clone(t))))}getCenter(){const t=this.vertices.length;return this.vertices.reduce(((r,n)=>[r[0]+n[0]/t,r[1]+n[1]/t]),[0,0])}containsPoint(t){if(!this.isWindingCorrect())throw new Error("Pentagon is not counter-clockwise");const r=this.vertices.length;let n=1;for(let e=0;e<r;e++){const a=this.vertices[e],s=this.vertices[(e+1)%r],i=a[0]-s[0],o=a[1]-s[1],c=t[0]-a[0],u=t[1]-a[1],h=i*u-o*c;if(h<0){const t=Math.sqrt(c*c+u*u);n=Math.min(n,h/t)}}return n}splitEdges(r){if(r<=1)return this;const n=[],e=this.vertices.length;for(let t=0;t<e;t++){const a=this.vertices[t],s=this.vertices[(t+1)%e];n.push(zr.clone(a));for(let t=1;t<r;t++){const e=t/r,i=zr.create();zr.lerp(i,a,s,e),n.push(i)}}return new t(n)}};s.setMatrixArrayType(Float64Array);var _n=[0,0],Vn=[0,1],Cn=[.7885966681787006,1.6149108024237764],Rn=[1.6171013659387945,1.054928690397459],Qn=[Math.cos(Tn),Math.sin(Tn)],jn=2*zr.length(Cn)*Math.cos(qn),On=qn-Math.atan2(Cn[1],Cn[0]),Ln=2*Pn/jn;[_n,Vn,Cn,Rn,Qn].forEach((t=>{zr.scale(t,t,Ln),zr.rotate(t,t,[0,0],On)}));var kn=new Sn([_n,Vn,Cn,Rn,Qn]),Bn=Math.atan2(Cn[1],Cn[0])-qn,Dn=Pn/Math.cos(qn),Nn=Bn+qn,Yn=[Dn*Math.cos(Nn),Dn*Math.sin(Nn)],Wn=Bn-qn,$n=[Dn*Math.cos(Wn),Dn*Math.sin(Wn)],Gn=new Sn([[0,0],Yn,$n]),Xn=M.fromValues(Yn[0],Yn[1],$n[0],$n[1]),Zn=(M.invert(M.create(),Xn),new Float64Array([-.0022392098386786394,21308606513250217e-22,-2.559257686421274e-9,33701965267802837e-28,-4667545312611249e-30,667492870384816e-32])),Un=new Float64Array([.0022392089963541657,28831978048607556e-22,5.08622073997266e-9,102018123778161e-25,21912872306767718e-30,49284235482523806e-33]);s.setMatrixArrayType(Float64Array);var Hn=new class{applyCoefficients(t,r){const n=Math.sin(t),e=Math.cos(t),a=2*(e-n)*(e+n);let s,i;return s=a*r[5]+r[4],i=a*s+r[3],s=a*i-s+r[2],i=a*s-i+r[1],s=a*i-s+r[0],t+2*n*e*s}forward(t){return this.applyCoefficients(t,Zn)}inverse(t){return this.applyCoefficients(t,Un)}};function Jn(t){return t*(Math.PI/180)}function Kn(t){return t*(180/Math.PI)}function te(t){return[zr.length(t),Math.atan2(t[1],t[0])]}function re(t){const r=Math.atan2(t[1],t[0]),n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[r,Math.acos(t[2]/n)]}function ne([t,r]){const n=Math.sin(r);return[n*Math.cos(t),n*Math.sin(t),Math.cos(r)]}var ee=93;function ae([t,r]){const n=Jn(t+ee),e=Jn(r),a=Hn.forward(e);return[n,Math.PI/2-a]}function se([t,r]){const n=Kn(t)-ee,e=Math.PI/2-r;return[n,Kn(Hn.inverse(e))]}s.setMatrixArrayType(Float64Array);var ie=Math.sqrt(5),oe=Math.sqrt(.2),ce=Math.sqrt((1-oe)/2),ue=Math.sqrt((1+oe)/2),he=.5,fe=Math.sqrt((2.5-ie)/10),le=Math.sqrt((2.5+ie)/10),Me=Math.sqrt((1+oe)/8),ve=Math.sqrt((1-oe)/8),ge=Math.sqrt((3-ie)/8),de=Math.sqrt((3+ie)/8),me=[[0,0],[ce,0],[fe,he],[-Me,ge],[-Me,-ge],[fe,-he],[-ue,0],[-ve,-de],[le,-he],[le,he],[-ve,de],[0,0]].map((([t,r])=>[-r,t])).map(((t,r)=>0===r?[0,0,0,1]:11===r?[0,-1,0,0]:[...t,0,r<6?ue:ce]));s.setMatrixArrayType(Float64Array);var pe=["vu","uw","vw","vw","vw"],ye=["wu","uw","vw","vu","uw"],we=["wu","uv","wv","wu","uw"],Ae=["vu","uv","wv","wu","uw"],be=[pe,Ae,we,ye,we,Ae,we,ye,ye,ye,Ae,Ae],xe=[4,2,3,2,0,4,3,2,2,0,3,0],qe=[0,1,2,4,3,5,7,8,6,11,10,9],Te=[];var Fe=0;function Ie(t,r,n){if(Fe>11)throw new Error(`Too many origins: ${Fe}`);const e=k.create();k.conjugate(e,n);const a={id:Fe,axis:t,quat:n,inverseQuat:e,angle:r,orientation:be[Fe],firstQuintant:xe[Fe]};Te.push(a),Fe++}!function(){Ie([0,0],0,me[0]);for(let t=0;t<5;t++){const r=t*xn,n=r+qn;Ie([r,In],qn,me[t+1]),Ie([n,Math.PI-In],qn,me[(t+3)%5+6])}Ie([0,Math.PI],0,me[11])}(),Te.sort(((t,r)=>qe.indexOf(t.id)-qe.indexOf(r.id))),Te.forEach(((t,r)=>t.id=r));var Pe=class{forward([t,r]){return[Math.tan(r),t]}inverse([t,r]){return[r,Math.atan(t)]}},ze=B.create(),Ee=B.create(),Se=B.create(),_e=B.create();function Ve(t,r){B.lerp(ze,t,r,.5),B.normalize(ze,ze),B.cross(ze,t,ze);const n=B.length(ze);if(n<1e-8){const n=B.subtract(B.create(),t,r);return.5*B.length(n)}return n}function Ce(t,r,n,e){const a=B.angle(r,n);if(a<1e-12)return B.lerp(t,r,n,e);const s=Math.sin((1-e)*a)/Math.sin(a),i=Math.sin(e*a)/Math.sin(a),o=B.scale(B.create(),r,s),c=B.scale(B.create(),n,i);return B.add(t,o,c)}s.setMatrixArrayType(Float64Array);var Re=B.create(),Qe=B.create(),je=B.create(),Oe=B.create(),Le=class{constructor(t){this._area=null,this.vertices=t,Object.freeze(this.vertices)}getBoundary(t=1,r=!0){const n=[],e=this.vertices.length;for(let a=0;a<e*t;a++){const r=a/t;n.push(this.slerp(r))}return r&&n.push(n[0]),n}slerp(t){const r=this.vertices.length,n=t%1,e=Math.floor(t%r),a=(e+1)%r;return Ce(B.create(),this.vertices[e],this.vertices[a],n)}getTransformedVertices(t){const r=this.vertices.length,n=Math.floor(t%r),e=(n+1)%r,a=(n+r-1)%r,s=B.clone(this.vertices[n]),i=B.clone(this.vertices[e]),o=B.clone(this.vertices[a]);return B.sub(i,i,s),B.sub(o,o,s),[s,i,o]}containsPoint(t){const r=this.vertices.length;let n=1/0;for(let e=0;e<r;e++){const[r,a,s]=this.getTransformedVertices(e),i=B.sub(B.create(),t,r);B.normalize(i,i),B.normalize(a,a),B.normalize(s,s);const o=B.cross(B.create(),a,i),c=B.cross(B.create(),i,s),u=B.dot(r,o),h=B.dot(r,c);n=Math.min(n,u,h)}return n}getTriangleArea(t,r,n){B.lerp(Re,r,n,.5),B.lerp(Qe,n,t,.5),B.lerp(je,t,r,.5),B.normalize(Re,Re),B.normalize(Qe,Qe),B.normalize(je,je);const e=(a=Re,s=Qe,i=je,B.cross(Ee,s,i),B.dot(a,Ee));var a,s,i;const o=Math.max(-1,Math.min(1,e));return Math.abs(o)<1e-8?2*o:2*Math.asin(o)}getArea(){return null===this._area&&(this._area=this._getArea()),this._area}_getArea(){if(this.vertices.length<3)return 0;if(3===this.vertices.length)return this._area=this.getTriangleArea(this.vertices[0],this.vertices[1],this.vertices[2]),this._area;B.set(Oe,0,0,0);for(const r of this.vertices)B.add(Oe,Oe,r);B.normalize(Oe,Oe);let t=0;for(let r=0;r<this.vertices.length;r++){const n=this.vertices[r],e=this.vertices[(r+1)%this.vertices.length],a=this.getTriangleArea(Oe,n,e);isNaN(a)||(t+=a)}return this._area=t,this._area}isWindingCorrect(){this.getArea()}};s.setMatrixArrayType(Float64Array);var ke=class extends Le{constructor(t){if(3!==t.length)throw new Error("SphericalTriangleShape requires exactly 3 vertices");super(t)}};s.setMatrixArrayType(Float64Array);var Be=class{forward(t,r,n){const[e,a,s]=r,i=new ke([e,a,s]),o=B.subtract(B.create(),t,e);B.normalize(o,o);const c=function(t,r,n,e,a){B.cross(Ee,e,a);const s=B.dot(r,Ee),i=B.dot(n,Ee);return B.scale(Se,r,i),B.scale(_e,n,s),B.sub(t,_e,Se)}(B.create(),e,o,a,s);B.normalize(c,c);const u=Ve(e,t)/Ve(e,c),h=u/i.getArea();return function(t,[r,n,e]){return[t[0]*r[0]+t[1]*n[0]+t[2]*e[0],t[0]*r[1]+t[1]*n[1]+t[2]*e[1]]}([1-u,h*new ke([e,c,s]).getArea(),h*new ke([e,a,c]).getArea()],n)}inverse(t,r,n){const[e,a,s]=n,i=new ke([e,a,s]),o=function(t,[r,n,e]){const a=[r[0]-e[0],r[1]-e[1]],s=[e[0]-n[0],e[1]-n[1]],i=[t[0]-e[0],t[1]-e[1]],o=s[0]*a[1]-s[1]*a[0],c=(s[0]*i[1]-s[1]*i[0])/o,u=(a[0]*i[1]-a[1]*i[0])/o;return[c,u,1-(c+u)]}(t,r),c=1-1e-14;if(o[0]>c)return e;if(o[1]>c)return a;if(o[2]>c)return s;const u=B.create();B.cross(u,a,s);const h=i.getArea(),f=1-o[0],l=o[2]/f*h,M=Math.sin(l),v=Math.sin(l/2),g=2*v*v,d=B.dot(e,a),m=B.dot(a,s),p=B.dot(s,e),y=B.length(u),w=M*B.dot(e,u)+g*(d*m-p),A=g*y*(1+d),b=2/Math.acos(m)*Math.atan2(A,w),x=Ce(B.create(),a,s,b),q=Ve(e,x);return Ce([0,0,0],e,x,this.safeAcos(f*q)/this.safeAcos(q))}safeAcos(t){return t<.001?2*t+t*t*t/3:Math.acos(1-2*t*t)}};s.setMatrixArrayType(Float64Array);var De=-1,Ne=1,Ye=([t,r])=>zr.fromValues(t-r,r),We=zr.fromValues(1,0),$e=zr.fromValues(0,1),Ge=zr.negate(zr.create(),We),Xe=zr.negate(zr.create(),$e),Ze=zr.fromValues(0,0),Ue=(t,[r,n])=>{let e=Ze,a=Ze;switch(r===Ne&&n===Ne?(e=We,a=$e):r===De&&n===Ne?(e=Xe,a=Ge):r===Ne&&n===De?(e=$e,a=We):r===De&&n===De&&(e=Ge,a=Xe),t){case 0:return Ze;case 1:return e;case 2:return zr.add(zr.create(),a,e);case 3:return zr.scaleAndAdd(zr.create(),a,e,2);default:throw new Error(`Invalid Quaternary value: ${t}`)}},He=t=>[[Ne,Ne],[Ne,De],[Ne,Ne],[De,Ne]][t],Je=zr.fromValues(-1,1);function Ke(t){return Array.from({length:t.length},((r,n)=>t.indexOf(n)))}var ta=[0,1,3,4,5,6,7,2],ra=[0,1,2,7,3,4,5,6],na=(Ke(ta),Ke(ra),(t,r,n,e,a)=>{if(r<=0)return;const s=t[r]||0,i=t[r-1];let o=!0,c=!0;if(e!==(0===n[0]+n[1])?(o=1===s||2===s,c=1===s):(o=s<2,c=0===s),!o)return;const u=c?i:i+4,h=a[u];t[r-1]=h%4,t[r]=(s+4+Math.floor(h/4)-Math.floor(u/4))%4}),ea=(t,r,n)=>{let e=BigInt(t);const a="wv"===n||"vw"===n,s="wu"===n||"uw"===n;("vu"===n||"wu"===n||"vw"===n)&&(e=(1n<<BigInt(2*r))-e-1n);const i=aa(e,r,a,s);if(s){const{offset:[t,r],flips:[n,e]}=i;i.offset=[r,t],n===De&&zr.add(i.offset,i.offset,Je),e===De&&zr.subtract(i.offset,i.offset,Je)}if(a){const{offset:[t,n],flips:e}=i,a=(1<<r)-(t+n);e[0]=-e[0],i.offset[1]=a,i.flips=e}return i},aa=(t,r,n,e)=>{const a=zr.create(),s=[Ne,Ne];let i=BigInt(t);const o=[];for(;i>0n||o.length<r;)o.push(Number(i%4n)),i>>=2n;const c=e?ra:ta;for(let u=o.length-1;u>=0;u--)na(o,u,s,n,c),zr.multiply(s,s,He(o[u]));s[0]=Ne,s[1]=Ne;for(let u=o.length-1;u>=0;u--){zr.scale(a,a,2);const t=Ue(o[u],s);zr.add(a,a,t),zr.multiply(s,s,He(o[u]))}return{flips:s,k:o[0]||0,offset:Ye(a)}};s.setMatrixArrayType(Float64Array);var sa=!1,ia=zr.clone($n),oa=zr.negate(zr.create(),$n),ca=[0,1,2,3,4].map((t=>{const r=M.create();return M.fromRotation(r,xn*t),r})),ua=zr.create();function ha(t){const r=Gn.clone();return r.transform(ca[t]),r}s.setMatrixArrayType(Float64Array);s.setMatrixArrayType(Float64Array);var fa=new class{constructor(){if(this.vertices=[],this.invocations=0,this.addFaceCenters(),this.addVertices(),this.addMidpoints(),62!==this.vertices.length)throw new Error("Failed to construct CRS: vertices length is not 62");Object.freeze(this.vertices)}getVertex(t){this.invocations++,1e4===this.invocations&&console.warn("Too many CRS invocations, results should be cached");for(const r of this.vertices)if(B.distance(t,r)<1e-5)return r;throw new Error("Failed to find vertex in CRS")}addFaceCenters(){Te.forEach((t=>this.add(ne(t.axis))))}addVertices(){const t=Math.atan(zn);for(const r of Te)for(let n=0;n<5;n++){const e=ne([(2*n+1)*Math.PI/5+r.angle,t]);B.transformQuat(e,e,r.quat),this.add(e)}}addMidpoints(){const t=Math.atan(Pn);for(const r of Te)for(let n=0;n<5;n++){const e=ne([2*n*Math.PI/5+r.angle,t]);B.transformQuat(e,e,r.quat),this.add(e)}}add(t){const r=B.normalize(B.create(),t);return!this.vertices.find((t=>B.distance(r,t)<1e-5))&&(this.vertices.push(r),!0)}},la=2,Ma=30,va=58n,ga=0x3ffffffffffffffn;function da(t){const r=function(t){let r=Ma-1,n=t>>1n;for(;r>-1&&0n===(0b1n&n);)r-=1,n>>=r<la?1n:2n;return r}(t);if(-1===r)return{origin:Te[0],segment:0,S:0n,resolution:r};const n=Number(t>>58n);let e,a;if(0===r){e=Te[n],a=0}else{const t=Math.floor(n/5);e=Te[t],a=(n+e.firstQuintant)%5}if(!e)throw new Error(`Could not parse origin: ${n}`);if(r<la)return{origin:e,segment:a,S:0n,resolution:r};const s=BigInt(2*(r-la+1));return{origin:e,segment:a,S:(t&ga)>>va-s,resolution:r}}s.setMatrixArrayType(Float64Array);M.create();var ma=new class{constructor(){this.faceTriangles=[],this.sphericalTriangles=[],this.polyhedral=new Be,this.gnomonic=new Pe}forward(t,r){const n=Te[r],e=ne(t),a=B.create();B.transformQuat(a,e,n.inverseQuat);const s=re(a),i=this.gnomonic.forward(s);i[1]=i[1]-n.angle;const o=this.getFaceTriangleIndex(i),c=this.shouldReflect(i);let u=this.getFaceTriangle(o,c,!1),h=this.getSphericalTriangle(o,r,c);return this.polyhedral.forward(e,h,u)}inverse(t,r){const n=te(t),e=this.getFaceTriangleIndex(n),a=this.shouldReflect(n),s=this.getFaceTriangle(e,a,!1),i=this.getSphericalTriangle(e,r,a);return re(this.polyhedral.inverse(t,s,i))}shouldReflect(t){const[r,n]=t,e=function([t,r]){return[t*Math.cos(r),t*Math.sin(r)]}([r,this.normalizeGamma(n)])[0];return e>Pn}getFaceTriangleIndex([t,r]){return(Math.floor(r/qn)+10)%10}getFaceTriangle(t,r=!1,n=!1){let e=t;return r&&(e+=n?20:10),this.faceTriangles[e]||(this.faceTriangles[e]=r?this._getReflectedFaceTriangle(t,n):this._getFaceTriangle(t),Object.freeze(this.faceTriangles[e])),this.faceTriangles[e]}_getFaceTriangle(t){const r=Math.floor((t+1)/2)%5,[n,e,a]=ha(r).getVertices(),s=zr.create();zr.lerp(s,e,a,.5);return t%2==0?[n,s,e]:[n,a,s]}_getReflectedFaceTriangle(t,r=!1){let[n,e,a]=this._getFaceTriangle(t).map((t=>zr.clone(t)));const s=t%2==0;zr.negate(n,n);const i=s?e:a;return zr.scaleAndAdd(n,n,i,r?1+1/Math.cos(In):2),[n,a,e]}getSphericalTriangle(t,r,n=!1){let e=10*r+t;return n&&(e+=120),this.sphericalTriangles[e]||(this.sphericalTriangles[e]=this._getSphericalTriangle(t,r,n),Object.freeze(this.sphericalTriangles[e])),this.sphericalTriangles[e]}_getSphericalTriangle(t,r,n=!1){const e=Te[r];return this.getFaceTriangle(t,n,!0).map((t=>{const[r,n]=te(t),a=[r,n+e.angle],s=ne(this.gnomonic.inverse(a));return B.transformQuat(s,s,e.quat),fa.getVertex(s)}))}normalizeGamma(t){const r=t/xn;return(r-Math.round(r))*xn}};function pa({S:t,segment:r,origin:n,resolution:e}){const{quintant:a,orientation:s}=function(t,r){const n=r.orientation,e=n===pe||n===ye?-1:1,a=(t-r.firstQuintant+5)%5,s=n[a];return{quintant:(r.firstQuintant+e*a+5)%5,orientation:s}}(r,n);if(e===la-1){return ha(a)}if(e===la-2)return function(){const t=[];for(const r of ca)t.push(zr.transformMat2(zr.create(),Yn,r));return t.reverse(),new Sn(t)}();const i=e-la+1;return function(t,r,n){const e=(sa?Gn:kn).clone();zr.transformMat2(ua,n.offset,Xn),n.flips[0]===Ne&&n.flips[1]===De&&e.rotate180();const{k:a}=n,s=n.flips[0]+n.flips[1];return((-2===s||2===s)&&a>1||0===s&&(0===a||3===a))&&e.reflectY(),n.flips[0]===De&&n.flips[1]===De?e.rotate180():n.flips[0]===De?e.translate(oa):n.flips[1]===De&&e.translate(ia),e.translate(ua),e.scale(1/2**t),e.transform(ca[r]),e}(i,a,ea(t,i,s))}function ya(t,{closedRing:r=!0,segments:n="auto"}={closedRing:!0,segments:"auto"}){const{S:e,segment:a,origin:s,resolution:i}=da(t);"auto"===n&&(n=Math.max(1,Math.pow(2,6-i)));const o=function(t){const r=t.map((t=>ne(ae(t)))),n=B.create();for(const s of r)B.add(n,n,s);B.normalize(n,n);let[e,a]=se(re(n));return(a>89.99||a<-89.99)&&(e=t[0][0]),e=((e+180)%360+360)%360-180,t.map((t=>{let[r,n]=t;for(;r-e>180;)r-=360;for(;r-e<-180;)r+=360;return[r,n]}))}(pa({S:e,segment:a,origin:s,resolution:i}).splitEdges(n).getVertices().map((t=>ma.inverse(t,s.id))).map((t=>se(t))));return r&&o.push(o[0]),o.reverse(),o}function wa(t){return BigInt(`0x${t}`)}var Aa=6371007.2;Math.PI;s.setMatrixArrayType(Float64Array)}}]);